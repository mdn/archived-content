<p> </p>

<div class="warning">
<p>Support for extensions using XUL/XPCOM or the Add-on SDK was removed in Firefox 57, released November 2017. As there is no supported version of Firefox enabling these technologies, this page will be removed by December 2020.</p>

<p>Add-ons using the techniques described in this document are considered a legacy technology in Firefox. Don't use these techniques to develop new add-ons. Use <a href="/en-US/Add-ons/WebExtensions">WebExtensions</a> instead. If you maintain an add-on which uses the techniques described here, consider migrating it to use WebExtensions.</p>

<p><strong>Starting from <a href="https://wiki.mozilla.org/RapidRelease/Calendar">Firefox 53</a>, no new legacy add-ons will be accepted on addons.mozilla.org (AMO) for desktop Firefox and Firefox for Android.</strong></p>

<p><strong>Starting from <a href="https://wiki.mozilla.org/RapidRelease/Calendar">Firefox 57</a>, only extensions developed using WebExtensions APIs will be supported on Desktop Firefox and Firefox for Android. </strong></p>

<p>Even before Firefox 57, changes coming up in the Firefox platform will break many legacy extensions. These changes include multiprocess Firefox (e10s), sandboxing, and multiple content processes. Legacy extensions that are affected by these changes should migrate to use WebExtensions APIs if they can. See the <a href="https://blog.mozilla.org/addons/2017/02/16/the-road-to-firefox-57-compatibility-milestones/">"Compatibility Milestones" document</a> for more information.</p>

<p>A wiki page containing <a href="https://wiki.mozilla.org/Add-ons/developer/communication">resources, migration paths, office hours, and more</a>, is available to help developers transition to the new technologies.</p>
</div>

<section class="Quick_links" id="Quick_Links">
<ol>
 <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions"><strong>Browser extensions</strong></a></li>
 <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions#Getting_started">Getting started</a>
  <ol>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/What_are_WebExtensions">What are extensions?</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Your_first_WebExtension">Your first extension</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Your_second_WebExtension">Your second extension</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Anatomy_of_a_WebExtension">Anatomy of an extension</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Examples">Example extensions</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/What_next_">What next?</a></li>
  </ol>
 </li>
 <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions#Concepts">Concepts</a>
  <ol>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Using_the_JavaScript_APIs">Using the JavaScript APIs</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Content_scripts">Content scripts</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Match_patterns">Match patterns</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Working_with_files">Working with files</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Internationalization">Internationalization</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Security_best_practices">Security best practices</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Content_Security_Policy">Content Security Policy</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Native_messaging">Native messaging</a></li>
  </ol>
 </li>
 <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions#User_Interface">User interface</a>
  <ol>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface">User Interface</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Browser_action">Toolbar button</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Page_actions">Address bar button</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Sidebars">Sidebars</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Context_menu_items">Context menu items</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Options_pages">Options page</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Extension_pages">Extension pages</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Notifications">Notifications</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Omnibox">Address bar suggestions</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/devtools_panels">Developer tools panels</a></li>
  </ol>
 </li>
 <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions#How_to">How to</a>
  <ol>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Intercept_HTTP_requests">Intercept HTTP requests</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Modify_a_web_page">Modify a web page</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Safely_inserting_external_content_into_a_page">Insert external content</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Add_a_button_to_the_toolbar">Add a button to the toolbar</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Implement_a_settings_page">Implement a settings page</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Working_with_the_Tabs_API">Work with the Tabs API</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Work_with_the_Bookmarks_API">Work with the Bookmarks API</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Work_with_the_Cookies_API">Work with the Cookies API</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Work_with_contextual_identities">Work with contextual identities</a></li>
  </ol>
 </li>
 <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions#Porting">Porting</a>
  <ol>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Porting_a_Google_Chrome_extension">Porting a Google Chrome extension</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Porting_a_legacy_Firefox_add-on">Porting a legacy Firefox extension</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Embedded_WebExtensions">Embedded WebExtensions</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Comparison_with_the_Add-on_SDK">Comparison with the Add-on SDK</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Comparison_with_XUL_XPCOM_extensions">Comparison with XUL/XPCOM extensions</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Chrome_incompatibilities">Chrome incompatibilities</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Differences_between_desktop_and_Android">Differences between desktop and Android</a></li>
  </ol>
 </li>
 <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions#Firefox_workflow">Firefox workflow</a>
  <ol>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/User_experience_best_practices">User Experience</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Temporary_Installation_in_Firefox">Temporary Installation in Firefox</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Debugging">Debugging</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Testing_persistent_and_restart_features">Testing persistent and restart features</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Developing_WebExtensions_for_Firefox_for_Android">Developing for Firefox for Android</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Getting_started_with_web-ext">Getting started with web-ext</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/web-ext_command_reference">web-ext command reference</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/WebExtensions_and_the_Add-on_ID">Extensions and the Add-on ID</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Request_the_right_permissions">Request the right permissions</a></li>
  </ol>
 </li>
 <li data-default-state="closed"><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API">JavaScript APIs</a>
  <ol>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Browser_support_for_JavaScript_APIs">Browser support for JavaScript APIs</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/alarms">alarms</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/bookmarks">bookmarks</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/browserAction">browserAction</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/browserSettings">browserSettings</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/browsingData">browsingData</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/clipboard">clipboard</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/commands">commands</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/contentScripts">contentScripts</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/contextualIdentities">contextualIdentities</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/cookies">cookies</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/devtools.inspectedWindow">devtools.inspectedWindow</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/devtools.network">devtools.network</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/devtools.panels">devtools.panels</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/dns">dns</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/downloads">downloads</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/events">events</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/extension">extension</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/extensionTypes">extensionTypes</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/find">find</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/history">history</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/i18n">i18n</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/identity">identity</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/idle">idle</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/management">management</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/menus">menus</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/notifications">notifications</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/omnibox">omnibox</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/pageAction">pageAction</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/permissions">permissions</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/pkcs11">pkcs11</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/privacy">privacy</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/proxy">proxy</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/runtime">runtime</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/search">search</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/sessions">sessions</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/sidebarAction">sidebarAction</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/storage">storage</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs">tabs</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/theme">theme</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/topSites">topSites</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/types">types</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/webNavigation">webNavigation</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/webRequest">webRequest</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/windows">windows</a></li>
  </ol>
 </li>
 <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json">Manifest keys</a>
  <ol>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/applications">applications</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/author">author</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/background">background</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/browser_action">browser_action</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/chrome_settings_overrides">chrome_settings_overrides</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/chrome_url_overrides">chrome_url_overrides</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/commands">commands</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/content_scripts">content_scripts</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/content_security_policy">content_security_policy</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/default_locale">default_locale</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/description">description</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/developer">developer</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/devtools_page">devtools_page</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/homepage_url">homepage_url</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/icons">icons</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/incognito">incognito</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/manifest_version">manifest_version</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/name">name</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/omnibox">omnibox</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/optional_permissions">optional_permissions</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/options_ui">options_ui</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/page_action">page_action</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/permissions">permissions</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/protocol_handlers">protocol_handlers</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/short_name">short_name</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/sidebar_action">sidebar_action</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/theme">theme</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/version">version</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/version_name">version_name</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/web_accessible_resources">web_accessible_resources</a></li>
  </ol>
 </li>
 <li><a href="/en-US/docs/Mozilla/Add-ons/Themes"><strong>Themes</strong></a></li>
 <li><a href="/en-US/docs/Mozilla/Add-ons/Themes/Theme_concepts">Browser themes</a>
  <ol>
   <li><a href="/en-US/docs/Mozilla/Add-ons/Themes/Theme_concepts">Browser theme concepts</a></li>
  </ol>
 </li>
 <li><a href="/en-US/docs/Mozilla/Add-ons/Themes/Lightweight_themes">Lightweight themes</a>
  <ol>
   <li><a href="/en-US/docs/Mozilla/Add-ons/Themes/Lightweight_themes">Lightweight themes</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/Themes/Lightweight_Themes/FAQ">Lightweight themes FAQ</a></li>
  </ol>
 </li>
 <li><a href="/en-US/docs/Mozilla/Add-ons/Distribution"><strong>Publishing and Distribution</strong></a></li>
 <li><a href="/en-US/docs/Mozilla/Add-ons/Distribution">Publishing add-ons</a>
  <ol>
   <li><a href="/en-US/docs/Mozilla/Add-ons/Distribution">Signing and distribution overview</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Package_your_extension_">Package your extension</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/Distribution/Submitting_an_add-on">Submit an add-on</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/Source_Code_Submission">Source code submission</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/Distribution/Resources_for_publishers">Resources for publishers</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/Listing">Creating an appealing listing</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/AMO/Policy/Reviews">Review policies</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/AMO/Policy/Agreement">Developer agreement</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/AMO/Policy/Featured">Featured add-ons</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/Distribution/Retiring_your_extension">Retiring your extension</a></li>
  </ol>
 </li>
 <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Alternative_distribution_options">Distributing add-ons</a>
  <ol>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Alternative_distribution_options/Sideloading_add-ons">For sideloading</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Alternative_distribution_options/Add-ons_for_desktop_apps">For desktop apps</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Alternative_distribution_options/Add-ons_in_the_enterprise">For an enterprise</a></li>
  </ol>
 </li>
 <li><a href="https://discourse.mozilla.org/c/add-ons"><strong>Community and Support</strong></a></li>
 <li><a href="#">Channels</a>
  <ol>
   <li><a href="https://blog.mozilla.org/addons">Add-ons blog</a></li>
   <li><a href="https://discourse.mozilla.org/c/add-ons">Add-on forums</a></li>
   <li><a href="http://stackoverflow.com/questions/tagged/firefox-addon">Stack Overflow</a></li>
   <li><a href="/en-US/docs/Mozilla/Add-ons/#Contact_us">Contact us</a></li>
  </ol>
 </li>
</ol>
</section>

<p> </p>

<div class="note">
<p>Experimental</p>
</div>

<p><span class="seoSummary">Add a toolbar to the Firefox user interface. </span>A toolbar is a horizontal strip of user interface real estate. Like a panel, a toolbar's content is specified using HTML. Unlike a panel, a toolbar:</p>

<ul>
 <li>does not overlap with any web content</li>
 <li>is persistent, remaining visible until the user chooses to close it</li>
 <li>is a fixed size, and appears in a fixed location</li>
</ul>

<h2 id="Usage">Usage</h2>

<h3 id="Creating_and_destroying_toolbars">Creating and destroying toolbars</h3>

<p>You don't specify toolbar content directly: instead, you create other UI components and supply them to the <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_toolbar#Toolbar(options)"><code>Toolbar</code> constructor</a>. You can supply three sorts of UI components:</p>

<ul>
 <li><a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_button_action">action buttons</a></li>
 <li><a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_button_toggle">toggle buttons</a></li>
 <li><a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_frame">frames</a></li>
</ul>

<p>This add-on builds part of the user interface for a music player using action buttons for the controls and a frame to display art and the currently playing song:</p>

<pre class="brush: js">var { ActionButton } = require('sdk/ui/button/action');
var { Toolbar } = require("sdk/ui/toolbar");
var { Frame } = require("sdk/ui/frame");

var previous = ActionButton({
  id: "previous",
  label: "previous",
  icon: "./icons/previous.png"
});

var next = ActionButton({
  id: "next",
  label: "next",
  icon: "./icons/next.png"
});

var play = ActionButton({
  id: "play",
  label: "play",
  icon: "./icons/play.png"
});

var frame = new Frame({
  url: "./frame-player.html"
});

var toolbar = Toolbar({
  title: "Player",
  items: [previous, next, play, frame]
});</pre>

<p>The toolbar appears just above the content window:</p>

<p><img alt="" src="https://mdn.mozillademos.org/files/7321/toolbar2.png" style="display: block; margin-left: auto; margin-right: auto;">To destroy a <code>Toolbar</code> call its <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_toolbar#destroy()"><code>destroy()</code></a> method.</p>

<h3 id="Showing_and_hiding_toolbars">Showing and hiding toolbars</h3>

<p>By default, a toolbar is shown when it is created, although you can specify that a toolbar should be hidden initially by passing <code>hidden:true</code> as an option in its constructor.</p>

<p>After that, though, you can't show or hide the toolbar programmatically. Toolbars get a close button at the right-hand side, and users can show or hide the toolbar using the Firefox "View/Toolbars" menu, alongside built-in toolbars like the Bookmarks Toolbar.</p>

<p>Hidden state persists even over create/destroy cycles: if a toolbar is created, then hidden, then destroyed, and another toolbar with the same <code>title</code> is then created, the new toolbar will be in the hidden state.</p>

<h3 id="Toolbar_events">Toolbar events</h3>

<p>Toolbars get <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_toolbar#attach"><code>attach</code></a> and <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_toolbar#detach"><code>detach</code></a> events when their content is loaded and unloaded, and <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_toolbar#show"><code>show</code></a> and <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_toolbar#hide"><code>hide</code></a> events when the uses shows or hides them.</p>

<h3 id="Working_with_multiple_browser_windows">Working with multiple browser windows</h3>

<p>There's only a single toolbar for all browser windows, so operations like show and hide work across all browser windows. If you need to customize content for a particular browser window, you can do that by <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_frame#From_add-on_to_a_specific_frame">messaging the window-specific <code>Frame</code></a> hosted by that toolbar.</p>

<h2 id="Globals">Globals</h2>

<h3 id="Constructors">Constructors</h3>

<h4 class="addon-sdk-api-name" id="Toolbar(options)"><code>Toolbar(options)</code></h4>

<p>Creates a toolbar. The only mandatory option is <code>title</code>, but for the toolbar to contain any actual content, the <code>items</code> parameter must also be supplied, and must contain at least object. This add-on creates a toolbar containing one button and a frame:</p>

<pre class="brush: js">var { ActionButton } = require('sdk/ui/button/action');
var { Frame } = require("sdk/ui/frame");
var { Toolbar } = require("sdk/ui/toolbar");

var button = ActionButton({
  id: "my-button",
  label: "my-button",
  icon: "./my-button.png"
});

var frame = new Frame({
  url: "./my-frame.html"
});

var toolbar = Toolbar({
  title: "Player",
  items: [button, frame]
});</pre>

<p>This add-on creates a toolbar with one frame, that's hidden initially, and that logs <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_toolbar#show"><code>show</code></a> and <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_toolbar#hide"><code>hide</code></a> events:</p>

<pre class="brush: js">var { Toolbar } = require("sdk/ui/toolbar");
var { Frame } = require("sdk/ui/frame");

var frame = new Frame({
  url: "./frame.html"
});

var toolbar = Toolbar({
  title: "My toolbar",
  items: [frame],
  hidden: true,
  onShow: showing,
  onHide: hiding
});

function showing(e) {
  console.log("showing");
  console.log(e);
}

function hiding(e) {
  console.log("hiding");
  console.log(e);
}</pre>

<h5 id="Parameters">Parameters</h5>

<p><strong>options : object</strong><br>
 Required options:</p>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">Name</th>
   <th scope="col">Type</th>
   <th scope="col"> </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>title</td>
   <td>string</td>
   <td>
    <p>The toolbar's title. This appears as the name of the toolbar in the Firefox "Toolbars" menu. It must be unique.</p>
   </td>
  </tr>
 </tbody>
</table>

<p>Optional options:</p>

<table class="standard-table">
 <thead>
  <tr>
   <th scope="col">Name</th>
   <th scope="col">Type</th>
   <th scope="col"> </th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>items</td>
   <td>array</td>
   <td>
    <div class="geckoVersionNote">
    <p>Adding buttons to toolbars is only supported from Firefox 30 onwards. In Firefox 29, you can only add frames.</p>
    </div>

    <p>An array of items to appear in the toolbar. Each item in <code>items</code> must be an <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_button_action">action button</a>, a <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_button_toggle">toggle button</a>, or a <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_frame">frame</a> instance. Buttons each take up a fixed width. If more than one frame is supplied here, the frames each occupy an equal vertical strip of the toolbar.</p>
   </td>
  </tr>
  <tr>
   <td>hidden</td>
   <td>boolean</td>
   <td>
    <p>Boolean indicating whether the frame should be hidden initially or not. Defaults to <code>false</code>.</p>
   </td>
  </tr>
  <tr>
   <td>onAttach</td>
   <td>function</td>
   <td>
    <p>Assign a listener to the <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_toolbar#attach"><code>attach</code></a> event.</p>
   </td>
  </tr>
  <tr>
   <td>onDetach</td>
   <td>function</td>
   <td>
    <p>Assign a listener to the <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_toolbar#detach"><code>detach</code></a> event.</p>
   </td>
  </tr>
  <tr>
   <td>onShow</td>
   <td>function</td>
   <td>
    <p>Assign a listener to the <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_toolbar#show"><code>show</code></a> event.</p>
   </td>
  </tr>
  <tr>
   <td>onHide</td>
   <td>function</td>
   <td>
    <p>Assign a listener to the <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_toolbar#hide"><code>hide</code></a> event.</p>
   </td>
  </tr>
 </tbody>
</table>

<h2 id="Toolbar">Toolbar</h2>

<h3 id="Methods">Methods</h3>

<h4 class="addon-sdk-api-name" id="on(event_listener)"><code>on(event, listener)</code></h4>

<p>Assign a listener to an event:</p>

<pre class="brush: js">var { Toolbar } = require("sdk/ui/toolbar");
var { Frame } = require("sdk/ui/frame");

var frame = new Frame({
  url: "./frame.html"
});

var toolbar = Toolbar({
  title: "My toolbar",
  items: [frame]
});

toolbar.on("show", showing);
toolbar.on("hide", hiding);

function showing(e) {
  console.log("showing: " + e.title);
}

function hiding(e) {
  console.log("hiding: " + e.title);
}</pre>

<h5 id="Parameters_2">Parameters</h5>

<p><strong>event : string</strong><br>
 The name of the event to listen to. <code>Toolbar</code> supports the following events: <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_toolbar#Events"><code>attach</code>, <code>detach</code>, <code>show</code>, and <code>hide</code></a>.</p>

<p><strong>listener : function</strong><br>
 The listener function. This may be passed arguments, depending on the particular event.</p>

<h4 class="addon-sdk-api-name" id="once(event_listener)"><code>once(event, listener)</code></h4>

<p>Assign a listener to the first occurrence only of an event emitted by the toolbar. <code>Toolbar</code> supports the following events: <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_toolbar#Events"><code>attach</code>, <code>detach</code>, <code>show</code>, and <code>hide</code></a>. The listener is automatically removed after the first time the event is emitted.</p>

<pre class="brush: js">var { Toolbar } = require("sdk/ui/toolbar");
var { Frame } = require("sdk/ui/frame");

var frame = new Frame({
  url: "./frame.html"
});

var toolbar = Toolbar({
  title: "My toolbar",
  items: [frame]
});

toolbar.once("show", showing);
toolbar.once("hide", hiding);

function showing(e) {
  console.log("showing: " + e.title);
}

function hiding(e) {
  console.log("hiding: " + e.title);
}</pre>

<h5 id="Parameters_3">Parameters</h5>

<p><strong>event : string</strong><br>
 The name of the event to listen to. <code>Toolbar</code> supports the following events: <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_toolbar#Events"><code>attach</code>, <code>detach</code>, <code>show</code>, and <code>hide</code></a>.</p>

<p><strong>listener : function</strong><br>
 The listener function. This may be passed arguments, depending on the particular event.</p>

<h4 class="addon-sdk-api-name" id="removeListener(event_listener)"><code>removeListener(event, listener)</code></h4>

<p>Removes an event listener. For example, this code is equivalent to <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_toolbar#once(event.2C_listener)"><code>once()</code></a>:</p>

<pre class="brush: js">var { Toolbar } = require("sdk/ui/toolbar");
var { Frame } = require("sdk/ui/frame");

var frame = new Frame({
  url: "./frame.html"
});

var toolbar = Toolbar({
  title: "My toolbar",
  items: [frame]
});

toolbar.on("show", showing);
toolbar.on("hide", hiding);

function showing(e) {
  console.log("showing: " + e.title);
  toolbar.removeListener("show", showing);
}

function hiding(e) {
  console.log("hiding: " + e.title);
  toolbar.removeListener("hide", hiding);
}</pre>

<h5 id="Parameters_4">Parameters</h5>

<p><strong>event : string</strong><br>
 The event the listener is listening for. <code>Toolbar</code> supports the following events: <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_toolbar#Events"><code>attach</code>, <code>detach</code>, <code>show</code>, and <code>hide</code></a>.</p>

<p><strong>listener : function</strong><br>
 The listener to remove.</p>

<h4 class="addon-sdk-api-name" id="off(event_listener)"><code>off(event, listener)</code></h4>

<p>This function is an alias for <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_toolbar#removeListener(event.2C_listener)"><code>removeListener()</code></a>.</p>

<h5 id="Parameters_5">Parameters</h5>

<p><strong>event : string</strong><br>
 The event the listener is listening for. <code>Toolbar</code> supports the following events: <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_toolbar#Events"><code>attach</code>, <code>detach</code>, <code>show</code>, and <code>hide</code></a>.</p>

<p><strong>listener : function</strong><br>
 The listener to remove.</p>

<h4 class="addon-sdk-api-name" id="destroy()"><code>destroy()</code></h4>

<p>Destroys the toolbar. After calling this function, the toolbar will no longer be visible and its menu item will no longer appear in the Firefox "Toolbars" menu. Calling this function also causes the <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_toolbar#detach"><code>detach</code></a> event to be emitted.</p>

<h3 id="Properties">Properties</h3>

<h4 class="addon-sdk-api-name" id="title"><code>title</code></h4>

<p>The toolbar's title. This is read-only and must be unique. It's also not available until after the <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_toolbar#attach"><code>attach</code></a> event is emitted.</p>

<h4 class="addon-sdk-api-name" id="items"><code>items</code></h4>

<p>The array of frames hosted by this toolbar. This property is read-only and is not available until after the <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_toolbar#attach"><code>attach</code></a> event is emitted.</p>

<h4 class="addon-sdk-api-name" id="hidden"><code>hidden</code></h4>

<p>Boolean indicating whether the toolbar is hidden. This property is read-only and is not available until after the <a href="/en-US/Add-ons/SDK/Low-Level_APIs/ui_toolbar#attach"><code>attach</code></a> event is emitted.</p>

<h3 id="Events">Events</h3>

<h4 class="addon-sdk-api-name" id="attach"><code>attach</code></h4>

<p>This event is emitted when the toolbar is first loaded. Note that since there is only one toolbar for the whole browser, opening another browser window does not cause this event to be emitted again. After this event the toolbar's properties are available:</p>

<pre class="brush: js">var { Toolbar } = require("sdk/ui/toolbar");
var { Frame } = require("sdk/ui/frame");

var frame = new Frame({
  url: "./frame.html"
});

var toolbar = Toolbar({
  title: "My toolbar",
  items: [frame]
});

toolbar.on("attach", attached);

function attached() {
  console.log("attached");
  console.log(toolbar.title);
  console.log(toolbar.items[0]);
  console.log(toolbar.hidden);
}</pre>

<h4 class="addon-sdk-api-name" id="detach"><code>detach</code></h4>

<p>This event is emitted when the toolbar has been destroyed:</p>

<pre class="brush: js">var { Toolbar } = require("sdk/ui/toolbar");
var { Frame } = require("sdk/ui/frame");

var frame = new Frame({
  url: "./frame.html"
});

var toolbar = Toolbar({
  title: "My toolbar",
  items: [frame]
});

toolbar.on("attach", attached);
toolbar.on("detach", detached);

function attached() {
  console.log("attached");
  require("sdk/timers").setTimeout(destroyToolbar, 1000);
}

function destroyToolbar() {
  toolbar.destroy();
}

function detached() {
  console.log("detached");
}</pre>

<h4 class="addon-sdk-api-name" id="show"><code>show</code></h4>

<p>This event is emitted when the user shows the toolbar. The listener is passed the <code>Toolbar</code> instance that was shown:</p>

<pre class="brush: js">var { Toolbar } = require("sdk/ui/toolbar");
var { Frame } = require("sdk/ui/frame");

var frame = new Frame({
  url: "./frame.html"
});

var toolbar = Toolbar({
  title: "My toolbar",
  items: [frame]
});

toolbar.on("show", showing);

function showing(e) {
  console.log("showing");
  console.log(e.title);
  console.log(e.items[0]);
  console.log(e.hidden);
}</pre>

<h5 id="Arguments">Arguments</h5>

<p><strong>toolbar</strong> : The <code>Toolbar</code> that was shown.</p>

<h4 class="addon-sdk-api-name" id="hide"><code>hide</code></h4>

<p>This event is emitted when the user hides the toolbar, either using the "close" button or using the "Toolbars" menu. The listener is passed the <code>Toolbar</code> instance that was hidden:</p>

<pre class="brush: js">var { Toolbar } = require("sdk/ui/toolbar");
var { Frame } = require("sdk/ui/frame");

var frame = new Frame({
  url: "./frame.html"
});

var toolbar = Toolbar({
  title: "My toolbar",
  items: [frame]
});

toolbar.on("hide", hiding);

function hiding(e) {
  console.log("hiding");
  console.log(e.title);
  console.log(e.items[0]);
  console.log(e.hidden);
}</pre>

<h5 id="Arguments_2">Arguments</h5>

<p><strong>toolbar</strong> : The <code>Toolbar</code> that was hidden.</p>