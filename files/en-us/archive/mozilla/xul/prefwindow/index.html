---
title: prefwindow
slug: Archive/Mozilla/XUL/prefwindow
tags:
  - Preferences system
  - XUL Elements
  - XUL Reference
---
<div class="noinclude"><span class="breadcrumbs XULRef_breadcrumbs">
 « <a href="/en-US/docs/XUL_Reference">XUL Reference home</a>    [
 <a href="#Examples">Examples</a> |
 <a href="#Attributes">Attributes</a> |
 <a href="#Properties">Properties</a> |
 <a href="#Methods">Methods</a> |
 <a href="#Related">Related</a> ]
</span></div>

<p>A specialized window used for preference dialogs. This element should be used in place of the <code><a href="/en-US/docs/Mozilla/Tech/XUL/window" title="window">window</a></code> tag and should contain one or more <code><a href="/en-US/docs/Mozilla/Tech/XUL/prefpane" title="prefpane">prefpane</a></code> elements. A row of buttons appears across the preference dialog, one for each prefpane. Each pane will usually group together a set of related preferences. If there is only one <code><a href="/en-US/docs/Mozilla/Tech/XUL/prefpane" title="prefpane">prefpane</a></code>, the navigation area will be hidden.</p>

<p>On platforms where the convention is to apply changes immediately, the preferences are adjusted as soon as the user interface element is changed. On other platforms, the preferences are not applied until the dialog is closed.</p>

<p>You can open a preference window using a window&apos;s <code>openDialog</code> method as with other dialogs. You can pass the <code id="a-id"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/id">id</a></code> of a particular pane as the fourth argument to <code>openDialog</code> to open a specific pane by default. You can also set the <code id="a-lastSelected"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/lastSelected">lastSelected</a></code> attribute on the <code>prefwindow</code> tag to the <code id="a-id"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/id">id</a></code> of the pane to start with. Normally, you would not set this attribute as it will be set automatically such that the default pane is the same as the one showing when the preferences dialog was last closed.</p>

<p>More information is available in the <a href="/en/Preferences/Preferences_system" title="en/Preferences_System">Preferences System</a> article.</p>

<p><strong>Important note for XULrunner-based applications</strong>: the Preferences System - part of the toolkit - still relies on two browser.* preferences.</p>

<ol>
 <li>The first one is <code>browser.preferences.instantApply</code>, a boolean preference. The preference window will not run correctly if you do not set this preference in your application&apos;s defaults (see <a class="link-https" href="https://bugzilla.mozilla.org/show_bug.cgi?id=485150" title="https://bugzilla.mozilla.org/show_bug.cgi?id=485150">bug 485150</a> for more information). A true value for this preference makes the preference window apply immediately the user choices, without waiting for the dialog to close with OK.</li>
 <li>The second preference is <code>browser.preferences.animateFadeIn</code>, again a boolean preference. This one can be safely omitted in XULrunner-based applications but you can override the default behavior (true for Mac OS X and false for other platforms) setting it. For <code>animateFadeIn</code> to work properly, contents of prefpanes should be put into overlays.</li>
</ol>

<p><strong>Note for Mac OS X</strong>: a common way of opening modal windows on Mac OS X that are not attached as a sheet to the main window is to use <a href="/en/XPCOM_Interface_Reference/nsIWindowWatcher" title="en/XPCOM Interface Reference/nsIWindowWatcher"><code>nsIWindowWatcher.openWindow()</code></a> with a <code>null</code> parentWindow. This does not work with prefwindows, breaking the general behavior of the window and in particular the list of prefpanes. Prefer the classical <code>window.openDialog()</code> with the following window features: <code>&quot;chrome,titlebar,toolbar,centerscreen,dialog=yes&quot;</code>.</p>

<dl>
 <dt>Attributes</dt>
 <dd><a href="#a-buttonalign">buttonalign</a>, <a href="#a-buttondir">buttondir</a>, <a href="#a-buttonorient">buttonorient</a>, <a href="#a-buttonpack">buttonpack</a>, <a href="#a-buttons">buttons</a>, <a href="#a-defaultButton">defaultButton</a>, <a href="#a-lastSelected">lastSelected</a>, <a href="#a-onbeforeaccept">onbeforeaccept</a>, <a href="#a-ondialogaccept">ondialogaccept</a>, <a href="#a-ondialogcancel">ondialogcancel</a>, <a href="#a-ondialogdisclosure">ondialogdisclosure</a>, <a href="#a-ondialoghelp">ondialoghelp</a>, <a href="#a-prefwindow.onload">onload</a>, <a href="#a-onunload">onunload</a>, <a href="#a-title">title</a>, <a href="#a-prefwindow.type">type</a></dd>
</dl>

<dl>
 <dt>Properties</dt>
 <dd><a href="#p-buttons">buttons</a>, <a href="#p-currentPane">currentPane</a>, <a href="#p-defaultButton">defaultButton</a>, <a href="#p-lastSelected">lastSelected</a>, <a href="#p-preferencePanes">preferencePanes</a>, <a href="#p-type">type</a></dd>
</dl>

<dl>
 <dt>Methods</dt>
 <dd><a href="#m-acceptDialog">acceptDialog</a>, <a href="#m-addPane">addPane</a>, <a href="#m-cancelDialog">cancelDialog</a>, <a href="#m-centerWindowOnScreen">centerWindowOnScreen</a>, <a href="#m-getButton">getButton</a>, <a href="#m-openSubDialog">openSubDialog</a>, <a href="#m-openWindow">openWindow</a>, <a href="#m-showPane">showPane</a></dd>
</dl>

<h3 id="Examples" name="Examples">Examples</h3>

<pre class="eval">&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;?xml-stylesheet href=&quot;<a class="external" rel="freelink">chrome://global/skin/</a>&quot; type=&quot;text/css&quot;?&gt;
&lt;prefwindow xmlns=&quot;<span class="nowiki">http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul</span>&quot;&gt;
  &lt;prefpane id=&quot;saveoptions&quot; label=&quot;Backups&quot;&gt;
    &lt;preferences&gt;
      &lt;preference id=&quot;pref-backup&quot; name=&quot;myapp.mybackups&quot; type=&quot;bool&quot;/&gt;
      &lt;preference id=&quot;pref-backupduration&quot; name=&quot;myapp.mybackups.duration&quot; type=&quot;int&quot;/&gt;
    &lt;/preferences&gt;
    &lt;checkbox label=&quot;Automatically Save Backups&quot; preference=&quot;pref-backup&quot;/&gt;
    &lt;textbox label=&quot;Duration:&quot; preference=&quot;pref-backupduration&quot;/&gt;
  &lt;/prefpane&gt;
&lt;/prefwindow&gt;
</pre>

<h3 id="Attributes" name="Attributes">Attributes</h3>

<div id="a-activetitlebarcolor">


<dl>
 <dt><code id="a-activetitlebarcolor"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/activetitlebarcolor">activetitlebarcolor</a></code> </dt>
 <dd>Type: <em>color string</em></dd>
 <dd>Specify background color of the window&apos;s titlebar when it is active (foreground). Moreover this hides separator between titlebar and window contents. <em>This only affects Mac OS X.</em></dd>
</dl>
</div><div id="a-buttonalign">

<dl>
  <dt>
    <code id="a-buttonalign"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/buttonalign">buttonalign</a></code></dt>
  <dd>
    Type: <em>string</em></dd>
  <dd>
    The value of the <code id="a-align"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/align">align</a></code> attribute for the box containing the buttons.</dd>
</dl>
</div><div id="a-buttondir">


<dl>
 <dt><code id="a-buttondir"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/buttondir">buttondir</a></code></dt>
 <dd>Type: <em>string</em></dd>
 <dd>The value of the <code id="a-dir"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/dir">dir</a></code> attribute for the box containing the buttons.</dd>
</dl>
</div><div id="a-buttonorient">


<dl>
 <dt><code id="a-buttonorient"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/buttonorient">buttonorient</a></code></dt>
 <dd>Type: <em>string</em></dd>
 <dd>The value of the <code id="a-orient"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/orient">orient</a></code> attribute for the box containing the buttons.</dd>
</dl>
</div><div id="a-buttonpack">


<dl>
 <dt><code id="a-buttonpack"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/buttonpack">buttonpack</a></code></dt>
 <dd>Type: <em>string</em></dd>
 <dd>The value of the <code id="a-pack"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/pack">pack</a></code> attribute for the box containing the buttons.</dd>
</dl>
</div><div id="a-buttons">

<dl>
 <dt>
  <code id="a-buttons"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/buttons">buttons</a></code></dt>
 <dd>
  Type: <em>comma-separated list of the values below</em></dd>
 <dd>
  A comma-separated list of buttons to appear in the dialog box. The buttons will be placed in suitable locations for the user&apos;s platform and basic event handling will be performed automatically. The following values can be used in the list:
  <ul>
   <li><code>accept</code>: The OK button, which will accept the changes when pressed. This button will also be the default button.</li>
   <li><code>cancel</code>: The cancel button which will cancel the operation.</li>
   <li><code>help</code>: A help button for displaying help about the dialog.</li>
   <li><code>disclosure</code>: A button to show more information. This might be a button or a disclosure triangle.</li>
   <li><code>extra1</code>: An optional additional button. You can set its label with the <code><code id="a-buttonlabelextra1"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/buttonlabelextra1">buttonlabelextra1</a></code></code> attribute and its command with the<code> <code><code id="a-ondialogextra1"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/ondialogextra1">ondialogextra1</a></code></code> attribute</code>.</li>
   <li><code>extra2</code>: A second optional additional button. You can set its label with the <code><code id="a-buttonlabelextra2"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/buttonlabelextra2">buttonlabelextra2</a></code></code> attribute and its command with the<code> <code><code id="a-ondialogextra2"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/ondialogextra2">ondialogextra2</a></code></code> attribute</code>.</li>
  </ul>
 </dd>
</dl>
<div class="note notecard"><strong>Note:</strong> If you don&apos;t want to display any buttons in the dialog box, set the value of this attribute to &quot;,&quot; (a single comma).</div>
<div class="warning notecard"><strong>Warning:</strong> If the <code>accept</code> and <code>cancel</code> buttons are actually shown is system dependent and is mainly controlled by the value of the boolean preference <code>browser.preferences.instantApply</code>. If it is set to <code>true</code> any changes to settings are supposed to be applied immediately. The <code>accept</code> button is therefore unnecessary and is hidden. The <code>cancel</code> button might be shown as an additional possibility to close the dialog in this situation (Windows and Linux) or might be hidden, too (Mac OS).<br>
 The default setting of <code>browser.preferences.instantApply</code> currently is <code>true</code> on Linux and Mac OS and <code>false</code> on Windows (which however might or might not change soon, see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=738797" title="FIXED: Enable the in-content preferences by default">bug 738797</a> and <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1037225" title="FIXED: Consider keeping browser.preferences.instantApply = false on Windows">bug 1037225</a>).</div>
</div><div id="a-defaultButton">


<dl>
 <dt><code id="a-defaultButton"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/defaultButton">defaultButton</a></code></dt>
 <dd>Type: <em>string</em></dd>
 <dd>Normally this attribute should not be set, but if it is, it specifies the default button in the dialog. Typically, this means that the button will be activated when the Enter key is pressed. This should be set to one of the same values as those for the <code id="a-buttons"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/buttons">buttons</a></code> attribute.</dd>
</dl>
</div><div id="a-inactivetitlebarcolor">


<dl>
 <dt><code id="a-inactivetitlebarcolor"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/inactivetitlebarcolor">inactivetitlebarcolor</a></code> </dt>
 <dd>Type: <em>color string</em></dd>
 <dd>Specify background color of the window&apos;s titlebar when it is inactive (background). Moreover this hides separator between titlebar and window contents. <em>This affects only on Mac OS X.</em></dd>
</dl>
</div><div id="a-lastSelected">


<dl>
 <dt><code id="a-lastSelected"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/lastSelected">lastSelected</a></code></dt>
 <dd>Type: <em>string</em></dd>
 <dd>Set this to the <code id="a-id"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/id">id</a></code> of the last selected pane. It will be opened by default the next time the preferences dialog is opened.</dd>
</dl>
</div><div id="a-onbeforeaccept">


<dl>
 <dt><code id="a-onbeforeaccept"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/onbeforeaccept">onbeforeaccept</a></code></dt>
 <dd>Type: <em>script code</em></dd>
 <dd>The code in this attribute is called when the OK button is pressed or the <span id="m-acceptDialog"><code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Method/acceptDialog">acceptDialog</a></code></span> method is called. Returning <code>false</code> doesn&apos;t currently prevent the dialog from closing, but does prevent saving (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=474527" title="FIXED: onbeforeaccept handler in a &lt;prefwindow&gt; can&apos;t prevent the window from closing">bug 474527</a>).</dd>
</dl>

<p> </p>
</div><div id="a-ondialogaccept">


<dl>
 <dt><code id="a-ondialogaccept"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/ondialogaccept">ondialogaccept</a></code></dt>
 <dd>Type: <em>script code</em></dd>
 <dd>The code in this attribute is called when the accept button is pressed, or when the <span id="m-acceptDialog"><code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Method/acceptDialog">acceptDialog</a></code></span> method is called. If the handler returns <code>true</code>, the dialog will indeed go away, but if it returns <code>false</code> it will not.</dd>
</dl>
</div><div id="a-ondialogcancel">


<dl>
 <dt><code id="a-ondialogcancel"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/ondialogcancel">ondialogcancel</a></code></dt>
 <dd>Type: <em>script code</em></dd>
 <dd>The code in this attribute is called when the &quot;cancel&quot; button is pressed or when the <span id="m-cancelDialog"><code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Method/cancelDialog">cancelDialog</a></code></span> method is called. If the routine returns true, the dialog will indeed go away, but if it returns false it will not.</dd>
</dl>
</div><div id="a-ondialogdisclosure">


<dl>
 <dt><code id="a-ondialogdisclosure"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/ondialogdisclosure">ondialogdisclosure</a></code></dt>
 <dd>Type: <em>script code</em></dd>
 <dd>The code in this attribute is called when the &quot;disclosure&quot; button is pressed.</dd>
</dl>
</div><div id="a-ondialoghelp">


<dl>
 <dt><code id="a-ondialoghelp"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/ondialoghelp">ondialoghelp</a></code></dt>
 <dd>Type: <em>script code</em></dd>
 <dd>The code in this attribute is called when the &quot;help&quot; button is pressed.</dd>
</dl>
</div><div id="a-prefwindow.onload">


<dl>
 <dt><code id="a-prefwindow.onload"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/prefwindow.onload">prefwindow.onload</a></code></dt>
 <dd>Type: <em>script code</em></dd>
 <dd>When a window finishes loading, it calls this event handler on the <code><a href="/en-US/docs/Mozilla/Tech/XUL/prefwindow" title="prefwindow">prefwindow</a></code> element.</dd>
</dl>
</div><div id="a-onunload">

</div><div id="a-title">


<dl>
 <dt><code id="a-title"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/title">title</a></code></dt>
 <dd>Type: <em>string</em></dd>
 <dd>The text to appear in the title bar of the window.</dd>
</dl>
</div><div id="a-prefwindow.type">


<dl>
 <dt><code id="a-prefwindow.type"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/prefwindow.type">type</a></code></dt>
 <dd>Type: <em>string</em></dd>
 <dd>Set this attribute to <code>child</code> for preference dialogs that are child dialogs of a main preferences window. This ensures that the preferences are only saved when the main dialog is closed, if this is the appropriate behaviour for the platform.</dd>
</dl>
</div>

<h3 id="Properties" name="Properties">Properties</h3>

<div id="p-buttons">
<dl>
 <dt>
  <code><span><a href="https://developer.mozilla.org/en-US/docs/XUL/Property/buttons">buttons</a></span></code></dt>
 <dd>
  Type: <em>comma-separated list of the values below</em></dd>
 <dd>
  A comma-separated list of buttons to appear on the dialog box. The buttons will be placed in suitable locations for the user&apos;s platform and basic event handling will be performed automatically. The following values can be used in the list:
  <ul>
   <li><code>accept</code>: The OK button, which will accept the changes when pressed. This button will also be the default button.</li>
   <li><code>cancel</code>: The cancel button which will cancel the operation.</li>
   <li><code>help</code>: A help button for displaying help about the dialog.</li>
   <li><code>disclosure</code>: A button to show more information. This might be a button or a disclosure triangle.</li>
   <li><code>extra1</code>: An optional additional button. You can set its label with the <code><code id="a-buttonlabelextra1"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/buttonlabelextra1">buttonlabelextra1</a></code></code> attribute and its command with the<code> <code><code id="a-ondialogextra1"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/ondialogextra1">ondialogextra1</a></code></code> attribute</code>.</li>
   <li><code>extra2</code>: A second optional additional button. You can set its label with the <code><code id="a-buttonlabelextra2"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/buttonlabelextra2">buttonlabelextra2</a></code></code> attribute and its command with the<code> <code><code id="a-ondialogextra2"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/ondialogextra2">ondialogextra2</a></code></code> attribute</code>.</li>
  </ul>
 </dd>
</dl></div><div id="p-currentPane">
<dl>
  <dt>
    <code><span><a href="https://developer.mozilla.org/en-US/docs/XUL/Property/currentPane">currentPane</a></span></code></dt>
  <dd>
    Type: <em><code><a href="/en-US/docs/Mozilla/Tech/XUL/prefpane" title="prefpane">prefpane</a></code> element</em></dd>
  <dd>
    Reference to the currently displayed pane. To change the current pane, use the <span id="m-showPane"><code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Method/showPane">showPane</a></code></span> method.</dd>
</dl></div><div id="p-defaultButton">

<dl>
 <dt><code><span><a href="https://developer.mozilla.org/en-US/docs/XUL/Property/defaultButton">defaultButton</a></span></code></dt>
 <dd>Type: <em>string</em></dd>
 <dd>Normally this attribute should not be set, but if it is, it specifies the default button in the dialog. Typically, this means that the button will be activated when the Enter key is pressed. This should be set to one of the same values as those for the <code id="a-buttons"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/buttons">buttons</a></code> attribute.</dd>
</dl></div>

<dl>
 <dt><code>instantApply</code> (readonly) </dt>
 <dd>Indicates whether the window is in &quot;instant apply&quot; mode. The value is read from <code>browser.preferences.instantApply</code> boolean user preference. (?? It&apos;s declared as a <code>&lt;field&gt;</code>, so you <em>can</em> set the value, however I don&apos;t believe it&apos;s valid to do that.)</dd>
</dl>

<div id="p-lastSelected">
<dl>
  <dt><code><span><a href="https://developer.mozilla.org/en-US/docs/XUL/Property/lastSelected">lastSelected</a></span></code></dt>
  <dd>Type: <em>string</em></dd>
  <dd>Set this to the id of the last selected pane. It will be opened by default the next time the preferences dialog is opened.</dd>
</dl></div><div id="p-preferencePanes">

<dl>
 <dt><code><span><a href="https://developer.mozilla.org/en-US/docs/XUL/Property/preferencePanes">preferencePanes</a></span></code></dt>
 <dd>Type: <em>DOM NodeList</em></dd>
 <dd>Holds a list of all the <code><a href="/en-US/docs/Mozilla/Tech/XUL/prefpane" title="prefpane">prefpane</a></code> elements in the window.</dd>
</dl></div><div id="p-type">
<dl>
  <dt>
    <code><span><a href="https://developer.mozilla.org/en-US/docs/XUL/Property/type">type</a></span></code></dt>
  <dd>
    Type: <em>string</em></dd>
  <dd>
    Gets and sets the value of the <code id="a-type"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/type">type</a></code> attribute.</dd>
</dl>
</div>

<h3 id="Methods" name="Methods">Methods</h3>

<table style="border: 1px solid rgb(204, 204, 204); margin: 0 0 10px 10px; padding: 0 10px; background: rgb(238, 238, 238); float: right; width: 250px;">
<tbody>
<tr>
<td>
<p><strong>Inherited Methods</strong><br>
<small><code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.addEventListener">addEventListener()</a></code>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.appendChild">appendChild()</a></code>, <span id="m-blur"><code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Method/blur">blur</a></code></span>, <span id="m-click"><code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Method/click">click</a></code></span>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.cloneNode">cloneNode()</a></code>, <a href="/En/DOM/Node.compareDocumentPosition">compareDocumentPosition</a>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.dispatchEvent">dispatchEvent()</a></code>, <span id="m-doCommand"><code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Method/doCommand">doCommand</a></code></span>, <span id="m-focus"><code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Method/focus">focus</a></code></span>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.getAttribute">getAttribute()</a></code>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.getAttributeNode">getAttributeNode()</a></code>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.getAttributeNodeNS">getAttributeNodeNS()</a></code>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.getAttributeNS">getAttributeNS()</a></code>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.getBoundingClientRect">getBoundingClientRect()</a></code>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.getClientRects">getClientRects()</a></code>, <span id="m-getElementsByAttribute"><code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Method/getElementsByAttribute">getElementsByAttribute</a></code></span>, <span id="m-getElementsByAttributeNS"><code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Method/getElementsByAttributeNS">getElementsByAttributeNS</a></code></span>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.getElementsByClassName">getElementsByClassName()</a></code>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.getElementsByTagName">getElementsByTagName()</a></code>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.getElementsByTagNameNS">getElementsByTagNameNS()</a></code>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.getFeature">getFeature()</a></code>, <a href="/En/DOM/Node.getUserData">getUserData</a>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.hasAttribute">hasAttribute()</a></code>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.hasAttributeNS">hasAttributeNS()</a></code>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.hasAttributes">hasAttributes()</a></code>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.hasChildNodes">hasChildNodes()</a></code>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.insertBefore">insertBefore()</a></code>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.isDefaultNamespace">isDefaultNamespace()</a></code>, <a href="/En/DOM/Node.isEqualNode">isEqualNode</a>, <a href="/En/DOM/Node.isSameNode">isSameNode</a>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.isSupported">isSupported()</a></code>, <a href="/En/DOM/Node.lookupNamespaceURI">lookupNamespaceURI</a>, <a href="/En/DOM/Node.lookupPrefix">lookupPrefix</a>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.normalize">normalize()</a></code>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.querySelector">querySelector()</a></code>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.querySelectorAll">querySelectorAll()</a></code>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.removeAttribute">removeAttribute()</a></code>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.removeAttributeNode">removeAttributeNode()</a></code>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.removeAttributeNS">removeAttributeNS()</a></code>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.removeChild">removeChild()</a></code>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.removeEventListener">removeEventListener()</a></code>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.replaceChild">replaceChild()</a></code>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.setAttribute">setAttribute()</a></code>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.setAttributeNode">setAttributeNode()</a></code>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.setAttributeNodeNS">setAttributeNodeNS()</a></code>, <code><a href="https://developer.mozilla.org/en-US/docs/DOM/element.setAttributeNS">setAttributeNS()</a></code>, <a href="/En/DOM/Node.setUserData">setUserData</a></small></p>

</td>
</tr>
</tbody>
</table><dl>
  <dt>
    <span id="m-acceptDialog"><code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Method/acceptDialog">acceptDialog()</a></code></span></dt>
  <dd>
    Return type: <em>no return value</em></dd>
  <dd>
    Accepts the dialog and closes it, similar to pressing the OK button.</dd>
</dl><dl>
  <dt>
    <span id="m-addPane"><code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Method/addPane">addPane( prefpane )</a></code></span></dt>
  <dd>
    Return type: <em>no return value</em></dd>
  <dd>
    Append a <code><a href="/en-US/docs/Mozilla/Tech/XUL/prefpane" title="prefpane">prefpane</a></code> to a list of panes.</dd>
</dl>

<dl>
 <dt><code>animate(aOldPane, aNewPane)</code></dt>
 <dd>This probably isn&apos;t a public method (?)</dd>
</dl>

<dl>
 <dt><span id="m-cancelDialog"><code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Method/cancelDialog">cancelDialog()</a></code></span></dt>
 <dd>Return type: <em>no return value</em></dd>
 <dd>Cancels the dialog and closes it, similar to pressing the Cancel button.</dd>
</dl><dl>
 <dt><span id="m-centerWindowOnScreen"><code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Method/centerWindowOnScreen">centerWindowOnScreen()</a></code></span></dt>
 <dd>Return type: <em>no return value</em></dd>
 <dd>Centers the dialog on the screen.</dd>
</dl><dl>
 <dt><span id="m-getButton"><code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Method/getButton">getButton( type )</a></code></span></dt>
 <dd>Return type: <em>button element</em></dd>
 <dd>Returns the <code><a href="/en-US/docs/Mozilla/Tech/XUL/button" title="button">button</a></code> element in the dialog corresponding to the given type.</dd>
</dl><dl>
 <dt><span id="m-openSubDialog"><code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Method/openSubDialog">openSubDialog( url, features, params )</a></code></span></dt>
 <dd>Return type: <em>window</em></dd>
 <dd>Opens a child modal dialog. Usually this method would be used to allow the user to configure advanced options. The arguments are similar to the window&apos;s <code><a href="/en/DOM/window.openDialog" title="en/DOM/window.openDialog">openDialog</a></code> method except that the window name does not need to be supplied. The <var>url</var> should be a XUL file. If the child dialog is also a <code><a href="/en-US/docs/Mozilla/Tech/XUL/prefwindow" title="prefwindow">prefwindow</a></code>, set its <code id="a-type"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/type">type</a></code> attribute to <code>child</code> so that preferences will be saved properly when the main dialog is closed.</dd>
</dl><dl>
 <dt><span id="m-openWindow"><code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Method/openWindow">openWindow( windowtype, url, features, params )</a></code></span></dt>
 <dd>Return type: <em>window</em></dd>
 <dd>Open a child window. The <code>windowtype</code> is a string specifying a window type. If a window with that type is already open, this method will just switch that window to the front and focus it instead of opening another window. If a window of the type is not open, a new one is opened displaying the supplied <var>url</var>.</dd>
</dl><dl>
  <dt>
    <span id="m-showPane"><code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Method/showPane">showPane( prefpane )</a></code></span></dt>
  <dd>
    Return type: <em>no return value</em></dd>
  <dd>
    Switch to a particular pane.</dd>
</dl>

<p> </p>

<h2 id="Notes">Notes</h2>

<h3 id="Usage_patterns">Usage patterns</h3>

<h4 id="Openinginitializing_a_prefwindow">Opening/initializing a prefwindow</h4>

<p>Note that you can define an <code>initWithParams()</code> function in your sub window - to handle parameters passed using <code>openWindow()</code> in case the window was already open. For example the Permissions Manager UI in Firefox uses the same window for three dialogs: Images, Software installation and Popups. It uses <code>initWithParams()</code> to change the dialog type without closing and re-opening it.</p>

<p>The suggested usage pattern is as follows:</p>

<pre class="brush: js">// subwindow.js
function onLoad(ev) {
  // do some initialization...

  initWithParams(window.arguments[0]); // we expect a single parameter to be passed to the window
}

function initWithParams(aParams) {
  // this will also get called when an already open window is activated using openWindow()
}</pre>

<h4 id="Closing_a_prefwindow">Closing a prefwindow</h4>

<p>Sometimes you need to do things when the <code>prefwindow</code> is closed, such as things that can&apos;t (or shouldn&apos;t) be handled as preferences, such as saving passwords or updating SQLite data. To do this, you can set the <code>prefwindow</code>&apos;s <code>onunload</code> attribute to a function that will be run when the <code>prefwindow</code> is closed.</p>

<pre class="brush: xml">&lt;prefwindow
  xmlns=&quot;http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul&quot;
  id=&quot;my-config-dialog&quot;
  title=&quot;My application: configuration&quot;
  onunload=&quot;onUnload(event.target)&quot;&gt;
&lt;/prefwindow&gt;</pre>

<pre class="brush: js">function onUnload(prefwindow) {
  // Do actions there like saving values, password setting (that is not handled as a preference), etc.
  return true;
}
</pre>

<h3 id="Opening_a_modal_sub_dialog">Opening a modal sub dialog</h3>

<p>A sub dialog can only be opened via <code>document.documentElement</code> and not via <code>window</code>. Therefore, an example call to <code>openSubDialog()</code> would look like this:</p>

<pre class="eval">document.documentElement.openSubDialog(&quot;<a class="external" rel="freelink">chrome://myextension/content/options-sub.xul</a>&quot;, &quot;&quot;, null)</pre>

<h3 id="Issues_when_using_prefpanes_in_prefwindow">Issues when using prefpanes in prefwindow</h3>

<p>When you wish to put non-&lt;prefpane&gt; elements to prefwindow, you should place them after all of &lt;prefpane&gt;s. If you put other elements before the first &lt;prefpane&gt;, you possibly see strange behaviors about switching panes. This is due to <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=296418" title="can&apos;t put tags/elements before prefpane elements in prefwindow">bug 296418</a>.</p>

<p>Should not:</p>

<pre class="eval">&lt;prefwindow&gt;
  &lt;script src=&quot;config.js&quot;/&gt;
  &lt;prefpane label=&quot;pane1&quot; src=&quot;pane1.xul&quot;/&gt;
  &lt;prefpane label=&quot;pane2&quot; src=&quot;pane2.xul&quot;/&gt;
&lt;/prefwindow&gt;
</pre>

<p>Should:</p>

<pre class="eval">&lt;prefwindow&gt;
  &lt;prefpane label=&quot;pane1&quot; src=&quot;pane1.xul&quot;/&gt;
  &lt;prefpane label=&quot;pane2&quot; src=&quot;pane2.xul&quot;/&gt;
  &lt;script src=&quot;config.js&quot;/&gt;
&lt;/prefwindow&gt;
</pre>

<h3 id="Related" name="Related">Related</h3>

<p><code><a href="/en-US/docs/Mozilla/Tech/XUL/prefpane" title="prefpane">prefpane</a></code></p>

<div class="moreinfo">  <p><strong><a href="/en-US/docs/Preferences_System">Preferences System</a> documentation:</strong></p>  <ul>    <li>Introduction: <a href="/en-US/docs/Preferences_System/Getting_Started">Getting Started</a> | <a href="/en-US/docs/Preferences_System/Examples">Examples</a> | <a href="/en-US/docs/Preferences_System/Troubleshooting">Troubleshooting</a></li>    <li>Reference: <code><a href="/en-US/docs/Mozilla/Tech/XUL/prefwindow">prefwindow</a></code> | <code><a href="/en-US/docs/Mozilla/Tech/XUL/prefpane">prefpane</a></code> | <code><a href="/en-US/docs/Mozilla/Tech/XUL/preferences">preferences</a></code> | <code><a href="/en-US/docs/Mozilla/Tech/XUL/preference">preference</a></code> | <a href="/en-US/docs/Preferences_System/New_attributes">XUL attributes</a></li>  </ul></div>
