<p>{{ gecko_minversion_header("36") }}</p>

<p>The <code>PromiseUtils.jsm</code> JavaScript code module offers some useful functions related to {{jsxref("Global_Objects/Promise", "DOM Promise", "", 1)}}. To use it, you first need to import the code module into your JavaScript scope:</p>

<pre>Components.utils.import("resource://gre/modules/PromiseUtils.jsm");
</pre>

<h2 id="Method_overview">Method overview</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td><code><a href="/en-US/docs/Mozilla/JavaScript_code_modules/PromiseUtils.jsm/Deferred" title="PromiseUtils.jsm/Deferred">Deferred</a> <a href="#defer()">defer</a>();</code></td>
  </tr>
 </tbody>
</table>

<h2 id="Methods">Methods</h2>

<p>
 </p><h3 id="defer()">defer()</h3>
<p></p>

<p>Creates a new pending {{jsxref("Global_Objects/Promise", "Promise")}} and provides methods to resolve or reject this {{jsxref("Global_Objects/Promise", "Promise")}}.</p>

<div class="note">
<p>This method was previously implemented as <a href="/en-US/docs/Mozilla/JavaScript_code_modules/Promise.jsm#defer()" title="Promise.defer()">Promise.defer()</a>, which is obsolete since Gecko 30. And <code>PromiseUtils.defer</code> uses {{jsxref("Global_Objects/Promise", "DOM Promise", "", 1)}} instead of <code><a href="/en-US/docs/Mozilla/JavaScript_code_modules/Promise.jsm/Promise" title="PromiseUtils.jsm/Promise">Promise.jsm's Promise</a>.</code></p>
</div>

<pre><code>Deferred defer();
</code></pre>

<h6 id="Parameters"><code>Parameters</code></h6>

<p><code>None.</code></p>

<h6 id="Return_value"><code>Return value</code></h6>

<p>A new object, containing the new promise in the <code>promise</code> property, and the methods to change its state in the <code>resolve</code> and <code>reject</code> properties. See the <a href="/en-US/docs/Mozilla/JavaScript_code_modules/PromiseUtils.jsm/Deferred" title="PromiseUtils.jsm/Deferred"><code>Deferred</code></a> documentation for details.</p>

<h2 id="See_also"><code>See also</code></h2>

<ul>
 <li><code>{{jsxref("Global_Objects/Promise", "DOM Promise", "", 1)}}</code></li>
 <li><a href="/en-US/docs/Mozilla/JavaScript_code_modules/Promise.jsm/Deferred" title="PromiseUtils.jsm/Deferred">Deferred (PromiseUtils.jsm)</a></li>
 <li><a href="/en-US/docs/Mozilla/JavaScript_code_modules/Promise.jsm/Promise" title="Promise.jsm/Promise">Promise (Promise.jsm)</a></li>
 <li><a class="internal" href="/en-US/docs/JavaScript_code_modules/Using" title="Using JavaScript code modules">Using JavaScript code modules</a></li>
 <li><a class="internal" href="/en-US/docs/Mozilla/JavaScript_code_modules" title="JavaScript code modules">JavaScript code modules</a></li>
 <li><a class="internal" href="/en-US/docs/Components.utils.import" title="Components.utils.import"><code>Components.utils.import</code></a></li>
</ul>