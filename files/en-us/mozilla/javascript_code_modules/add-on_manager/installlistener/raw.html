<p>{{ gecko_minversion_header("2.0") }}</p>

<div class="blockIndicator warning">
<p>Support for extensions using XUL/XPCOM or the Add-on SDK was removed in Firefox 57, released November 2017. As there is no supported version of Firefox enabling these technologies, this page will be removed by December 2020.</p>
</div>

<p><span style="color: #000000; display: inline !important; float: none; font-family: Cantarell; font-size: 14.666666984558105px; font-style: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal;">{{LegacyAddonsNotice}}</span></p>

<p>InstallListeners are notified of an <code><a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a></code>'s progress. They may be registered to hear events from all <code><a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a></code>s through <code><a href="/en-US/Add-ons/Add-on_Manager/AddonManager#addInstallListener()" title="AddonManager.addInstallListener()">addInstallListener</a></code> or to a single <code><a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a></code> through <code><a href="/en-US/Add-ons/Add-on_Manager/AddonInstall#addListener()" title="AddonInstall.addListener()">addListener</a></code>.</p>

<h2 id="Method_Overview">Method Overview</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td><code>void <a href="#onNewInstall()" title="InstallListener.onNewInstall()">onNewInstall</a>(in <a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a> install)</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#onDownloadStarted()" title="InstallListener.onDownloadStarted()">onDownloadStarted</a>(in <a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a> install)</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#onDownloadProgress()" title="InstallListener.onDownloadProgress()">onDownloadProgress</a>(in <a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a> install)</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#onDownloadEnded()" title="InstallListener.onDownloadEnded()">onDownloadEnded</a>(in <a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a> install)</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#onDownloadCancelled()" title="InstallListener.onDownloadCancelled()">onDownloadCancelled</a>(in <a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a> install)</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#onDownloadFailed()" title="InstallListener.onDownloadFailed()">onDownloadFailed</a>(in <a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a> install)</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#onInstallStarted()" title="InstallListener.onInstallStarted()">onInstallStarted</a>(in <a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a> install)</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#onInstallEnded()" title="InstallListener.onInstallEnded()">onInstallEnded</a>(in <a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a> install, in <a href="/en-US/Add-ons/Add-on_Manager/Addon" title="Addon">Addon</a> addon)</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#onInstallCancelled()" title="InstallListener.onInstallCancelled()">onInstallCancelled</a>(in <a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a> install)</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#onInstallFailed()" title="InstallListener.onInstallFailed()">onInstallFailed</a>(in <a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a> install)</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#onExternalInstall()" title="InstallListener.onExternalInstall()">onExternalInstall</a>(in <a href="/en-US/Add-ons/Add-on_Manager/Addon" title="Addon">Addon</a> install, in <a href="/en-US/Add-ons/Add-on_Manager/Addon" title="Addon">Addon</a> existingAddon, in boolean needsRestart)</code></td>
  </tr>
 </tbody>
</table>

<h2 id="Methods">Methods</h2>

<h3 id="onNewInstall()">onNewInstall()</h3>

<p>Called when a new instance of <code><a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a></code> is created, primarily so UI can display some kind of progress for all installs.</p>

<pre class="brush: js">void onNewInstall(
  in <code><a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a></code> install
)</pre>

<h6 id="Parameters">Parameters</h6>

<dl>
 <dt>install</dt>
 <dd>The <code><a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a></code> representing the install</dd>
</dl>

<h3 id="onDownloadStarted()">onDownloadStarted()</h3>

<p>Called when downloading begins for an add-on install. Only called for add-ons that need to be downloaded. A listener may return false to cancel the download.</p>

<pre class="brush: js">void onDownloadStarted(
  in <code><a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a></code> install
)</pre>

<h6 id="Parameters_2">Parameters</h6>

<dl>
 <dt>install</dt>
 <dd>The <code><a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a></code> representing the install</dd>
</dl>

<h3 id="onDownloadProgress()">onDownloadProgress()</h3>

<p>Called as data is received during a download. Check the <code><a href="/en-US/Add-ons/Add-on_Manager/AddonInstall#Properties" title="AddonInstall.progress">progress</a></code> property for the amount of data downloaded and the <code><a href="/en-US/Add-ons/Add-on_Manager/AddonInstall#Properties" title="AddonInstall.maxProgress">maxProgress</a></code> property for the total data expected. A listener may return false to cancel the download.</p>

<pre class="brush: js">void onDownloadProgress(
  in <code><a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a></code> install
)</pre>

<h6 id="Parameters_3">Parameters</h6>

<dl>
 <dt>install</dt>
 <dd>The <code><a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a></code> representing the install</dd>
</dl>

<h3 id="onDownloadEnded()">onDownloadEnded()</h3>

<p>Called when downloading completes successfully for an add-on install. Only called for add-ons that need to be downloaded.</p>

<pre class="brush: js">void onDownloadEnded(
  in <code><a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a></code> install
)</pre>

<h6 id="Parameters_4">Parameters</h6>

<dl>
 <dt>install</dt>
 <dd>The <code><a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a></code> representing the install</dd>
</dl>

<h3 id="onDownloadCancelled()">onDownloadCancelled()</h3>

<p>Called when downloading is cancelled. Only called for add-ons that need to be downloaded.</p>

<pre class="brush: js">void onDownloadCancelled(
  in <code><a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a></code> install
)</pre>

<h6 id="Parameters_5">Parameters</h6>

<dl>
 <dt>install</dt>
 <dd>The <code><a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a></code> representing the install</dd>
</dl>

<h3 id="onDownloadFailed()">onDownloadFailed()</h3>

<p>Called if there is some error downloading the add-on. Only called for add-ons that need to be downloaded.</p>

<pre class="brush: js">void onDownloadFailed(
  in <code><a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a></code> install
)</pre>

<h6 id="Parameters_6">Parameters</h6>

<dl>
 <dt>install</dt>
 <dd>The <code><a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a></code> representing the install</dd>
</dl>

<h3 id="onInstallStarted()">onInstallStarted()</h3>

<p>Called when installation of an add-on begins. A listener may return false to cancel the install.</p>

<pre class="brush: js">void onInstallStarted(
  in <code><a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a></code> install
)</pre>

<h6 id="Parameters_7">Parameters</h6>

<dl>
 <dt>install</dt>
 <dd>The <code><a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a></code> representing the install</dd>
</dl>

<h3 id="onInstallEnded()">onInstallEnded()</h3>

<p>Called when installation of an add-on is complete. The newly installed add-on may require a restart in order to become active.</p>

<pre class="brush: js">void onInstallEnded(
  in <code><a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a></code> install
  in <code><a href="/en-US/Add-ons/Add-on_Manager/Addon" title="Addon">Addon</a></code> addon
)</pre>

<h6 id="Parameters_8">Parameters</h6>

<dl>
 <dt>install</dt>
 <dd>The <code><a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a></code> representing the install</dd>
 <dt>addon</dt>
 <dd>The <code><a href="/en-US/Add-ons/Add-on_Manager/Addon" title="Addon">Addon</a></code> addon that has been installed</dd>
</dl>

<h3 id="onInstallCancelled()">onInstallCancelled()</h3>

<p>Called when installation is cancelled.</p>

<pre class="brush: js">void onInstallCancelled(
  in <code><a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a></code> install
)</pre>

<h6 id="Parameters_9">Parameters</h6>

<dl>
 <dt>install</dt>
 <dd>The <code><a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a></code> representing the install</dd>
</dl>

<h3 id="onInstallFailed()">onInstallFailed()</h3>

<p>Called when there is a failure installing the add-on.</p>

<pre class="brush: js">void onInstallFailed(
  in <code><a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a></code> install
)</pre>

<h6 id="Parameters_10">Parameters</h6>

<dl>
 <dt>install</dt>
 <dd>The <code><a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a></code> representing the install</dd>
</dl>

<h3 id="onExternalInstall()">onExternalInstall()</h3>

<p>Called when an add-on is installed through some system other than an <code><a href="/en-US/Add-ons/Add-on_Manager/AddonInstall" title="AddonInstall">AddonInstall</a></code>.</p>

<pre class="brush: js">void onExternalInstall(
  in <code><a href="/en-US/Add-ons/Add-on_Manager/Addon" title="Addon">Addon</a></code> addon,
  in <code><a href="/en-US/Add-ons/Add-on_Manager/Addon" title="Addon">Addon</a></code> existingAddon,
  in boolean needsRestart
)</pre>

<h6 id="Parameters_11">Parameters</h6>

<dl>
 <dt>addon</dt>
 <dd>The newly installed <code><a href="/en-US/Add-ons/Add-on_Manager/Addon" title="Addon">Addon</a></code></dd>
 <dt>existingAddon</dt>
 <dd>An <code><a href="/en-US/Add-ons/Add-on_Manager/Addon" title="Addon">Addon</a></code> that will be replaced by this install or null if no add-on is being replaced</dd>
 <dt>needsRestart</dt>
 <dd>True if the installation requires a restart</dd>
</dl>