<p>{{ gecko_minversion_header("2.0") }}</p>

<p>The Webapps.jsm modules exposes the DOMApplicationRegistry, which is responsible for managing all of the Open Web Apps.</p>

<h2 id="Importing">Importing</h2>

<pre class="brush: js  language-js"><code class="language-js">Components<span class="punctuation token">.</span>utils<span class="punctuation token">.</span><span class="keyword token">import</span><span class="punctuation token">(</span><span class="string token">"</span></code>resource://gre/modules/Webapps.jsm<code class="language-js"><span class="string token">"</span><span class="punctuation token">)</span><span class="punctuation token">;</span> // exported symbol is </code>DOMApplicationRegistry


</pre>

<h2 id="Method_overview" name="Method_overview">Method overview</h2>

<p>init: function()<br>
 loadCurrentRegistry: function()<br>
 notifyAppsRegistryStart: function notifyAppsRegistryStart()<br>
 notifyAppsRegistryReady: function notifyAppsRegistryReady()<br>
 sanitizeRedirects: function sanitizeRedirects(aSource)<br>
 _saveWidgetsFullPath: function(aManifest, aDestApp)<br>
 appKind: function(aApp, aManifest)<br>
 updatePermissionsForApp: function(aId, aIsPreinstalled)<br>
 updateOfflineCacheForApp: function(aId)<br>
 installPreinstalledApp: function installPreinstalledApp(aId)<br>
 removeIfHttpsDuplicate: function(aId)<br>
 installSystemApps: function()<br>
 loadAndUpdateApps: function()<br>
 updateDataStore: function(aId, aOrigin, aManifestURL, aManifest)<br>
 _registerSystemMessagesForEntryPoint: function(aManifest, aApp, aEntryPoint)<br>
 _registerInterAppConnectionsForEntryPoint: function(aManifest, aApp,)<br>
 _registerSystemMessages: function(aManifest, aApp)<br>
 _registerInterAppConnections: function(aManifest, aApp)<br>
 _createActivitiesToRegister: function(aManifest, aApp, aEntryPoint, aRunUpdate)<br>
 _registerActivitiesForApps: function(aAppsToRegister, aRunUpdate)<br>
 _registerActivities: function(aManifest, aApp, aRunUpdate)<br>
 _createActivitiesToUnregister: function(aManifest, aApp, aEntryPoint)<br>
 _unregisterActivitiesForApps: function(aAppsToUnregister)<br>
 _unregisterActivities: function(aManifest, aApp)<br>
 _processManifestForIds: function(aIds, aRunUpdate)<br>
 observe: function(aSubject, aTopic, aData)<br>
 addMessageListener: function(aMsgNames, aApp, aMm)<br>
 removeMessageListener: function(aMsgNames, aMm)<br>
 formatMessage: function(aData)<br>
 receiveMessage: function(aMessage)<br>
 getAppInfo: function getAppInfo(aAppId)<br>
 broadcastMessage: function broadcastMessage(aMsgName, aContent)<br>
 registerUpdateHandler: function(aHandler)<br>
 unregisterUpdateHandler: function(aHandler)<br>
 notifyUpdateHandlers: function(aApp, aManifest, aZipPath)<br>
 _getAppDir: function(aId)<br>
 _writeFile: function(aPath, aData)<br>
 doGetList: function()<br>
 doExport: function(aMsg, aMm)<br>
 doImport: function(aMsg, aMm)<br>
 doExtractManifest: function(aMsg, aMm)<br>
 doLaunch: function (aData, aMm)<br>
 launch: function launch(aManifestURL, aStartPoint, aTimeStamp, aOnSuccess, aOnFailure)<br>
 close: function close(aApp)<br>
 cancelDownload: function cancelDownload(aManifestURL, aError)<br>
 startOfflineCacheDownload: function(aManifest, aApp, aProfileDir, aIsUpdate)<br>
 computeManifestHash: function(aManifest)<br>
 updateAppHandlers: function(aOldManifest, aNewManifest, aApp)<br>
 checkForUpdate: function(aData, aMm)<br>
 doInstall: function doInstall(aData, aMm)<br>
 doInstallPackage: function doInstallPackage(aData, aMm)<br>
 pushContentAction: function(windowID)<br>
 popContentAction: function(windowID)<br>
 actionCancelled: function(windowID)<br>
 denyInstall: function(aData)<br>
 _setupApp: function(aData, aId)<br>
 _cloneApp: function(aData, aNewApp, aLocaleManifest, aManifest, aId, aLocalId)<br>
 _writeManifestFile: function(aId, aIsPackage, aJsonManifest)<br>
 _nextLocalId: function()<br>
 _appIdForManifestURL: function(aURI)<br>
 makeAppId: function()<br>
 _saveApps: function()<br>
 _readManifests: function(aData)<br>
 _ensureSufficientStorage: function(aNewApp)<br>
 _checkDownloadSize: function(aFreeBytes, aNewApp)<br>
 _getRequestChannel: function(aFullPackagePath, aIsLocalFileInstall, aOldApp,)<br>
 _sendDownloadProgressEvent: function(aNewApp, aProgress)<br>
 _getPackage: function(aRequestChannel, aId, aOldApp, aNewApp)<br>
 _computeFileHash: function(aFilePath)<br>
 _sendAppliedEvent: function(aApp)<br>
 _openAndReadPackage: function(aZipFile, aOldApp, aNewApp, aIsLocalFileInstall,)<br>
 _openPackage: function(aZipFile, aApp, aIsLocalFileInstall)<br>
 _openSignedPackage: function(aInstallOrigin, aManifestURL, aZipFile, aCertDb)<br>
 _readPackage: function(aOldApp, aNewApp, aIsLocalFileInstall, aIsUpdate,)<br>
 _checkSignature: function(aApp, aIsSigned, aIsLocalFileInstall)<br>
 _saveEtag: function(aIsUpdate, aOldApp, aRequestChannel, aHash, aManifest)<br>
 _checkOrigin: function(aIsSigned, aOldApp, aManifest, aIsUpdate)<br>
 _getIds: function(aIsSigned, aZipReader, aConverter, aNewApp, aOldApp,)<br>
 _checkForStoreIdMatch: function(aIsUpdate, aNewApp, aStoreId, aStoreVersion)<br>
 revertDownloadPackage: function(aId, aOldApp, aNewApp, aIsUpdate, aError)<br>
 uninstall: function(aManifestURL)<br>
 _promptForUninstall: function(aData)<br>
 confirmUninstall: function(aData)<br>
 denyUninstall: function(aData, aReason = "ERROR_UNKNOWN_FAILURE")<br>
 getSelf: function(aData, aMm)<br>
 checkInstalled: function(aData, aMm)<br>
 getInstalled: function(aData, aMm)<br>
 getNotInstalled: function(aData, aMm)<br>
 getIcon: function(aData, aMm)<br>
 getAll: function(aCallback)<br>
 isReceipt: function(data)<br>
 addReceipt: function(aData, aMm)<br>
 removeReceipt: function(aData, aMm)<br>
 replaceReceipt: function(aData, aMm)<br>
 setEnabled: function(aData)<br>
 getManifestFor: function(aManifestURL, aEntryPoint)<br>
 getAppByManifestURL: function(aManifestURL)<br>
 getFullAppByManifestURL: function(aManifestURL, aEntryPoint, aLang)<br>
 getManifestCSPByLocalId: function(aLocalId)<br>
 getDefaultCSPByLocalId: function(aLocalId)<br>
 getAppLocalIdByStoreId: function(aStoreId)<br>
 getAppByLocalId: function(aLocalId)<br>
 getManifestURLByLocalId: function(aLocalId)<br>
 getAppLocalIdByManifestURL: function(aManifestURL)<br>
 getCoreAppsBasePath: function()<br>
 getWebAppsBasePath: function()<br>
 _isLaunchable: function(aApp)<br>
 _notifyCategoryAndObservers: function(subject, topic, data,Â  msg)<br>
 registerBrowserElementParentForApp: function(aMsg, aMn)<br>
 receiveAppMessage: function(appId, message)<br>
 _clearPrivateData: function(appId, browserOnly, msg)<br>
 _sendProgressEvent: function()<br>
 updateStateChanged: function appObs_Update(aUpdate, aState)<br>
 applicationCacheAvailable: function appObs_CacheAvail(aApplicationCache)</p>