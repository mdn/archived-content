---
title: 'NSS tools : signtool'
slug: Mozilla/Projects/NSS/Tools/signtool
---
<p>Name<br>
<br>
&nbsp;&nbsp; signtool â€” Digitally sign objects and files.<br>
<br>
Synopsis<br>
<br>
&nbsp;&nbsp; signtool [-k keyName] <a href="-h">-h</a> <a href="-H">-H</a> <a href="-l">-l</a> <a href="-L">-L</a> <a href="-M">-M</a> <a href="-v">-v</a> <a href="-w">-w</a><br>
&nbsp;&nbsp; <a href="-G_nickname">-G nickname</a> <a href="--keysize"> -s size</a> <a href="-b_basename">-b basename</a> [[-c Compression<br>
&nbsp;&nbsp; Level] ] [[-d cert-dir] ] [[-i installer script] ] [[-m metafile] ] [[-x<br>
&nbsp;&nbsp; name] ] [[-f filename] ] [[-t|--token tokenname] ] [[-e extension] ] [[-o]<br>
&nbsp;&nbsp; ] [[-z] ] [[-X] ] [[--outfile] ] [[--verbose value] ] [[--norecurse] ]<br>
&nbsp;&nbsp; [[--leavearc] ] [[-j directory] ] [[-Z jarfile] ] [[-O] ] [[-p password] ]<br>
&nbsp;&nbsp; [directory-tree] [archive]<br>
<br>
Description<br>
<br>
&nbsp;&nbsp; The Signing Tool, signtool, creates digital signatures and uses a Java<br>
&nbsp;&nbsp; Archive (JAR) file to associate the signatures with files in a directory.<br>
&nbsp;&nbsp; Electronic software distribution over any network involves potential<br>
&nbsp;&nbsp; security problems. To help address some of these problems, you can<br>
&nbsp;&nbsp; associate digital signatures with the files in a JAR archive. Digital<br>
&nbsp;&nbsp; signatures allow SSL-enabled clients to perform two important operations:<br>
<br>
&nbsp;&nbsp; * Confirm the identity of the individual, company, or other entity whose<br>
&nbsp;&nbsp; digital signature is associated with the files<br>
<br>
&nbsp;&nbsp; * Check whether the files have been tampered with since being signed<br>
<br>
&nbsp;&nbsp; If you have a signing certificate, you can use Netscape Signing Tool to<br>
&nbsp;&nbsp; digitally sign files and package them as a JAR file. An object-signing<br>
&nbsp;&nbsp; certificate is a special kind of certificate that allows you to associate<br>
&nbsp;&nbsp; your digital signature with one or more files.<br>
<br>
&nbsp;&nbsp; An individual file can potentially be signed with multiple digital<br>
&nbsp;&nbsp; signatures. For example, a commercial software developer might sign the<br>
&nbsp;&nbsp; files that constitute a software product to prove that the files are<br>
&nbsp;&nbsp; indeed from a particular company. A network administrator manager might<br>
&nbsp;&nbsp; sign the same files with an additional digital signature based on a<br>
&nbsp;&nbsp; company-generated certificate to indicate that the product is approved for<br>
&nbsp;&nbsp; use within the company.<br>
<br>
&nbsp;&nbsp; The significance of a digital signature is comparable to the significance<br>
&nbsp;&nbsp; of a handwritten signature. Once you have signed a file, it is difficult<br>
&nbsp;&nbsp; to claim later that you didn't sign it. In some situations, a digital<br>
&nbsp;&nbsp; signature may be considered as legally binding as a handwritten signature.<br>
&nbsp;&nbsp; Therefore, you should take great care to ensure that you can stand behind<br>
&nbsp;&nbsp; any file you sign and distribute.<br>
<br>
&nbsp;&nbsp; For example, if you are a software developer, you should test your code to<br>
&nbsp;&nbsp; make sure it is virus-free before signing it. Similarly, if you are a<br>
&nbsp;&nbsp; network administrator, you should make sure, before signing any code, that<br>
&nbsp;&nbsp; it comes from a reliable source and will run correctly with the software<br>
&nbsp;&nbsp; installed on the machines to which you are distributing it.<br>
<br>
&nbsp;&nbsp; Before you can use Netscape Signing Tool to sign files, you must have an<br>
&nbsp;&nbsp; object-signing certificate, which is a special certificate whose<br>
&nbsp;&nbsp; associated private key is used to create digital signatures. For testing<br>
&nbsp;&nbsp; purposes only, you can create an object-signing certificate with Netscape<br>
&nbsp;&nbsp; Signing Tool 1.3. When testing is finished and you are ready to<br>
&nbsp;&nbsp; disitribute your software, you should obtain an object-signing certificate<br>
&nbsp;&nbsp; from one of two kinds of sources:<br>
<br>
&nbsp;&nbsp; * An independent certificate authority (CA) that authenticates your<br>
&nbsp;&nbsp; identity and charges you a fee. You typically get a certificate from an<br>
&nbsp;&nbsp; independent CA if you want to sign software that will be distributed over<br>
&nbsp;&nbsp; the Internet.<br>
<br>
&nbsp;&nbsp; * CA server software running on your corporate intranet or extranet.<br>
&nbsp;&nbsp; Netscape Certificate Management System provides a complete management<br>
&nbsp;&nbsp; solution for creating, deploying, and managing certificates, including CAs<br>
&nbsp;&nbsp; that issue object-signing certificates.<br>
<br>
&nbsp;&nbsp; You must also have a certificate for the CA that issues your signing<br>
&nbsp;&nbsp; certificate before you can sign files. If the certificate authority's<br>
&nbsp;&nbsp; certificate isn't already installed in your copy of Communicator, you<br>
&nbsp;&nbsp; typically install it by clicking the appropriate link on the certificate<br>
&nbsp;&nbsp; authority's web site, for example on the page from which you initiated<br>
&nbsp;&nbsp; enrollment for your signing certificate. This is the case for some test<br>
&nbsp;&nbsp; certificates, as well as certificates issued by Netscape Certificate<br>
&nbsp;&nbsp; Management System: you must download the CA certificate in addition to<br>
&nbsp;&nbsp; obtaining your own signing certificate. CA certificates for several<br>
&nbsp;&nbsp; certificate authorities are preinstalled in the Communicator certificate<br>
&nbsp;&nbsp; database.<br>
<br>
&nbsp;&nbsp; When you receive an object-signing certificate for your own use, it is<br>
&nbsp;&nbsp; automatically installed in your copy of the Communicator client software.<br>
&nbsp;&nbsp; Communicator supports the public-key cryptography standard known as PKCS<br>
&nbsp;&nbsp; #12, which governs key portability. You can, for example, move an<br>
&nbsp;&nbsp; object-signing certificate and its associated private key from one<br>
&nbsp;&nbsp; computer to another on a credit-card-sized device called a smart card.<br>
<br>
Options<br>
<br>
&nbsp;&nbsp; -b basename<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Specifies the base filename for the .rsa and .sf files in the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; META-INF directory to conform with the JAR format. For example, -b<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; signatures causes the files to be named signatures.rsa and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; signatures.sf. The default is signtool.<br>
<br>
&nbsp;&nbsp; -c#<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Specifies the compression level for the -J or -Z option. The<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; symbol # represents a number from 0 to 9, where 0 means no<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; compression and 9 means maximum compression. The higher the level<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; of compression, the smaller the output but the longer the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; operation takes. If the -c# option is not used with either the -J<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; or the -Z option, the default compression value used by both the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -J and -Z options is 6.<br>
<br>
&nbsp;&nbsp; -d certdir<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Specifies your certificate database directory; that is, the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; directory in which you placed your key3.db and cert7.db files. To<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; specify the current directory, use "-d." (including the period).<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The Unix version of signtool assumes ~/.netscape unless told<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; otherwise. The NT version of signtool always requires the use of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the -d option to specify where the database files are located.<br>
<br>
&nbsp;&nbsp; -e extension<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Tells signtool to sign only files with the given extension; for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; example, use -e".class" to sign only Java class files. Note that<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; with Netscape Signing Tool version 1.1 and later this option can<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; appear multiple times on one command line, making it possible to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; specify multiple file types or classes to include.<br>
<br>
&nbsp;&nbsp; -f commandfile<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Specifies a text file containing Netscape Signing Tool options and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; arguments in keyword=value format. All options and arguments can<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; be expressed through this file. For more information about the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; syntax used with this file, see "Tips and Techniques".<br>
<br>
&nbsp;&nbsp; -i scriptname<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Specifies the name of an installer script for SmartUpdate. This<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; script installs files from the JAR archive in the local system<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; after SmartUpdate has validated the digital signature. For more<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; details, see the description of -m that follows. The -i option<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; provides a straightforward way to provide this information if you<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; don't need to specify any metadata other than an installer script.<br>
<br>
&nbsp;&nbsp; -j directory<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Specifies a special JavaScript directory. This option causes the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; specified directory to be signed and tags its entries as inline<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; JavaScript. This special type of entry does not have to appear in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the JAR file itself. Instead, it is located in the HTML page<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; containing the inline scripts. When you use signtool -v, these<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; entries are displayed with the string NOT PRESENT.<br>
<br>
&nbsp;&nbsp; -k key ... directory<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Specifies the nickname (key) of the certificate you want to sign<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; with and signs the files in the specified directory. The directory<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; to sign is always specified as the last command-line argument.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Thus, it is possible to write signtool -k MyCert -d . signdir You<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; may have trouble if the nickname contains a single quotation mark.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; To avoid problems, escape the quotation mark using the escape<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; conventions for your platform. It's also possible to use the -k<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; option without signing any files or specifying a directory. For<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; example, you can use it with the -l option to get detailed<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; information about a particular signing certificate.<br>
<br>
&nbsp;&nbsp; -G nickname<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Generates a new private-public key pair and corresponding<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; object-signing certificate with the given nickname. The newly<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; generated keys and certificate are installed into the key and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; certificate databases in the directory specified by the -d option.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; With the NT version of Netscape Signing Tool, you must use the -d<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; option with the -G option. With the Unix version of Netscape<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Signing Tool, omitting the -d option causes the tool to install<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the keys and certificate in the Communicator key and certificate<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; databases. If you are installing the keys and certificate in the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Communicator databases, you must exit Communicator before using<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this option; otherwise, you risk corrupting the databases. In all<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cases, the certificate is also output to a file named x509.cacert,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; which has the MIME-type application/x-x509-ca-cert. Unlike<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; certificates normally used to sign finished code to be distributed<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; over a network, a test certificate created with -G is not signed<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; by a recognized certificate authority. Instead, it is self-signed.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; In addition, a single test signing certificate functions as both<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; an object-signing certificate and a CA. When you are using it to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sign objects, it behaves like an object-signing certificate. When<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; it is imported into browser software such as Communicator, it<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; behaves like an object-signing CA and cannot be used to sign<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; objects. The -G option is available in Netscape Signing Tool 1.0<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; and later versions only. By default, it produces only RSA<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; certificates with 1024-byte keys in the internal token. However,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; you can use the -s option specify the required key size and the -t<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; option to specify the token. For more information about the use of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the -G option, see "Generating Test Object-Signing<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Certificates""Generating Test Object-Signing Certificates" on page<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1241.<br>
<br>
&nbsp;&nbsp; -l<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Lists signing certificates, including issuing CAs. If any of your<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; certificates are expired or invalid, the list will so specify.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; This option can be used with the -k option to list detailed<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; information about a particular signing certificate. The -l option<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; is available in Netscape Signing Tool 1.0 and later versions only.<br>
<br>
&nbsp;&nbsp; -J<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Signs a directory of HTML files containing JavaScript and creates<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; as many archive files as are specified in the HTML tags. Even if<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; signtool creates more than one archive file, you need to supply<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the key database password only once. The -J option is available<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; only in Netscape Signing Tool 1.0 and later versions. The -J<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; option cannot be used at the same time as the -Z option. If the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -c# option is not used with the -J option, the default compression<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value is 6. Note that versions 1.1 and later of Netscape Signing<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Tool correctly recognizes the CODEBASE attribute, allows paths to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; be expressed for the CLASS and SRC attributes instead of filenames<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; only, processes LINK tags and parses HTML correctly, and offers<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; clearer error messages.<br>
<br>
&nbsp;&nbsp; -L<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Lists the certificates in your database. An asterisk appears to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the left of the nickname for any certificate that can be used to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sign objects with signtool.<br>
<br>
&nbsp;&nbsp; --leavearc<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Retains the temporary .arc (archive) directories that the -J<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; option creates. These directories are automatically erased by<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; default. Retaining the temporary directories can be an aid to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; debugging.<br>
<br>
&nbsp;&nbsp; -m metafile<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Specifies the name of a metadata control file. Metadata is signed<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; information attached either to the JAR archive itself or to files<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; within the archive. This metadata can be any ASCII string, but is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; used mainly for specifying an installer script. The metadata file<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contains one entry per line, each with three fields: field #1:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; file specification, or + if you want to specify global metadata<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (that is, metadata about the JAR archive itself or all entries in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the archive) field #2: the name of the data you are specifying;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for example: Install-Script field #3: data corresponding to the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name in field #2 For example, the -i option uses the equivalent of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this line: + Install-Script: script.js This example associates a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MIME type with a file: movie.qt MIME-Type: video/quicktime For<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; information about the way installer script information appears in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the manifest file for a JAR archive, see The JAR Format on<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Netscape DevEdge.<br>
<br>
&nbsp;&nbsp; -M<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Lists the PKCS #11 modules available to signtool, including smart<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cards. The -M option is available in Netscape Signing Tool 1.0 and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; later versions only. For information on using Netscape Signing<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Tool with smart cards, see "Using Netscape Signing Tool with Smart<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Cards". For information on using the -M option to verify<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FIPS-140-1 validated mode, see "Netscape Signing Tool and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FIPS-140-1".<br>
<br>
&nbsp;&nbsp; --norecurse<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Blocks recursion into subdirectories when signing a directory's<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contents or when parsing HTML.<br>
<br>
&nbsp;&nbsp; -o<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Optimizes the archive for size. Use this only if you are signing<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; very large archives containing hundreds of files. This option<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; makes the manifest files (required by the JAR format) considerably<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; smaller, but they contain slightly less information.<br>
<br>
&nbsp;&nbsp; --outfile outputfile<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Specifies a file to receive redirected output from Netscape<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Signing Tool.<br>
<br>
&nbsp;&nbsp; -p password<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Specifies a password for the private-key database. Note that the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; password entered on the command line is displayed as plain text.<br>
<br>
&nbsp;&nbsp; -s keysize<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Specifies the size of the key for generated certificate. Use the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -M option to find out what tokens are available. The -s option can<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; be used with the -G option only.<br>
<br>
&nbsp;&nbsp; -t token<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Specifies which available token should generate the key and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; receive the certificate. Use the -M option to find out what tokens<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; are available. The -t option can be used with the -G option only.<br>
<br>
&nbsp;&nbsp; -v archive<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Displays the contents of an archive and verifies the cryptographic<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; integrity of the digital signatures it contains and the files with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; which they are associated. This includes checking that the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; certificate for the issuer of the object-signing certificate is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; listed in the certificate database, that the CA's digital<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; signature on the object-signing certificate is valid, that the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; relevant certificates have not expired, and so on.<br>
<br>
&nbsp;&nbsp; --verbosity value<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Sets the quantity of information Netscape Signing Tool generates<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; in operation. A value of 0 (zero) is the default and gives full<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; information. A value of -1 suppresses most messages, but not error<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; messages.<br>
<br>
&nbsp;&nbsp; -w archive<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Displays the names of signers of any files in the archive.<br>
<br>
&nbsp;&nbsp; -x directory<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Excludes the specified directory from signing. Note that with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Netscape Signing Tool version 1.1 and later this option can appear<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; multiple times on one command line, making it possible to specify<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; several particular directories to exclude.<br>
<br>
&nbsp;&nbsp; -z<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Tells signtool not to store the signing time in the digital<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; signature. This option is useful if you want the expiration date<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; of the signature checked against the current date and time rather<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; than the time the files were signed.<br>
<br>
&nbsp;&nbsp; -Z jarfile<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Creates a JAR file with the specified name. You must specify this<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; option if you want signtool to create the JAR file; it does not do<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; so automatically. If you don't specify -Z, you must use an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; external ZIP tool to create the JAR file. The -Z option cannot be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; used at the same time as the -J option. If the -c# option is not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; used with the -Z option, the default compression value is 6.<br>
<br>
The Command File Format<br>
<br>
&nbsp;&nbsp; Entries in a Netscape Signing Tool command file have this general format:<br>
&nbsp;&nbsp; keyword=value Everything before the = sign on a single line is a keyword,<br>
&nbsp;&nbsp; and everything from the = sign to the end of line is a value. The value<br>
&nbsp;&nbsp; may include = signs; only the first = sign on a line is interpreted. Blank<br>
&nbsp;&nbsp; lines are ignored, but white space on a line with keywords and values is<br>
&nbsp;&nbsp; assumed to be part of the keyword (if it comes before the equal sign) or<br>
&nbsp;&nbsp; part of the value (if it comes after the first equal sign). Keywords are<br>
&nbsp;&nbsp; case insensitive, values are generally case sensitive. Since the = sign<br>
&nbsp;&nbsp; and newline delimit the value, it should not be quoted.<br>
<br>
&nbsp;&nbsp; Subsection<br>
<br>
&nbsp;&nbsp; basename<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Same as -b option.<br>
<br>
&nbsp;&nbsp; compression<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Same as -c option.<br>
<br>
&nbsp;&nbsp; certdir<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Same as -d option.<br>
<br>
&nbsp;&nbsp; extension<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Same as -e option.<br>
<br>
&nbsp;&nbsp; generate<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Same as -G option.<br>
<br>
&nbsp;&nbsp; installscript<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Same as -i option.<br>
<br>
&nbsp;&nbsp; javascriptdir<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Same as -j option.<br>
<br>
&nbsp;&nbsp; htmldir<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Same as -J option.<br>
<br>
&nbsp;&nbsp; certname<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Nickname of certificate, as with -k and -l -k options.<br>
<br>
&nbsp;&nbsp; signdir<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The directory to be signed, as with -k option.<br>
<br>
&nbsp;&nbsp; list<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Same as -l option. Value is ignored, but = sign must be present.<br>
<br>
&nbsp;&nbsp; listall<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Same as -L option. Value is ignored, but = sign must be present.<br>
<br>
&nbsp;&nbsp; metafile<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Same as -m option.<br>
<br>
&nbsp;&nbsp; modules<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Same as -M option. Value is ignored, but = sign must be present.<br>
<br>
&nbsp;&nbsp; optimize<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Same as -o option. Value is ignored, but = sign must be present.<br>
<br>
&nbsp;&nbsp; password<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Same as -p option.<br>
<br>
&nbsp;&nbsp; keysize<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Same as -s option.<br>
<br>
&nbsp;&nbsp; token<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Same as -t option.<br>
<br>
&nbsp;&nbsp; verify<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Same as -v option.<br>
<br>
&nbsp;&nbsp; who<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Same as -w option.<br>
<br>
&nbsp;&nbsp; exclude<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Same as -x option.<br>
<br>
&nbsp;&nbsp; notime<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Same as -z option. value is ignored, but = sign must be present.<br>
<br>
&nbsp;&nbsp; jarfile<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Same as -Z option.<br>
<br>
&nbsp;&nbsp; outfile<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Name of a file to which output and error messages will be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; redirected. This option has no command-line equivalent.<br>
<br>
Extended Examples<br>
<br>
&nbsp;&nbsp; The following example will do this and that<br>
<br>
&nbsp;&nbsp; Listing Available Signing Certificates<br>
<br>
&nbsp;&nbsp; You use the -L option to list the nicknames for all available certificates<br>
&nbsp;&nbsp; and check which ones are signing certificates.<br>
<br>
&nbsp;signtool -L<br>
<br>
&nbsp;using certificate directory: /u/jsmith/.netscape<br>
&nbsp;S Certificates<br>
&nbsp;- ------------<br>
&nbsp;&nbsp; BBN Certificate Services CA Root 1<br>
&nbsp;&nbsp; IBM World Registry CA<br>
&nbsp;&nbsp; VeriSign Class 1 CA - Individual Subscriber - VeriSign, Inc.<br>
&nbsp;&nbsp; GTE CyberTrust Root CA<br>
&nbsp;&nbsp; Uptime Group Plc. Class 4 CA<br>
&nbsp;* Verisign Object Signing Cert<br>
&nbsp;&nbsp; Integrion CA<br>
&nbsp;&nbsp; GTE CyberTrust Secure Server CA<br>
&nbsp;&nbsp; AT&amp;T Directory Services<br>
&nbsp;* test object signing cert<br>
&nbsp;&nbsp; Uptime Group Plc. Class 1 CA<br>
&nbsp;&nbsp; VeriSign Class 1 Primary CA<br>
&nbsp;- ------------<br>
<br>
&nbsp;Certificates that can be used to sign objects have *'s to their left.<br>
<br>
&nbsp;&nbsp; Two signing certificates are displayed: Verisign Object Signing Cert and<br>
&nbsp;&nbsp; test object signing cert.<br>
<br>
&nbsp;&nbsp; You use the -l option to get a list of signing certificates only,<br>
&nbsp;&nbsp; including the signing CA for each.<br>
<br>
&nbsp;signtool -l<br>
<br>
&nbsp;using certificate directory: /u/jsmith/.netscape<br>
&nbsp;Object signing certificates<br>
&nbsp;---------------------------------------<br>
<br>
&nbsp;Verisign Object Signing Cert<br>
&nbsp;&nbsp;&nbsp;&nbsp; Issued by: VeriSign, Inc. - Verisign, Inc.<br>
&nbsp;&nbsp;&nbsp;&nbsp; Expires: Tue May 19, 1998<br>
&nbsp;test object signing cert<br>
&nbsp;&nbsp;&nbsp;&nbsp; Issued by: test object signing cert (Signtool 1.0 Testing<br>
&nbsp;Certificate (960187691))<br>
&nbsp;&nbsp;&nbsp;&nbsp; Expires: Sun May 17, 1998<br>
&nbsp;---------------------------------------<br>
<br>
&nbsp;&nbsp; For a list including CAs, use the -L option.<br>
<br>
&nbsp;&nbsp; Signing a File<br>
<br>
&nbsp;&nbsp; 1. Create an empty directory.<br>
<br>
&nbsp;mkdir signdir<br>
<br>
&nbsp;&nbsp; 2. Put some file into it.<br>
<br>
&nbsp;echo boo &gt; signdir/test.f<br>
<br>
&nbsp;&nbsp; 3. Specify the name of your object-signing certificate and sign the<br>
&nbsp;&nbsp; directory.<br>
<br>
&nbsp;signtool -k MySignCert -Z testjar.jar signdir<br>
<br>
&nbsp;using key "MySignCert"<br>
&nbsp;using certificate directory: /u/jsmith/.netscape<br>
&nbsp;Generating signdir/META-INF/manifest.mf file..<br>
&nbsp;--&gt; test.f<br>
&nbsp;adding signdir/test.f to testjar.jar<br>
&nbsp;Generating signtool.sf file..<br>
&nbsp;Enter Password or Pin for "Communicator Certificate DB":<br>
<br>
&nbsp;adding signdir/META-INF/manifest.mf to testjar.jar<br>
&nbsp;adding signdir/META-INF/signtool.sf to testjar.jar<br>
&nbsp;adding signdir/META-INF/signtool.rsa to testjar.jar<br>
<br>
&nbsp;tree "signdir" signed successfully<br>
<br>
&nbsp;&nbsp; 4. Test the archive you just created.<br>
<br>
&nbsp;signtool -v testjar.jar<br>
<br>
&nbsp;using certificate directory: /u/jsmith/.netscape<br>
&nbsp;archive "testjar.jar" has passed crypto verification.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; status&nbsp;&nbsp; path<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ------------&nbsp;&nbsp; -------------------<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; verified&nbsp;&nbsp; test.f<br>
<br>
&nbsp;&nbsp; Using Netscape Signing Tool with a ZIP Utility<br>
<br>
&nbsp;&nbsp; To use Netscape Signing Tool with a ZIP utility, you must have the utility<br>
&nbsp;&nbsp; in your path environment variable. You should use the zip.exe utility<br>
&nbsp;&nbsp; rather than pkzip.exe, which cannot handle long filenames. You can use a<br>
&nbsp;&nbsp; ZIP utility instead of the -Z option to package a signed archive into a<br>
&nbsp;&nbsp; JAR file after you have signed it:<br>
<br>
&nbsp;cd signdir<br>
<br>
&nbsp;&nbsp; zip -r ../myjar.jar *<br>
&nbsp;&nbsp; adding: META-INF/ (stored 0%)<br>
&nbsp;&nbsp; adding: META-INF/manifest.mf (deflated 15%)<br>
&nbsp;&nbsp; adding: META-INF/signtool.sf (deflated 28%)<br>
&nbsp;&nbsp; adding: META-INF/signtool.rsa (stored 0%)<br>
&nbsp;&nbsp; adding: text.txt (stored 0%)<br>
<br>
&nbsp;&nbsp; Generating the Keys and Certificate<br>
<br>
&nbsp;&nbsp; The signtool option -G generates a new public-private key pair and<br>
&nbsp;&nbsp; certificate. It takes the nickname of the new certificate as an argument.<br>
&nbsp;&nbsp; The newly generated keys and certificate are installed into the key and<br>
&nbsp;&nbsp; certificate databases in the directory specified by the -d option. With<br>
&nbsp;&nbsp; the NT version of Netscape Signing Tool, you must use the -d option with<br>
&nbsp;&nbsp; the -G option. With the Unix version of Netscape Signing Tool, omitting<br>
&nbsp;&nbsp; the -d option causes the tool to install the keys and certificate in the<br>
&nbsp;&nbsp; Communicator key and certificate databases. In all cases, the certificate<br>
&nbsp;&nbsp; is also output to a file named x509.cacert, which has the MIME-type<br>
&nbsp;&nbsp; application/x-x509-ca-cert.<br>
<br>
&nbsp;&nbsp; Certificates contain standard information about the entity they identify,<br>
&nbsp;&nbsp; such as the common name and organization name. Netscape Signing Tool<br>
&nbsp;&nbsp; prompts you for this information when you run the command with the -G<br>
&nbsp;&nbsp; option. However, all of the requested fields are optional for test<br>
&nbsp;&nbsp; certificates. If you do not enter a common name, the tool provides a<br>
&nbsp;&nbsp; default name. In the following example, the user input is in boldface:<br>
<br>
&nbsp;signtool -G MyTestCert<br>
<br>
&nbsp;using certificate directory: /u/someuser/.netscape<br>
&nbsp;Enter certificate information. All fields are optional. Acceptable<br>
&nbsp;characters are numbers, letters, spaces, and apostrophes.<br>
&nbsp;certificate common name: Test Object Signing Certificate<br>
&nbsp;organization: Netscape Communications Corp.<br>
&nbsp;organization unit: Server Products Division<br>
&nbsp;state or province: California<br>
&nbsp;country (must be exactly 2 characters): US<br>
&nbsp;username: someuser<br>
&nbsp;email address: <a class=" link-mailto" href="mailto:someuser@netscape.com">someuser@netscape.com</a><br>
&nbsp;Enter Password or Pin for "Communicator Certificate DB": [Password will not echo]<br>
&nbsp;generated public/private key pair<br>
&nbsp;certificate request generated<br>
&nbsp;certificate has been signed<br>
&nbsp;certificate "MyTestCert" added to database<br>
&nbsp;Exported certificate to x509.raw and x509.cacert.<br>
<br>
&nbsp;&nbsp; The certificate information is read from standard input. Therefore, the<br>
&nbsp;&nbsp; information can be read from a file using the redirection operator (&lt;) in<br>
&nbsp;&nbsp; some operating systems. To create a file for this purpose, enter each of<br>
&nbsp;&nbsp; the seven input fields, in order, on a separate line. Make sure there is a<br>
&nbsp;&nbsp; newline character at the end of the last line. Then run signtool with<br>
&nbsp;&nbsp; standard input redirected from your file as follows:<br>
<br>
&nbsp;signtool -G MyTestCert inputfile<br>
<br>
&nbsp;&nbsp; The prompts show up on the screen, but the responses will be automatically<br>
&nbsp;&nbsp; read from the file. The password will still be read from the console<br>
&nbsp;&nbsp; unless you use the -p option to give the password on the command line.<br>
<br>
&nbsp;&nbsp; Using the -M Option to List Smart Cards<br>
<br>
&nbsp;&nbsp; You can use the -M option to list the PKCS #11 modules, including smart<br>
&nbsp;&nbsp; cards, that are available to signtool:<br>
<br>
&nbsp;signtool -d "c:\netscape\users\jsmith" -M<br>
<br>
&nbsp;using certificate directory: c:\netscape\users\username<br>
&nbsp;Listing of PKCS11 modules<br>
&nbsp;-----------------------------------------------<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1. Netscape Internal PKCS #11 Module<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (this module is internally loaded)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; slots: 2 slots attached<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; status: loaded<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; slot: Communicator Internal Cryptographic Services Version 4.0<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; token: Communicator Generic Crypto Svcs<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; slot: Communicator User Private Key and Certificate Services<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; token: Communicator Certificate DB<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2. CryptOS<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (this is an external module)<br>
&nbsp; DLL name: core32<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; slots: 1 slots attached<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; status: loaded<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; slot: Litronic 210<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; token:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -----------------------------------------------<br>
<br>
&nbsp;&nbsp; Using Netscape Signing Tool and a Smart Card to Sign Files<br>
<br>
&nbsp;&nbsp; The signtool command normally takes an argument of the -k option to<br>
&nbsp;&nbsp; specify a signing certificate. To sign with a smart card, you supply only<br>
&nbsp;&nbsp; the fully qualified name of the certificate.<br>
<br>
&nbsp;&nbsp; To see fully qualified certificate names when you run Communicator, click<br>
&nbsp;&nbsp; the Security button in Navigator, then click Yours under Certificates in<br>
&nbsp;&nbsp; the left frame. Fully qualified names are of the format smart<br>
&nbsp;&nbsp; card:certificate, for example "MyCard:My Signing Cert". You use this name<br>
&nbsp;&nbsp; with the -k argument as follows:<br>
<br>
&nbsp;signtool -k "MyCard:My Signing Cert" directory<br>
<br>
&nbsp;&nbsp; Verifying FIPS Mode<br>
<br>
&nbsp;&nbsp; Use the -M option to verify that you are using the FIPS-140-1 module.<br>
<br>
&nbsp;signtool -d "c:\netscape\users\jsmith" -M<br>
<br>
&nbsp;using certificate directory: c:\netscape\users\jsmith<br>
&nbsp;Listing of PKCS11 modules<br>
&nbsp;-----------------------------------------------<br>
&nbsp;&nbsp; 1. Netscape Internal PKCS #11 Module<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (this module is internally loaded)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; slots: 2 slots attached<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; status: loaded<br>
&nbsp;&nbsp;&nbsp;&nbsp; slot: Communicator Internal Cryptographic Services Version 4.0<br>
&nbsp;&nbsp;&nbsp; token: Communicator Generic Crypto Svcs<br>
&nbsp;&nbsp;&nbsp;&nbsp; slot: Communicator User Private Key and Certificate Services<br>
&nbsp;&nbsp;&nbsp; token: Communicator Certificate DB<br>
&nbsp;-----------------------------------------------<br>
<br>
&nbsp;&nbsp; This Unix example shows that Netscape Signing Tool is using a FIPS-140-1<br>
&nbsp;&nbsp; module:<br>
<br>
&nbsp;signtool -d "c:\netscape\users\jsmith" -M<br>
&nbsp;using certificate directory: c:\netscape\users\jsmith<br>
&nbsp;Enter Password or Pin for "Communicator Certificate DB": [password will not echo]<br>
&nbsp;Listing of PKCS11 modules<br>
&nbsp;-----------------------------------------------<br>
&nbsp;1. Netscape Internal FIPS PKCS #11 Module<br>
&nbsp;(this module is internally loaded)<br>
&nbsp;slots: 1 slots attached<br>
&nbsp;status: loaded<br>
&nbsp;slot: Netscape Internal FIPS-140-1 Cryptographic Services<br>
&nbsp;token: Communicator Certificate DB<br>
&nbsp;-----------------------------------------------<br>
<br>
See Also<br>
<br>
&nbsp;&nbsp; signver (1)<br>
<br>
&nbsp;&nbsp; The NSS wiki has information on the new database design and how to<br>
&nbsp;&nbsp; configure applications to use it.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp; o&nbsp;<a class=" link-https" href="https://wiki.mozilla.org/NSS_Shared_DB_Howto">https://wiki.mozilla.org/NSS_Shared_DB_Howto</a><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp; o&nbsp;<a class=" link-https" href="https://wiki.mozilla.org/NSS_Shared_DB">https://wiki.mozilla.org/NSS_Shared_DB</a><br>
<br>
Additional Resources<br>
<br>
&nbsp;&nbsp; For information about NSS and other tools related to NSS (like JSS), check<br>
&nbsp;&nbsp; out the NSS project wiki at<br>
&nbsp;&nbsp; [1]<a class=" external" href="https://www.mozilla.org/projects/security/pki/nss/">http://www.mozilla.org/projects/security/pki/nss/</a>. The NSS site relates<br>
&nbsp;&nbsp; directly to NSS code changes and releases.<br>
<br>
&nbsp;&nbsp; Mailing lists: <a class=" link-https" href="https://lists.mozilla.org/listinfo/dev-tech-crypto">https://lists.mozilla.org/listinfo/dev-tech-crypto</a><br>
<br>
&nbsp;&nbsp; IRC: Freenode at #dogtag-pki<br>
<br>
Authors<br>
<br>
&nbsp;&nbsp; The NSS tools were written and maintained by developers with Netscape, Red<br>
&nbsp;&nbsp; Hat, and Sun.<br>
<br>
&nbsp;&nbsp; Authors: Elio Maldonado &lt;<a class=" link-mailto" href="mailto:emaldona@redhat.com">emaldona@redhat.com</a>&gt;, Deon Lackey<br>
&nbsp;&nbsp; &lt;<a class=" link-mailto" href="mailto:dlackey@redhat.com">dlackey@redhat.com</a>&gt;.<br>
<br>
Copyright<br>
<br>
&nbsp;&nbsp; (c) 2010, Red Hat, Inc. Licensed under the GNU Public License version 2.<br>
<br>
References<br>
<br>
&nbsp;&nbsp; Visible links<br>
&nbsp;&nbsp; 1. <a class=" external" href="https://www.mozilla.org/projects/security/pki/nss/">http://www.mozilla.org/projects/security/pki/nss/</a></p>
