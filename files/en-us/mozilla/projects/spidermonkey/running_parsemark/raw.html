<div>
 {{SpiderMonkeySidebar("Tests")}}</div>
<div class="summary">
 <p>Parsemark is a command-line testing utility for measuring parse/emit performance of the SpiderMonkey front-end. The intent is to run a dozen or so large-payload JS sites globbed up from across the web. Yes, it includes GMail.</p>
</div>
<p>Here's how you get your mitts on it. The test files are not checked into the source tree because they're non-Mozilla JS code.</p>
<ol>
 <li>Download the <a class="link-https" href="https://bugzilla.mozilla.org/attachment.cgi?id=429916" title="https://bugzilla.mozilla.org/attachment.cgi?id=429916">suite of parse tests</a> from <a class="link-https" href="https://bugzilla.mozilla.org/show_bug.cgi?id=548621" title="https://bugzilla.mozilla.org/show_bug.cgi?id=548621">Bug 548621</a> and decompress them.</li>
 <li>Within <code>js/src/tests</code>, run <code>python parsemark.py -h</code> to see help documentation.</li>
</ol>
<p>Generally you'll want to capture JSON results for your baseline and compare them to the results for the "current" version of your shell. A typical run can be done like so:</p>
<pre><code>cd js/src/tests</code>

<code>python parsemark.py /path/to/baseline/js /path/to/parse-tests-dir/ -q &gt; /tmp/baseline.json</code>

<code>python parsemark.py /path/to/current/js /path/to/parse-tests-dir/ -q &gt; /tmp/current.json</code>

<code>python compare_bench.py /tmp/current.json /tmp/baseline.json</code></pre>
<div class="note">
 <p>NOTE:  Unfortunately the comparisons done are very noisy and not reliable!</p>
</div>
<p> </p>