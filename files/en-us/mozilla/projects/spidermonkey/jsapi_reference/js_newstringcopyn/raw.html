<div>{{SpiderMonkeySidebar("JSAPI")}}</div>
<div class="summary">
<p>Create a new JS string.</p>
</div>
<h2 id="Syntax" name="Syntax">Syntax</h2>
<pre class="brush: cpp">JSString *
JS_NewStringCopyN(JSContext *cx, const char *s, size_t n);

JSString *
JS_NewUCStringCopyN(JSContext *cx, const char16_t *s, size_t n);
</pre>
<table class="fullwidth-table">
 <tbody>
  <tr>
   <th>Name</th>
   <th>Type</th>
   <th>Description</th>
  </tr>
  <tr>
   <td><code>cx</code></td>
   <td>{{jsapixref("JSRuntime", "JSContext *")}}</td>
   <td>Pointer to a JS context from which to derive runtime information. {{ Jsapi-requires-request() }}</td>
  </tr>
  <tr>
   <td><code>s</code></td>
   <td><code>const char*</code> <em>or</em> <code>const char16_t *</code></td>
   <td>Pointer to the array of characters containing the text for the JS string to create.</td>
  </tr>
  <tr>
   <td><code>n</code></td>
   <td><code>size_t</code></td>
   <td>Number of characters to copy from <code>s</code> into the new string.</td>
  </tr>
 </tbody>
</table>
<h2 id="Description" name="Description">Description</h2>
<p><code>JS_NewStringCopyN</code> allocates space for a JavaScript string and its underlying storage, and copies <code>n</code> characters from a C character array, <code>s</code>, into the new <code>JSString</code>. <code>JS_NewUCStringCopyN</code> is the Unicode version of the function. The two functions differ only in the type of the character array <code>s</code>; both functions create ordinary JavaScript strings, and all JavaScript strings are made up of 16-bit characters.</p>
<p>If the array <code>s</code> contains more than <code>n</code> characters, the new string contains a truncated version of the original string. The string may contain null characters (<code>'\0'</code>). They are copied into the new string like any other character.</p>
<p>You can use <code>JS_NewStringCopyN</code> to copy binary data or to copy only a certain portion of a C string into a JavaScript string.</p>
<p>On success, <code>JS_NewStringCopyN</code> and <code>JS_NewUCStringCopyN</code> return a pointer to the new JS string. Otherwise they return <code>NULL</code>.</p>
<h2 id="See_Also" name="See_Also">See Also</h2>
<ul>
  <li>{{ LXRSearch("ident", "i", "JS_NewStringCopyN") }}</li>
  <li>{{ LXRSearch("ident", "i", "JS_NewUCStringCopyN") }}</li>
  <li>{{jsapixref("JS_GetEmptyStringValue")}}</li>
  <li>{{jsapixref("JS_NewStringCopyZ")}}</li>
  <li>{{jsapixref("JS_NewStringCopyZ", "JS_NewUCStringCopyZ")}}</li>
  <li>{{jsapixref("JS_ValueToString")}}</li>
</ul>