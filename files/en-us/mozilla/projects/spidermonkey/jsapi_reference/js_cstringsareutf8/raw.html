<div>
 {{SpiderMonkeySidebar("JSAPI")}}</div>
<p>{{ obsolete_header("jsapi19") }}</p>
<div class="warning">
 <p>These functions have been removed in SpiderMonkey 19.  API users should switch to functions which take UTF-8 explicitly or handle their own string encoding and decoding.</p>
</div>
<div class="summary">
<p>Option to have the JSAPI treat <code>char</code> strings as UTF-8.</p>
</div>
<h2 id="Syntax" name="Syntax">Syntax</h2>
<pre class="brush: cpp">JSBool
JS_CStringsAreUTF8(void);

void
JS_SetCStringsAreUTF8(void); // Added in SpiderMonkey 1.8
</pre>
<h2 id="Description" name="Description">Description</h2>
<p>By default, all C/C++ strings passed into the JSAPI are treated as ISO/IEC 8859-1, also known as ISO-Latin-1. That is, each byte is treated as a Unicode character, and there is no way to pass in a string containing characters beyond U+00FF.</p>
<p>However, SpiderMonkey can optionally interpret these strings as UTF-8. There are two ways to enable this: at compile time, by building SpiderMonkey with <code>JS_C_STRINGS_ARE_UTF8</code> defined; or at run time, by calling <strong><code>JS_SetCStringsAreUTF8</code></strong> before the first call to <code>JS_NewRuntime</code>. Enabling this option also causes {{jsapixref("JS_GetStringBytes")}} and {{jsapixref("JS_EncodeCharacters")}} to produce UTF-8 strings instead of Latin-1.</p>
<p><strong><code>JS_CStringsAreUTF8</code></strong> returns <code>JS_TRUE</code> if the JavaScript engine is configured (either at compile time or at run time) to interpret <code>char</code> strings as UTF-8. </p>
<h2 id="See_Also" name="See_Also">See Also</h2>
<ul>
<li>{{bug(805080)}}</li>
</ul>