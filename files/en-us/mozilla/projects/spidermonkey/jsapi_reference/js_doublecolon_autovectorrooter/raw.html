<div>{{SpiderMonkeySidebar("JSAPI")}}</div>

<p>{{ jsapi_minversion_header("17") }}</p>

<div class="summary">
<p>Base class that roots an internal variable-size array of type <code>T</code>.</p>
</div>

<h2 id="Syntax" name="Syntax">Syntax</h2>

<pre class="brush: cpp">JS::AutoVectorRooter(JSContext* cx);

</pre>

<h2 id="Methods">Methods</h2>

<table class="fullwidth-table">
 <tbody>
  <tr>
   <th>Method</th>
   <th>Description</th>
  </tr>
  <tr>
   <td><code>size_t length() const</code></td>
   <td>Returns the length of the array.</td>
  </tr>
  <tr>
   <td><code>bool empty() const</code></td>
   <td>Determines if the array is empty (length is zero).</td>
  </tr>
  <tr>
   <td><code>bool append(const T &amp;v)</code></td>
   <td>Appends an element <code>v</code> to the array.</td>
  </tr>
  <tr>
   <td><code>bool append(const T *ptr, size_t len)</code></td>
   <td>Appends a sequence of <code>T</code> specified with a pointer <code>ptr</code> and length <code>len</code> to the array.</td>
  </tr>
  <tr>
   <td><code>bool appendAll(const AutoVectorRooter&lt;T&gt; &amp;other)</code></td>
   <td>Appends all elements of <code>other</code> to the array.</td>
  </tr>
  <tr>
   <td><code>bool insert(T *p, const T &amp;val)</code></td>
   <td>Inserts an element <code>val</code> at the position specified by <code>p</code>.</td>
  </tr>
  <tr>
   <td><code>void infallibleAppend(const T &amp;v)</code></td>
   <td>Appends an element <code>v</code> to the array. <em>For use when space has already been reserved.</em></td>
  </tr>
  <tr>
   <td><code>void popBack()</code></td>
   <td>Pops an element from the array.</td>
  </tr>
  <tr>
   <td><code>T popCopy()</code></td>
   <td>Pops an element from the array and returns it.</td>
  </tr>
  <tr>
   <td><code>bool growBy(size_t inc)</code></td>
   <td>Grows the array by <code>inc</code>.</td>
  </tr>
  <tr>
   <td><code>bool resize(size_t newLength)</code></td>
   <td>Resizes the array to <code>newLength.</code></td>
  </tr>
  <tr>
   <td><code>void clear()</code></td>
   <td>Clears all elements.</td>
  </tr>
  <tr>
   <td><code>bool reserve(size_t newLength)</code></td>
   <td>Reserves the array with <code>newLength</code>.</td>
  </tr>
  <tr>
   <td><code>JS::MutableHandle&lt;T&gt; operator[](size_t i)</code></td>
   <td>Returns to the <code>i</code>-th element as {{jsapixref("JS::MutableHandle", "JS::MutableHandle&lt;T&gt;")}}.</td>
  </tr>
  <tr>
   <td><code>JS::Handle&lt;T&gt; operator[](size_t i) const</code></td>
   <td>Returns to the <code>i</code>-th element as {{jsapixref("JS::Handle", "JS::Handle&lt;T&gt;")}}.</td>
  </tr>
  <tr>
   <td><code>const T *begin() const</code></td>
   <td>Returns a pointer to the first element.</td>
  </tr>
  <tr>
   <td><code>T *begin()</code></td>
   <td>Returns a pointer to the first element.</td>
  </tr>
  <tr>
   <td><code>const T *end() const</code></td>
   <td>Returns a pointer to the element next to the last element.</td>
  </tr>
  <tr>
   <td><code>T *end()</code></td>
   <td>Returns a pointer to the element next to the last element.</td>
  </tr>
  <tr>
   <td><code>Range all()</code></td>
   <td>Returns the <code>Range</code> of the array.</td>
  </tr>
  <tr>
   <td><code>const T &amp;back() const</code></td>
   <td>Returns the last element.</td>
  </tr>
 </tbody>
</table>

<h2 id="Description" name="Description">Description</h2>

<p><code>JS::AutoVectorRooter&lt;T&gt;</code> holds a variable-size rooted array of type <code>T</code>.</p>

<p>There are derived classes for the main types:</p>

<table class="fullwidth-table">
 <tbody>
  <tr>
   <th>Class</th>
   <th>Parent class</th>
  </tr>
  <tr>
   <td><code>JS::AutoValueVector</code></td>
   <td><code>AutoVectorRooter&lt;Value&gt;</code></td>
  </tr>
  <tr>
   <td><code>JS::AutoIdVector</code></td>
   <td><code>AutoVectorRooter&lt;jsid&gt;</code></td>
  </tr>
  <tr>
   <td><code>JS::AutoObjectVector</code> {{ Jsapi_minversion_inline("24") }}</td>
   <td><code>AutoVectorRooter&lt;JSObject *&gt;</code></td>
  </tr>
  <tr>
   <td><code>JS::AutoFunctionVector</code> {{ Jsapi_minversion_inline("31") }}</td>
   <td><code>AutoVectorRooter&lt;JSFunction *&gt;</code></td>
  </tr>
  <tr>
   <td><code>JS::AutoScriptVector</code></td>
   <td><code>AutoVectorRooter&lt;JSScript *&gt;</code></td>
  </tr>
 </tbody>
</table>

<h2 id="See_Also" name="See_Also">See Also</h2>

<ul>
 <li>{{ LXRSearch("ident", "i", "JS::AutoVectorRooter") }}</li>
 <li>{{ LXRSearch("ident", "i", "JS::AutoValueVector") }}</li>
 <li>{{ LXRSearch("ident", "i", "JS::AutoIdVector") }}</li>
 <li>{{ LXRSearch("ident", "i", "JS::AutoObjectVector") }}</li>
 <li>{{ LXRSearch("ident", "i", "JS::AutoFunctionVector") }}</li>
 <li>{{ LXRSearch("ident", "i", "JS::AutoScriptVector") }}</li>
 <li>{{jsapixref("JS::AutoValueArray", "JS::AutoValueArray&lt;N&gt;")}} - fixed-size array of {{jsapixref("JS::Value")}}</li>
 <li>{{bug(677079)}}</li>
 <li>{{bug(868580)}} - expose <code>JS::AutoObjectVector</code></li>
 <li>{{bug(848592)}} - added <code>JS::AutoFunctionVector</code></li>
 <li>{{bug(676281)}} - added <code>JS::AutoScriptVector</code></li>
</ul>