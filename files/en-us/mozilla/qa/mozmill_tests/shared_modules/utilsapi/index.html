---
title: UtilsAPI
slug: Mozilla/QA/Mozmill_tests/Shared_Modules/UtilsAPI
tags:
  - Automated testing
  - MozMill
  - QA
  - 'QA:Tools'
---
<p>The UtilsAPI offers various helper functions for any other API which is not already covered by another shared module.</p>
<h2 id="Class_overview">Class overview</h2>
<table class="standard-table"> <thead> <tr> <th scope="col">Class Name     </th> <th scope="col">Description</th> </tr> </thead> <tbody> <tr> <td><code><a href="/en/Mozmill_Tests/Shared_Modules/UtilsAPI/appInfo">appInfo</a></code></td> <td>Wrapper class which provides information about the host application (see <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIXULAppInfo">nsIXULAppInfo</a></code>)</td> </tr> </tbody>
</table>
<h2 id="Method_overview">Method overview</h2>
<table class="standard-table"> <tbody> <tr> <td><code><a href="#assertElementVisible.28.29">assertElementVisible</a>(in <a href="/en/Mozmill/Mozmill_Base_Object_Interfaces#mozmill.controller.MozMillController">MozMillController</a> controller, in <a href="/en/Mozmill/Mozmill_Elements_Library_Object#Elem_Interface">ElemBase</a> element, in boolean visibility)</code></td> </tr> <tr> <td><code><a href="#assertLoadedUrlEqual.28.29">assertLoadedUrlEqual</a>(in <a href="/en/Mozmill/Mozmill_Base_Object_Interfaces#mozmill.controller.MozMillController">MozMillController</a> controller, in string targetUrl)</code></td> </tr> <tr> <td><code><a href="#checkSearchField.28.29">checkSearchField</a>(in <a href="/en/Mozmill/Mozmill_Base_Object_Interfaces#mozmill.controller.MozMillController">MozMillController</a> controller, in <a href="/en/Mozmill/Mozmill_Elements_Library_Object#Elem_Interface">ElemBase</a> searchField, in string searchTerm,<br>                  in <a href="/en/Mozmill/Mozmill_Elements_Library_Object#Elem_Interface">ElemBase</a> submitButton, number timeout)</code></td> </tr> <tr> <td><code><a href="#closeContentAreaContextMenu.28.29">closeContentAreaContextMenu</a>(in <a href="/en/Mozmill/Mozmill_Base_Object_Interfaces#mozmill.controller.MozMillController">MozMillController</a> controller)<br> </code></td> </tr> <tr> <td><code><a href="/en/XPCOM_Interface_Reference/nsIURI">nsIURI</a> <a href="#createURI.28.29">createURI</a>(in string spec, in string originCharset, in string baseURI)</code></td> </tr> <tr> <td><code><a href="#formatUrlPref.28.29">formatUrlPref</a>(in string prefName)</code></td> </tr> <tr> <td><code><code>string <a href="#getEntity.28.29">getEntity</a>(in string [urls], in string entityId)</code><br> </code></td> </tr> <tr> <td><code><code>string <a href="#getProperty.28.29">getProperty</a>(in string url, in string prefName)</code><br> </code></td> </tr> </tbody>
</table>
<h2 id="Methods">Methods</h2>
<h3 id="assertElementVisible.28.29" name="assertElementVisible.28.29">assertElementVisible()</h3>
<p>Assert if the visibility state of the element is equal with the expected state.</p>
<pre>assertElementVisible(
  in <a title="en/Mozmill/Mozmill Base Object Interfaces#mozmill.controller.MozMillController">MozmillController</a> controller,
  in <a title="en/Mozmill/Mozmill Elements Library Object#Elem Interface">ElemBase</a> element,
  in boolean visibility
);
</pre>
<h6 id="Parameters">Parameters</h6>
<dl> <dt><code>controller</code></dt> <dd><code>MozMillController of the window to operate on.</code></dd> <dt><code>element</code></dt> <dd>Element which visibility has to be checked.</dd> <dt><code>visibility</code></dt> <dd>Expected visibility state of the element.</dd>
</dl>
<h3 id="assertLoadedUrlEqual.28.29" name="assertLoadedUrlEqual.28.29">assertLoadedUrlEqual()</h3>
<p>Assert if the current URL is identical to the expected URL. This function loads the target URL first to also test for redirects.</p>
<pre>assertLoadedUrlEqual(
  in <a title="en/Mozmill/Mozmill Base Object Interfaces#mozmill.controller.MozMillController">MozmillController</a> controller,
  in string targetUrl
);
</pre>
<h6 id="Parameters_2">Parameters</h6>
<dl> <dt><code>controller</code></dt> <dd><code>MozMillController of the window to operate on.</code></dd> <dt><code>targetUrl</code></dt> <dd><code>URL which should be open.</code></dd>
</dl>
<h3 id="checkSearchField.28.29" name="checkSearchField.28.29">checkSearchField()</h3>
<p>Run tests against the given search form. An Exception will be thrown if entering the search term or clicking the search button fails.</p>
<pre>checkSearchField(
  in <a title="en/Mozmill/Mozmill Base Object Interfaces#mozmill.controller.MozMillController">MozmillController</a> controller,
  in <a title="en/Mozmill/Mozmill Elements Library Object#Elem Interface">ElemBase</a> searchField,
  in string searchTerm,
  [in <a title="en/Mozmill/Mozmill Elements Library Object#Elem Interface">ElemBase</a> submitButton],
  [in number timeout]
);
</pre>
<h6 id="Parameters_3">Parameters</h6>
<dl> <dt><code>controller</code></dt> <dd><code>MozMillController of the window to operate on.</code></dd> <dt><code>searchField</code></dt> <dd><code>The HTML input form element to test.</code></dd> <dt><code>searchTerm</code></dt> <dd><code>The search term for the test.</code></dd> <dt><code>submitButton</code></dt> <dd><code>The form submit button.</code></dd> <dt><code>timeout</code></dt> <dd><code>The timeout value for the single tests.</code></dd>
</dl>
<h3 id="closeContentAreaContextMenu.28.29" name="closeContentAreaContextMenu.28.29">closeContentAreaContextMenu()</h3>
<p>Close the context menu inside the content area of the currently open tab.</p>
<pre>closeContentAreaContextMenu(
  in <a title="en/Mozmill/Mozmill Base Object Interfaces#mozmill.controller.MozMillController">MozmillController</a> controller
);</pre>
<h6 id="Parameters_4">Parameters</h6>
<dl> <dt><code>controller</code></dt> <dd><code>MozMillController of the window to operate on.</code></dd>
</dl>
<h3 id="createURI()">createURI()</h3>
<p>Creates a new nsIURI instance from the given URL which is often needed to run bookmark related tests.</p>
<pre><a title="en/XPCOM Interface Reference/nsIURI">nsIURI</a> createURI(
  in string spec,
  in string originCharset,
  in string baseURI
);
</pre>
<h6 id="Parameters_5">Parameters</h6>
<dl> <dt><code>spec</code></dt> <dd>The URI string in UTF-8 encoding.</dd> <dt><code>originCharset</code></dt> <dd>The charset of the document from which this URI string originated.</dd> <dt><code>baseURI</code></dt> <p>If null, <code>spec</code> must specify an absolute URI. Otherwise, spec may be resolved relative to <code>baseURI</code>, depending on the protocol.</p>
</dl>
<h3 id="formatUrlPref.28.29" name="formatUrlPref.28.29">formatUrlPref()</h3>
<p>Format an URL which gets retrieved from a preference and contains placeholders for the product, version, and platform to a final URL.</p>
<pre>formatUrlPref(
  in string prefName
);
</pre>
<h6 id="Parameters_6">Parameters</h6>
<dl> <dt><code>preference</code></dt> <dd>Name of the preference which contains the URL with placeholders.</dd>
</dl>
<h3 id="getEntity.28.29" name="getEntity.28.29">getEntity()</h3>
<p>Get the value of an individual entity. This function can be used to retrieve localized values for ui elements which are located inside DTD files.</p>
<pre>getProperty(
  in string [urls],
  in string entityId
);
</pre>
<h6 id="Parameters_7">Parameters</h6>
<dl> <dt><code>urls</code></dt> <dd>Array of the URLs of the DTDs containing the entity as well as relevant external entities.</dd> <dt><code>entityId</code></dt> <dd>ID of the entity whose value is to be retrieved.</dd>
</dl>
<h3 id="getProperty.28.29" name="getProperty.28.29">getProperty()</h3>
<p>Get the value of an individual property. This function can be used to retrieve localized values for ui elements which are located inside property files.</p>
<pre>getProperty(
  in string url,
  in string prefName
);
</pre>
<h6 id="Parameters_8">Parameters</h6>
<dl> <dt><code>url</code></dt> <dd>URL of the string bundle.</dd> <dt><code>prefName</code></dt> <dd>Name of the property whose value is to be retrieved.</dd>
</dl>
