---
title: modalDialog
slug: Mozilla/QA/Mozmill_tests/Shared_Modules/ModalDialogAPI/modalDialog
tags:
  - Automated testing
  - MozMill
  - QA
  - 'QA:Tools'
---
<p>Before a modal dialog can be opened, an instance of the <code>modalDialog</code> class has to be created. Once <code>start()</code> has been executed all newly opened windows will be observed and the specified callback handler is called when a modal dialog has been opened.</p>
<h2 id="Method_overview">Method overview</h2>
<table class="standard-table"> <tbody> <tr> <td><code><a href="#modalDialog.28.29" title="#modalDialog.28.29">modalDialog</a>(in func_ptr callback);</code></td> </tr> <tr> <td><code>boolean <a href="#getDialog.28.29" title="#getDialog.28.29">getDialog</a>();</code></td> </tr> <tr> <td><code><a href="#setHandler.28.29" title="#setHandler.28.29">setHandler</a>(in func_ptr callback);</code></td> </tr> <tr> <td><code><a href="#start.28.29" title="#start.28.29">start</a>(in number delay, in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIObserver" title="">nsIObserver</a></code> observer);</code></td> </tr> </tbody>
</table>
<h2 id="Methods">Methods</h2>
<h3 id="modalDialog.28.29" name="modalDialog.28.29">modalDialog()</h3>
<p>Constructor of the <code>modalDialog</code> class.</p>
<pre>modalDialog(
  in func_ptr callback
);
</pre>
<h6 id="Parameters">Parameters</h6>
<dl> <dt><code>callback</code></dt> <dd>Callback function which will be called once a new modal dialog has been opened.</dd>
</dl>
<h3 id="getDialog.28.29" name="getDialog.28.29">getDialog()</h3>
<p>Internally used function to check if a new top-most positioned window is a modal dialog. You do not have to call this function.</p>
<pre>boolean getDialog();
</pre>
<h6 id="Parameters_2">Parameters</h6>
<p>None.</p>
<h6 id="Return_value">Return value</h6>
<p><code>true</code> if the topmost window is a modal dialog.</p>
<h3 id="setHandler.28.29" name="setHandler.28.29">setHandler()</h3>
<p>If the callback handler has to be updated a handler can be assigned with this function.</p>
<pre>setHandler(
  in func_ptr callback
);
</pre>
<h6 id="Parameters_3">Parameters</h6>
<dl> <dt><code>callback</code></dt> <dd>Callback function which will be called once a new modal dialog has been opened.</dd>
</dl>
<h3 id="start.28.29" name="start.28.29">start()</h3>
<p>Starts observing the currently open windows. Once a new top-most positioned modal dialog is present the assigned callback handler is called.</p>
<pre>start(
  in number delay,
  in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIObserver" title="">nsIObserver</a></code> observer
);
</pre>
<h6 id="Parameters_4">Parameters</h6>
<dl> <dt><code>delay</code></dt> <dd>A delay has to be only specified if there is a top-most positioned modal dialog already open. If it will take a while to open the expected modal dialog the already open dialog would be returned instead. This parameter is optional.</dd> <dt><code>observer</code></dt> <dd>Internally used to specify the observer which will be used to wait for the modal dialog.Â  This parameter is optional.</dd>
</dl>
