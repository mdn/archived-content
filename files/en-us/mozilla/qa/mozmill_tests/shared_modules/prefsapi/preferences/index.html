---
title: preferences
slug: Mozilla/QA/Mozmill_tests/Shared_Modules/PrefsAPI/preferences
tags:
  - Automated testing
  - MozMill
  - QA
  - 'QA:Tools'
---
<p>The preferences class simplifies the access to the <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIPrefBranch" title>nsIPrefBranch</a></code> XPCOM interface and let you read and write preferences.</p>
<h2 id="Attributes">Attributes</h2>
<table class="standard-table"> <thead> <tr> <th scope="col">Attribute</th> <th scope="col">Type</th> <th scope="col">Description</th> </tr> </thead> <tbody> <tr> <td><code>branch</code></td> <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIPrefBranch">nsIPrefBranch</a></code></code></td> <td>Instance which can be used for a more detailed access.</td> </tr> </tbody>
</table>
<h2 id="Methods">Methods</h2>
<h3 id="clearUserPref.28.29" name="clearUserPref.28.29">clearUserPref()</h3>
<p>Removes the user-defined preference with the given name.</p>
<pre>clearUserPref(
  in string prefName
);
</pre>
<h6 id="Parameters">Parameters</h6>
<dl> <dt><code>prefName</code></dt> <dd>Name of the preference to remove.</dd>
</dl>
<h3 id="getPref.28.29" name="getPref.28.29">getPref()</h3>
<p>Retrieves the value of the given preference. The estimated type will be the same as for the <code><code>defaultValue</code></code> parameter.</p>
<pre>[boolean|number|string] getPref(
  in string prefName,
  in [boolean|number|string] defaultValue
);
</pre>
<h6 id="Parameters_2">Parameters</h6>
<dl> <dt><code>prefName</code></dt> <dd>Name of the preference which value has to be retrieved.</dd>
</dl>
<dl> <dt><code>defaultValue</code></dt> <dd>The parameter&apos;s type will be used to guess the preference type. Use it to set a default value if the preference cannot be found.</dd>
</dl>
<h6 id="Return_value">Return value</h6>
<p>The current value of the preference. Possible types are <code>boolean</code>, <code>number</code>, and <code>string</code>.</p>
<h3 id="setPref.28.29" name="setPref.28.29">setPref()</h3>
<p>Set the value of the preferences with the given name.</p>
<pre>setPref(
  in string prefName,
  in mixed value
);
</pre>
<h6 id="Parameters_3">Parameters</h6>
<dl> <dt><code>prefName</code></dt> <dd>Name of the preference to set the new value.</dd> <dt><code>value</code></dt> <dd>The new value to be set. Possible types are <code>boolean</code>, <code>number</code>, and <code>string</code>.</dd>
</dl><h2 id="Examples">Examples</h2>
<p>The example below shows how the value of a preference can be updated and read. Finally the user defined value is deleted.</p>
<pre class="brush: js">var RELATIVE_ROOT = &apos;../../shared-modules&apos;;
var MODULE_REQUIRES = [&apos;PrefsAPI&apos;];

var setupModule = function(module) {
  controller = mozmill.getBrowserController();
}

var testPreferences = function(module) {
  var prefName = &quot;dom.disable_open_during_load&quot;;

  PrefsAPI.preferences.setPref(prefName, true);
  controller.window.alert(PrefsAPI.preferences.getPref(prefName, false));

 Â PrefsAPI.preferences.clearUserPref(prefName);
}</pre>
