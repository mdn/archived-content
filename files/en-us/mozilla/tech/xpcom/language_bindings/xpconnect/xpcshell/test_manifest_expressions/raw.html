<p><a href="/en/Writing_xpcshell-based_unit_tests" title="en/Writing xpcshell-based unit tests">XPCShell unit tests</a> are run by specifying them in <a href="/en/Writing_xpcshell-based_unit_tests#Adding_your_tests_to_the_xpcshell_manifest" title="en/Writing xpcshell-based unit tests#Adding your tests to the xpcshell manifest">a manifest file</a>. You can add conditions to tests in order to control when tests get run. The conditions accept a simple boolean expression syntax, described here.</p>

<h2 id="Operators">Operators</h2>

<p>In order of decreasing precedence:</p>

<ul>
 <li>()</li>
 <li>== !=</li>
 <li>&amp;&amp;</li>
 <li>||</li>
</ul>

<h2 id="Literal_Values">Literal Values</h2>

<ul>
 <li>
  <p>Booleans: the literal strings <code>true</code> and <code>false</code>.</p>
 </li>
 <li>
  <p>Integers: A series of contiguous digits. Only decimal integers are supported.</p>
 </li>
 <li>
  <p>Strings: any series of characters enclosed in double quotes " or single quotes '. No escape sequences are supported.</p>
 </li>
</ul>

<h2 id="Variables">Variables</h2>

<p>Variables are supported as a series of letters, digits or underscores beginning with a letter or an underscore. There are a fixed set of variables provided by the test harness via <code><a class="external" href="http://mxr.mozilla.org/mozilla-central/source/build/mozinfo.py" title="http://mxr.mozilla.org/mozilla-central/source/build/mozinfo.py">mozinfo.py</a></code>, with many of the values initialized at configure time by <code><a class="external" href="http://mxr.mozilla.org/mozilla-central/source/config/writemozinfo.py" title="http://mxr.mozilla.org/mozilla-central/source/config/writemozinfo.py">writemozinfo.py</a></code> which writes <code>mozinfo.json</code> into the root of the build directory. See also <a href="http://gecko.readthedocs.org/en/latest/build/buildsystem/mozinfo.html#mozinfo-attributes">the official docs for this set of variables</a>. Note that it currently seems like neither this list nor the one on the official docs is exhaustive, so if you need something and it's not here, best check the source code!</p>

<ul>
 <li><code>os </code>- The operating system on which the test is being run

  <ul>
   <li>One of: 'win', 'mac', 'linux', 'android'</li>
  </ul>
 </li>
 <li><code>os_version </code>- The version of the operating system on which the test is being run</li>
 <li><code>toolkit</code> - The graphics toolkit used by this build
  <ul>
   <li>One of: 'windows', 'cocoa', 'gtk2', 'android'</li>
  </ul>
 </li>
 <li><code>processor</code> - The CPU which the code is compiled for
  <ul>
   <li>One of: 'x86', 'x86_64', 'arm'</li>
  </ul>
 </li>
 <li><code>bits</code> - The pointer size of the CPU architecture, in bits
  <ul>
   <li>One of 32, 64, possibly unknown</li>
  </ul>
 </li>
 <li><code>debug</code> - Set to <code>true</code> if this build is a debug build, <code>false</code> otherwise</li>
 <li><code>crashreporter</code> - Set to <code>true</code> if this build has crash reporting code enabled, <code>false</code> otherwise.</li>
</ul>

<h2 id="Comments">Comments</h2>

<p>If an expression contains a <code>#</code> (pound/hash) character outside of a string, the character and the rest of the line will be treated as a comment.  This is useful as the entire line will generally be reported whenever tests are reported as being skipped, meaning the comment as well as the expression itself will appear in any logs where this is reported.</p>