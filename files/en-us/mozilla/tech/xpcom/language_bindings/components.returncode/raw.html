<p> </p>

<p><code>Components.returnCode</code> is a property which can hold an <a href="en/XPCOM">XPCOM</a> return code additionally to the value returned by the <code>return</code> statement.</p>

<div class="warning">
<p>Note that <code>Components.returnCode</code> is currently non-functional due to <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=287107" title='FIXED: xpcwrappedjsclass.cpp rev 1.73 regressed "return" of NS_COMFALSE (Components.returnCode)'>bug 287107</a>. This problem was introduced in Mozilla 1.4.</p>
</div>

<h2 id="Usage" name="Usage">Usage</h2>

<p><code>Components.returnCode</code> is a property that can be used to indicate to an XPCOM caller of the JavaScript method that the method is returning a specific <code>nsresult</code> code.</p>

<p>Generally, <a href="en/XPConnect">XPConnect</a> does a fine job of making it unnecessary for JavaScript code to worry about <code>nsresult</code> codes. By default the successful completion of the JavaScript method will cause XPConnect to return a result code of <code>NS_OK</code> to the caller. If the JavaScript code needs to signal failure then that is done by throwing an exception. However, there are a very few XPCOM interfaces that specify success code return values. <code>Components.returnCode</code> exists in order to make it possible to implement these rare interfaces in JavaScript.</p>

<h2 id="Example" name="Example">Example</h2>

<pre class="eval">var foo = {
  bar: function(i) {
    if (yada_yada)
      Components.returnCode = 5;

    return i * 2;
  }
};
</pre>