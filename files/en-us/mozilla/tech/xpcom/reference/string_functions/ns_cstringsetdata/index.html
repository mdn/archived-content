---
title: NS_CStringSetData
slug: Mozilla/Tech/XPCOM/Reference/String_functions/NS_CStringSetData
tags:
  - Functions
  - 'Functions:Frozen'
  - XPCOM
  - XPCOM API Reference
---
<p> « <a href="/en-US/docs/XPCOM_API_Reference">XPCOM API Reference</a>
</p>
<h3 id="Summary" name="Summary"> Summary </h3>
<p>The <code>NS_CStringSetData</code> function copies data into the string's internal buffer. This is a low-level API.
</p>
<pre class="eval">#include "nsStringAPI.h"

nsresult NS_CStringSetData(
  nsACString&amp; <var>aString</var>,
  const char* <var>aData</var>,
  PRUint32 <var>aDataLength</var> = PR_UINT32_MAX
);
</pre>
<h3 id="Parameters" name="Parameters"> Parameters </h3>
<dl><dt> aString
</dt><dd> [in] A <code><a href="en/NsACString">nsACString</a></code> instance to modify.
</dd></dl>
<dl><dt> aData
</dt><dd> [in] A raw character array to copy into this string.
</dd></dl>
<dl><dt> aDataLength
</dt><dd> [in] The length of <i>aData</i>, measured in storage units. If equal to <code>PR_UINT32_MAX</code>, then <i>aData</i> is assumed to be null-terminated. Otherwise, <i>aData</i> need not be null-terminated.
</dd></dl>
<h3 id="Return_Values" name="Return_Values"> Return Values </h3>
<p>The <code>NS_CStringSetData</code> function returns <code>NS_OK</code> if successful. Otherwise, it returns an error code.
</p>
<h3 id="Example" name="Example"> Example </h3>
<pre>nsCStringContainer str;
rv = NS_CStringContainerInit(str);
if (NS_SUCCEEDED(rv))
{
  rv = NS_CStringSetData(str, "hello world");
  if (NS_SUCCEEDED(rv))
  {
    // now, pass |str| to some function expecting a |const nsACString&amp;| parameter.
  }
  NS_CStringContainerFinish(str);
}
</pre>
<h3 id="History" name="History"> History </h3>
<p>This function was frozen for Mozilla 1.7. See <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=239123" title="FIXED: exported functions in nsStringAPI.h should be frozen for 1.7 final">bug 239123</a> for details.
</p>
<h3 id="See_Also" name="See_Also"> See Also </h3>
<p><a href="en/NsACString">nsACString</a>
</p>
