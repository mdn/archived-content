<p>The <code>nsIWebProgress</code> interface is used to add or remove <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIWebProgressListener" title="">nsIWebProgressListener</a></code> instances to observe the loading of asynchronous requests (usually in the context of a DOM window).</p>
<p><code>nsIWebProgress</code> instances may be arranged in a parent-child configuration, corresponding to the parent-child configuration of their respective DOM windows. However, in some cases a <code>nsIWebProgress</code> instance may not have an associated DOM window. The parent-child relationship of <code>nsIWebProgress</code> instances is not made explicit by this interface, but the relationship may exist in some implementations.</p>
<p>A <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIWebProgressListener" title="">nsIWebProgressListener</a></code> instance receives notifications for the <code>nsIWebProgress</code> instance to which it added itself, and it may also receive notifications from any <code>nsIWebProgress</code> instances that are children of that <code>nsIWebProgress</code> instance.</p>
<p></p><div style="border: solid #ddd 2px; margin-bottom: 12px;">
<div style="background: #eee; padding: 2px;"><code><a href="https://dxr.mozilla.org/mozilla-central/source/uriloader/base/nsIWebProgress.idl" rel="custom">uriloader/base/nsIWebProgress.idl</a></code><span style="text-align: right; float: right;"><a href="/en-US/docs/Interfaces/About_Scriptable_Interfaces" style="color: #00cc00; font-weight: 700;">Scriptable</a></span></div>
<span style="padding: 4px 2px;">

<i>Please add a summary to this article.</i>
</span>

<div style="background: #eee; padding: 2px;">
<span> </span>
<span style="text-align: right; float: right;">Last changed in Gecko 1.8.0 </span></div>
</div><p></p>
<p>Inherits from: <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">nsISupports</a></code></p>
<h2 id="Method_overview" name="Method_overview">Method overview</h2>
<table class="standard-table"> <tbody> <tr> <td><code>void <a href="#addProgressListener()">addProgressListener</a>(in nsIWebProgressListener aListener, in unsigned long aNotifyMask);</code></td> </tr> <tr> <td><code>void <a href="#removeProgressListener()">removeProgressListener</a>(in nsIWebProgressListener aListener);</code></td> </tr> </tbody>
</table>
<h2 id="Attributes" name="Attributes">Attributes</h2>
<table class="standard-table"> <tbody> <tr> <td class="header">Attribute</td> <td class="header">Type</td> <td class="header">Description</td> </tr> <tr> <td><code>DOMWindow</code></td> <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMWindow" title="">nsIDOMWindow</a></code></code></td> <td>The DOM window associated with this <code>nsIWebProgress</code> instance. <strong>Read only.</strong> <h6 id="Exceptions_thrown" name="Exceptions_thrown">Exceptions thrown</h6> <dl> <dt><code>NS_ERROR_FAILURE</code></dt> <dd>Indicates that there is no associated DOM window.</dd> </dl> </td> </tr> <tr> <td><code>isLoadingDocument</code></td> <td><code><a href="/en/PRBool" title="en/PRBool">PRBool</a></code></td> <td>Indicates whether or not a document is currently being loaded in the context of this <code>nsIWebProgress</code> instance. <strong>Read only.</strong></td> </tr> </tbody>
</table>
<h2 id="Constants" name="Constants">Constants</h2>
<p>The following flags may be combined to form the aNotifyMask parameter for the <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIWebProgress#addProgressListener()">addProgressListener()</a></code> method. They limit the set of events that are delivered to an <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIWebProgressListener" title="">nsIWebProgressListener</a></code> instance.</p>
<p>These flags indicate the state transistions to observe, corresponding to <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIWebProgressListener#onStateChange()">nsIWebProgressListener.onStateChange()</a></code>.</p>
<table class="standard-table"> <tbody> <tr> <td class="header">Constant</td> <td class="header">Value</td> <td class="header">Description</td> </tr> <tr> <td><code>NOTIFY_STATE_REQUEST</code></td> <td><code>0x00000001</code></td> <td>Only receive the <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIWebProgressListener#onStateChange()">nsIWebProgressListener.onStateChange()</a></code> event if the aStateFlags parameter includes <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIWebProgressListener" title="">nsIWebProgressListener</a></code>::STATE_IS_REQUEST.</td> </tr> <tr> <td><code>NOTIFY_STATE_DOCUMENT</code></td> <td><code>0x00000002</code></td> <td>Only receive the <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIWebProgressListener#onStateChange()">nsIWebProgressListener.onStateChange()</a></code> event if the aStateFlags parameter includes <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIWebProgressListener" title="">nsIWebProgressListener</a></code>::STATE_IS_DOCUMENT.</td> </tr> <tr> <td><code>NOTIFY_STATE_NETWORK</code></td> <td><code>0x00000004</code></td> <td>Only receive the <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIWebProgressListener#onStateChange()">nsIWebProgressListener.onStateChange()</a></code> event if the aStateFlags parameter includes <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIWebProgressListener" title="">nsIWebProgressListener</a></code>::STATE_IS_NETWORK.</td> </tr> <tr> <td><code>NOTIFY_STATE_WINDOW</code></td> <td><code>0x00000008</code></td> <td>Only receive the <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIWebProgressListener#onStateChange()">nsIWebProgressListener.onStateChange()</a></code> event if the aStateFlags parameter includes <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIWebProgressListener" title="">nsIWebProgressListener</a></code>::STATE_IS_WINDOW.</td> </tr> <tr> <td><code>NOTIFY_STATE_ALL</code></td> <td><code>0x0000000f</code></td> <td>Receive all <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIWebProgressListener#onStateChange()">nsIWebProgressListener.onStateChange()</a></code> events.</td> </tr> </tbody>
</table>
<p>These flags indicate the other events to observe, corresponding to the other four methods defined on <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIWebProgressListener" title="">nsIWebProgressListener</a></code>.</p>
<table class="standard-table"> <tbody> <tr> <td class="header">Constant</td> <td class="header">Value</td> <td class="header">Description</td> </tr> <tr> <td><code>NOTIFY_PROGRESS</code></td> <td><code>0x00000010</code></td> <td>Receive <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIWebProgressListener#onProgressChange()">nsIWebProgressListener.onProgressChange()</a></code> events.</td> </tr> <tr> <td><code>NOTIFY_STATUS</code></td> <td><code>0x00000020</code></td> <td>Receive <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIWebProgressListener#onStatusChange()">nsIWebProgressListener.onStatusChange()</a></code> events.</td> </tr> <tr> <td><code>NOTIFY_SECURITY</code></td> <td><code>0x00000040</code></td> <td>Receive <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIWebProgressListener#onSecurityChange()">nsIWebProgressListener.onSecurityChange()</a></code> events.</td> </tr> <tr> <td><code>NOTIFY_LOCATION</code></td> <td><code>0x00000080</code></td> <td>Receive <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIWebProgressListener#onLocationChange()">nsIWebProgressListener.onLocationChange()</a></code> events.</td> </tr> <tr> <td><code>NOTIFY_REFRESH</code></td> <td><code>0x00000100</code></td> <td>Receive <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIWebProgressListener2#onRefreshAttempted()">nsIWebProgressListener2.onRefreshAttempted()</a></code> events. This is defined on <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIWebProgressListener2" title="">nsIWebProgressListener2</a></code>.</td> </tr> <tr> <td><code>NOTIFY_ALL</code></td> <td><code>0x000000ff</code> &lt;= Gecko 1.8.1<br> <code>0x000001ff</code> &gt; Gecko 1.8.1</td> <td>This flag enables all notifications.</td> </tr> </tbody>
</table>
<h2 id="Methods" name="Methods">Methods</h2>
<h3 id="addProgressListener()" name="addProgressListener()">addProgressListener()</h3>
<p>Registers a listener to receive web progress events.</p>
<pre class="eval">void addProgressListener(
  in nsIWebProgressListener aListener,
  in unsigned long aNotifyMask
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl> <dt><code>aListener</code></dt> <dd>The listener interface to be called when a progress event occurs. This object must also implement <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupportsWeakReference" title="">nsISupportsWeakReference</a></code>.</dd> <dt><code>aNotifyMask</code></dt> <dd>The types of notifications to receive.</dd>
</dl>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">Exceptions thrown</h6>
<dl> <dt><code>NS_ERROR_INVALID_ARG</code></dt> <dd>Indicates that aListener was either null or that it does not support weak references.</dd> <dt><code>NS_ERROR_FAILURE</code></dt> <dd>Indicates that aListener was already registered.</dd>
</dl>
<h3 id="removeProgressListener()" name="removeProgressListener()">removeProgressListener()</h3>
<p>Removes a previously registered listener of progress events.</p>
<pre class="eval">void removeProgressListener(
  in nsIWebProgressListener aListener
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl> <dt><code>aListener</code></dt> <dd>The listener interface previously registered with a call to <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIWebProgress#addProgressListener()">addProgressListener()</a></code>.</dd>
</dl>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">Exceptions thrown</h6>
<dl> <dt><code>NS_ERROR_FAILURE</code></dt> <dd>Indicates that aListener was not registered.</dd>
</dl>