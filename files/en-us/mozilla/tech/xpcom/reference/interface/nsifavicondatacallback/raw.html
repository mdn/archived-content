<p></p><div style="border: solid #ddd 2px; margin-bottom: 12px;">
<div style="background: #eee; padding: 2px;"><code><a href="https://dxr.mozilla.org/mozilla-central/source/toolkit/components/places/public/nsIFaviconService.idl" rel="custom">toolkit/components/places/public/nsIFaviconService.idl</a></code><span style="text-align: right; float: right;"><a href="/en-US/docs/Interfaces/About_Scriptable_Interfaces" style="color: #00cc00; font-weight: 700;">Scriptable</a></span></div>
<span style="padding: 4px 2px;">

<i>Please add a summary to this article.</i>
</span>

  <div style="height: 42px; position: relative; padding: 2px; width: auto;">

  <div style="top: 22px; font-size: 11px; position: absolute;">1.0</div>

  <div style="top: 22px; font-size: 11px; position: absolute; left: 0px; text-align: right; float: right; width: 100%;">66</div>

  <div style="height: 8px; top: 16px; background: #dd0000; left: 0px; position: absolute; width: 11.428571428571429%;"></div>

<div style="height: 8px; top: 16px; left: 11.428571428571429%; background: #00dd00; position: absolute; width: 88.57142857142857%;" title="Introduced in Gecko 2.0 (Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)"></div>

<div style="top: 0px; font-size: 11px; position: absolute; left: 11.428571428571429%;">Introduced</div>
<div style="top: 22px; font-size: 11px; position: absolute; left: 11.428571428571429%;">Gecko 2.0</div>

</div>

<div style="background: #eee; padding: 2px;">
Inherits from: <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">nsISupports</a></code>
<span style="text-align: right; float: right;">Last changed in Gecko 2.0 (Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)</span></div>
</div><p></p>
<h2 id="Method_overview" name="Method_overview">Method overview</h2>
<table class="standard-table">
  <tbody>
    <tr>
      <td><code>void <a href="#onComplete()">onComplete</a>(in nsIURI aURI, in unsigned long aDataLen, [const,array,size_is(aDataLen)] in octet aData, in AUTF8String aMimeType);</code></td>
    </tr>
  </tbody>
</table>
<h2 id="Methods" name="Methods">Methods</h2>
<h3 id="onComplete()" name="onComplete()">onComplete()</h3>
<p>Called when the required favicon's information is available.</p>
<p>It's up to the invoking method to state if the callback is always invoked, or called on success only.  Check the method documentation to ensure that.</p>
<p>The caller will receive the most information we can gather on the icon, but it's not guaranteed that all of them will be set. For some method we could not know the favicon's data (it could just be too expensive to get it, or the method does not require we actually have any data). It's up to the caller to check aDataLen &gt; 0 before using any data-related information like mime-type or data itself.</p>
<pre class="eval">void onComplete(
  in nsIURI aURI,
  in unsigned long aDataLen,
  [const,array,size_is(aDataLen)] in octet aData,
  in AUTF8String aMimeType
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
  <dt>
    <code>aURI</code></dt>
  <dd>
    Receives the "favicon URI" (not the "favicon link URI") associated to the requested page.  This can be null if there is no associated favicon URI, or the callback is notifying a failure.</dd>
  <dt>
    <code>aDataLen</code></dt>
  <dd>
    Size of the icon data in bytes. Notice that a value of 0 does not necessarily mean that we don't have an icon.</dd>
  <dt>
    <code>aData</code></dt>
  <dd>
    Icon data, or an empty array if aDataLen is 0.</dd>
  <dt>
    <code>aMimeType</code></dt>
  <dd>
    Mime type of the icon, or an empty string if aDataLen is 0.</dd>
</dl>