<p></p><div style="border: solid #ddd 2px; margin-bottom: 12px;">
<div style="background: #eee; padding: 2px;"><code><a href="https://dxr.mozilla.org/mozilla-central/source/docshell/base/nsIWebNavigation.idl" rel="custom">docshell/base/nsIWebNavigation.idl</a></code><span style="text-align: right; float: right;"><a href="/en-US/docs/Interfaces/About_Scriptable_Interfaces" style="color: #00cc00; font-weight: 700;">Scriptable</a></span></div>
<span style="padding: 4px 2px;">

Defines an interface for navigating the web. It provides methods and attributes to direct an object to navigate to a new location, stop or restart an in process load, or determine where the object has previously gone.
</span>

<div style="background: #eee; padding: 2px;">
Inherits from: <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">nsISupports</a></code>
<span style="text-align: right; float: right;">Last changed in Gecko 1.9 (Firefox 3)</span></div>
</div><p></p>

<p>This interface is implemented by the following components:</p>

<pre class="eval"> * @mozilla.org/browser/shistory-internal;1
 * @mozilla.org/browser/shistory;1
 * @mozilla.org/embedding/browser/nsWebBrowser;1
 * @mozilla.org/docshell;1
</pre>

<p></p><div class="blockIndicator geckoMinVer standardNote">
  <div style="text-align: center; font-weight: bold; padding-bottom: 0.5em;">Gecko 1.9.2 note</div>
  <div>In Gecko 1.9.2 (Firefox 3.6), the <code>@mozilla.org/webshell;1</code> component no longer exists; you need to use <code>@mozilla.org/docshell;1</code> instead.</div>
</div><p></p>

<h2 id="Method_overview" name="Method_overview">Method overview</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td><code>void <a href="#goBack()">goBack</a></code></td>
  </tr>
  <tr>
   <td><code>void <a href="#goForward()">goForward</a></code></td>
  </tr>
  <tr>
   <td><code>void <a href="#gotoIndex()">gotoIndex</a>( in long index )</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#loadURI()">loadURI</a>(in <a href="/en/Wstring" title="en/Wstring">wstring</a> URI , in unsigned long loadFlags , in <a href="/en/XPCOM_Interface_Reference/nsIURI" title="en/XPCOM_Interface_Reference/nsIURI">nsIURI</a> referrer , in <a href="/en/XPCOM_Interface_Reference/nsIInputStream" title="en/nsIInputStream">nsIInputStream</a> postData, in <a href="/en/XPCOM_Interface_Reference/nsIInputStream" title="en/nsIInputStream">nsIInputStream</a> headers)</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#reload()">reload</a>(in unsigned long reloadFlags)</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#stop()">stop</a>(in unsigned long stopFlags) </code></td>
  </tr>
 </tbody>
</table>

<h2 id="Constants" name="Constants">Constants</h2>

<h3 id="Load_Flags" name="Load_Flags">Load Flags</h3>

<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Constant</td>
   <td class="header">Value</td>
   <td class="header">Description</td>
  </tr>
  <tr>
   <td><code>LOAD_FLAGS_MASK</code></td>
   <td>65535</td>
   <td>This flag defines the range of bits that may be specified.</td>
  </tr>
  <tr>
   <td><code>LOAD_FLAGS_NONE</code></td>
   <td>0</td>
   <td>This is the default value for the load flags parameter.</td>
  </tr>
  <tr>
   <td><code>LOAD_FLAGS_IS_REFRESH</code></td>
   <td>16</td>
   <td>This flag specifies that the load should have the semantics of an HTML Meta-refresh tag (That is, that the cache should be bypassed). This flag is only applicable to loadURI. XXX the meaning of this flag is poorly defined. XXX no one uses this, so we should probably deprecate and remove it.</td>
  </tr>
  <tr>
   <td><code>LOAD_FLAGS_IS_LINK</code></td>
   <td>32</td>
   <td>This flag specifies that the load should have the semantics of a link click. This flag is only applicable to loadURI. XXX the meaning of this flag is poorly defined.</td>
  </tr>
  <tr>
   <td><code>LOAD_FLAGS_BYPASS_HISTORY</code></td>
   <td>64</td>
   <td>This flag specifies that history should not be updated. This flag is only applicable to loadURI.</td>
  </tr>
  <tr>
   <td><code>LOAD_FLAGS_REPLACE_HISTORY</code></td>
   <td>128</td>
   <td>This flag specifies that any existing history entry should be replaced. This flag is only applicable to loadURI.</td>
  </tr>
  <tr>
   <td><code>LOAD_FLAGS_BYPASS_CACHE</code></td>
   <td>256</td>
   <td>This flag specifies that the local web cache should be bypassed, but an intermediate proxy cache could still be used to satisfy the load.</td>
  </tr>
  <tr>
   <td><code>LOAD_FLAGS_BYPASS_PROXY</code></td>
   <td>512</td>
   <td>This flag specifies that any intermediate proxy caches should be bypassed (That is, that the content should be loaded from the origin server).</td>
  </tr>
  <tr>
   <td><code>LOAD_FLAGS_CHARSET_CHANGE</code></td>
   <td>1024</td>
   <td>This flag specifies that a reload was triggered as a result of detecting an incorrect character encoding while parsing a previously loaded document.</td>
  </tr>
  <tr>
   <td><code>LOAD_FLAGS_STOP_CONTENT</code></td>
   <td>2048</td>
   <td>
    <p>If this flag is set, Stop() will be called before the load starts and will stop both content and network activity (the default is to only stop network activity).</p>
    Effectively, this passes the STOP_CONTENT flag to Stop(), in addition to the STOP_NETWORK flag.</td>
  </tr>
  <tr>
   <td><code>LOAD_FLAGS_FROM_EXTERNAL</code></td>
   <td>4096</td>
   <td>A hint this load was prompted by an external program: take care!</td>
  </tr>
  <tr>
   <td><code>LOAD_FLAGS_ALLOW_THIRD_PARTY_FIXUP</code></td>
   <td>8192</td>
   <td>This flag specifies that the URI may be submitted to a third-party server for correction. This should only be applied to non-sensitive URIs entered by users.</td>
  </tr>
  <tr>
   <td><code>LOAD_FLAGS_FIRST_LOAD</code></td>
   <td>16384</td>
   <td>This flag specifies that this is the first load in this object. Set with care, since setting incorrectly can cause us to assume that nothing was actually loaded in this object if the load ends up being handled by an external application.</td>
  </tr>
  <tr>
   <td><code>LOAD_FLAGS_ALLOW_POPUPS</code></td>
   <td>32768</td>
   <td>This flag specifies that the load should not be subject to popup blocking checks.</td>
  </tr>
 </tbody>
</table>

<h2 id="Attributes" name="Attributes">Note</h2>

<p>For valid load flag combinations look here <a href="https://dxr.mozilla.org/mozilla-central/source/docshell/base/nsDocShellLoadTypes.h">nsDocShellLoadTypes.h</a></p>

<h3 id="Stop_Flags" name="Stop_Flags">Stop Flags</h3>

<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Constant</td>
   <td class="header">Value</td>
   <td class="header">Description</td>
  </tr>
  <tr>
   <td><code>STOP_NETWORK</code></td>
   <td>1</td>
   <td>This flag specifies that all network activity should be stopped. This includes both active network loads and pending META-refreshes.</td>
  </tr>
  <tr>
   <td><code>STOP_CONTENT</code></td>
   <td>2</td>
   <td>This flag specifies that all content activity should be stopped. This includes animated images, plugins and pending Javascript timeouts.</td>
  </tr>
  <tr>
   <td><code>STOP_ALL</code></td>
   <td>3</td>
   <td>This flag specifies that all activity should be stopped.</td>
  </tr>
 </tbody>
</table>

<h2 id="Attributes_2">Attributes</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Attribute</td>
   <td class="header">Type</td>
   <td class="header">Description</td>
  </tr>
  <tr>
   <td><code>canGoBack</code></td>
   <td><code><a href="/en/PRBool" title="en/PRBool">PRBool</a></code></td>
   <td>Indicates if the object can go back. If true this indicates that there is back session history available for navigation. <strong>Read only.</strong></td>
  </tr>
  <tr>
   <td><code>canGoForward</code></td>
   <td><code><a href="/en/PRBool" title="en/PRBool">PRBool </a></code></td>
   <td>Indicates if the object can go forward. If true this indicates that there is forward session history available for navigation. <strong>Read only.</strong></td>
  </tr>
  <tr>
   <td><code>currentURI</code></td>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIURI" title="">nsIURI</a></code></code></td>
   <td>The currently loaded URI or <code>null</code>. <strong>Read only.</strong></td>
  </tr>
  <tr>
   <td><code>document</code></td>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMDocument" title="">nsIDOMDocument</a></code></code></td>
   <td>Retrieves the current DOM document for the frame, or lazily creates a blank document if there is none. This attribute never returns <code>null</code> except for unexpected error situations. <strong>Read only.</strong></td>
  </tr>
  <tr>
   <td><code>referringURI</code></td>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIURI" title="">nsIURI</a></code></code></td>
   <td>The referring URI for the currently loaded URI or <code>null</code>. <strong>Read only.</strong></td>
  </tr>
  <tr>
   <td><code>sessionHistory</code></td>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISHistory" title="">nsISHistory</a></code></code></td>
   <td>The session history object used by this web navigation instance.</td>
  </tr>
 </tbody>
</table>

<h2 id="Methods" name="Methods">Methods</h2>

<h3 id="goBack()" name="goBack()">goBack()</h3>

<p>Tells the object to navigate to the previous session history item. When a page is loaded from session history, all content is loaded from the cache (if available) and page state (such as form values and scroll position) is restored.</p>

<pre class="eval">void goBack( );
</pre>

<h3 id="goForward()" name="goForward()">goForward()</h3>

<p>Tells the object to navigate to the next session history item. When a page is loaded from session history, all content is loaded from the cache (if available) and page state (such as form values and scroll position) is restored.</p>

<pre class="eval">void goForward( );
</pre>

<h3 id="gotoIndex()" name="gotoIndex()">gotoIndex()</h3>

<p>Tells the object to navigate to the session history item at a given index.</p>

<pre class="eval">void gotoIndex(
  in long index
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>index</code></dt>
 <dd>The index of the session history item to go to.</dd>
</dl>

<h3 id="loadURI()" name="loadURI()">loadURI()</h3>

<p>Loads a given URI. This will give priority to loading the requested URI in the object implementing this interface. If it can't be loaded here however, the URI dispatcher will go through its normal process of content loading.</p>

<pre class="eval">void loadURI(
  wstring URI,
  unsigned long loadFlags,
  nsIURI referrer,
  nsIInputStream postData,
  nsIInputStream headers
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>URI</code></dt>
 <dd>The URI string to load. For HTTP and FTP URLs and possibly others, characters above U+007F will be converted to UTF-8 and then URL- escaped per the rules of <a class="external" href="http://tools.ietf.org/html/rfc2396" title="http://tools.ietf.org/html/rfc2396">RFC 2396</a>.</dd>
 <dt><code>loadFlags</code></dt>
 <dd>Flags modifying load behaviour. This parameter is a bitwise combination of the <a href="#Load_Flags">load flags</a> defined above. (Undefined bits are reserved for future use.) Generally you will pass <code>LOAD_FLAGS_NONE</code> for this parameter.</dd>
 <dt><code>referrer</code></dt>
 <dd>The referring URI. If this argument is <code>null</code>, then the referring URI will be inferred internally.</dd>
 <dt><code>postData</code></dt>
 <dd>If the URI corresponds to a HTTP request, then this stream is appended directly to the HTTP request headers. It may be prefixed with additional HTTP headers. This stream must contain a <code>\r\n</code> sequence separating any HTTP headers from the HTTP request body. This parameter may be <code>null</code>.</dd>
 <dt><code>headers</code></dt>
 <dd>If the URI corresponds to a HTTP request, then any HTTP headers contained in this stream are set on the HTTP request. The HTTP header stream is formatted as: ( HEADER <code>\r\n</code> )* This parameter may be <code>null</code>.</dd>
</dl>

<h3 id="reload()" name="reload()">reload()</h3>

<p>Tells the Object to reload the current page. There may be cases where the user will be asked to confirm the reload (for example, when it is determined that the request is non-idempotent).</p>

<pre class="eval">void reload(
  unsigned long reloadFlags
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>reloadFlags</code></dt>
 <dd>Flags modifying load behaviour. This parameter is a bitwise combination of the <a href="#Load_Flags">load flags</a> defined above. (Undefined bits are reserved for future use.) Generally you will pass <code>LOAD_FLAGS_NONE</code> for this parameter.</dd>
</dl>

<h3 id="stop()" name="stop()">stop()</h3>

<p>Stops a load of a URI.</p>

<pre class="eval">void stop(
  unsigned long stopFlags
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>stopFlags</code></dt>
 <dd>This parameter is one of the <a href="#Stop_Flags">stop flags</a> defined above.</dd>
</dl>