---
title: nsIDroppedLinkHandler
slug: Mozilla/Tech/XPCOM/Reference/Interface/nsIDroppedLinkHandler
tags:
  - Interfaces
  - 'Interfaces:Scriptable'
  - XPCOM
  - XPCOM Interface Reference
---
<p></p><div style="border: solid #ddd 2px; margin-bottom: 12px;">
<div style="background: #eee; padding: 2px;"><code><a href="https://dxr.mozilla.org/mozilla-central/source/dom/base/nsIDroppedLinkHandler.idl" rel="custom">dom/base/nsIDroppedLinkHandler.idl</a></code><span style="text-align: right; float: right;"><a href="/en-US/docs/Interfaces/About_Scriptable_Interfaces" style="color: #00cc00; font-weight: 700;">Scriptable</a></span></div>
<span style="padding: 4px 2px;">

<i>Please add a summary to this article.</i>
</span>

  <div style="height: 42px; position: relative; padding: 2px; width: auto;">

  <div style="top: 22px; font-size: 11px; position: absolute;">1.0</div>

  <div style="top: 22px; font-size: 11px; position: absolute; left: 0px; text-align: right; float: right; width: 100%;">66</div>

  <div style="height: 8px; top: 16px; background: #dd0000; left: 0px; position: absolute; width: 11.428571428571429%;"></div>

<div style="height: 8px; top: 16px; left: 11.428571428571429%; background: #00dd00; position: absolute; width: 88.57142857142857%;" title="Introduced in Gecko 2.0 (Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)"></div>

<div style="top: 0px; font-size: 11px; position: absolute; left: 11.428571428571429%;">Introduced</div>
<div style="top: 22px; font-size: 11px; position: absolute; left: 11.428571428571429%;">Gecko 2.0</div>

</div>

<div style="background: #eee; padding: 2px;">
Inherits from: <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">nsISupports</a></code>
<span style="text-align: right; float: right;">Last changed in Gecko 2.0 (Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)</span></div>
</div><p></p>

<h2 id="Method_overview" name="Method_overview">Method overview</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td><code>boolean <a href="#canDropLink()">canDropLink</a>(in nsIDOMDragEvent aEvent, in PRBool aAllowSameDocument);</code></td>
  </tr>
  <tr>
   <td><code>AString <a href="#dropLink()">dropLink</a>(in nsIDOMDragEvent aEvent, out AString aName, [optional] in boolean aDisallowInherit);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#dropLinks()">dropLinks</a>(in nsIDOMDragEvent aEvent, [optional] in boolean aDisallowInherit, [optional] out unsigned long aCount, [retval, array, size_is(aCount)] out nsIDroppedLinkItem aLinks);</code></td>
  </tr>
 </tbody>
</table>

<h2 id="Methods" name="Methods">Methods</h2>

<h3 id="canDropLink()" name="canDropLink()">canDropLink()</h3>

<p>Determines if a link being dragged can be dropped.</p>

<pre class="eval">boolean canDropLink(
  in nsIDOMDragEvent aEvent,
  in PRBool aAllowSameDocument
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aEvent</code></dt>
 <dd>A dragenter or dragover event.</dd>
 <dt><code>aAllowSameDocument</code></dt>
 <dd>If <code>false</code>, drops are only allowed if the document of the source of the drag is different from the destination. This check includes any parent, sibling and child frames in the same content tree. If <code>true</code>, the source is not checked.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p><code>true</code> if the link being dragged can be dropped.</p>

<h6 id="Exceptions_thrown" name="Exceptions_thrown">Exceptions thrown</h6>

<dl>
 <dt><code>Missing Exception</code></dt>
 <dd>Missing Description</dd>
</dl>

<h3 id="dropLink()" name="dropLink()">dropLink()</h3>

<p>Given a drop event, determines the link being dragged. If a uri is returned the caller can, for instance, load it. If <code>null</code> is returned, there is no valid link to be dropped.</p>

<pre class="eval">AString dropLink(
  in nsIDOMDragEvent aEvent,
  out AString aName,
  [optional] in boolean aDisallowInherit
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aEvent</code></dt>
 <dd>A drop event.</dd>
 <dt><code>aName</code></dt>
 <dd>The link title if it exists, or an empty string otherwise.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>A uri, or <code>null</code> if there is no valid link to be dropped.</p>

<h6 id="Exceptions_thrown" name="Exceptions_thrown">Exceptions thrown</h6>

<dl>
 <dt>NS_ERROR_DOM_SECURITY_ERR</dt>
 <dd>Error will be thrown and the event canceled if the receiving target should not load the uri for security reasons. This will occur if the source of the drag initiated a link for dragging that it itself cannot access. This prevents a source document from tricking the user into a dragging a chrome url for example.</dd>
</dl>

<h3 id="dropLinks()" name="dropLinks()">dropLinks()</h3>

<p>Given a drop event, determines the link being dragged. If non-empty links array is returned the caller can, for instance, load it. If empty links array is returned, there is no valid link to be dropped.</p>

<pre class="eval">void dropLinks(
  in nsIDOMDragEvent aEvent,
  [optional] in boolean aDisallowInherit,
  [optional] out unsigned long aCount,
  [retval, array, size_is(aCount)] out nsIDroppedLinkItem aLinks
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aEvent</code></dt>
 <dd>A drop event.</dd>
 <dt><code>aDisallowInherit</code></dt>
 <dd>Â </dd>
 <dt><code>aCount</code></dt>
 <dd>Receives the count of <code>aLinks</code> array</dd>
 <dt><code>aLinks</code></dt>
 <dd>Recives an array of objects with <code><a href="en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDroppedLinkItem" title="nsIDroppedLinkItem">nsIDroppedLinkItem</a></code> interface</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>Nothing.</p>

<h2 id="See_also" name="See_also">See also</h2>

<ul>
 <li><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDroppedLinkItem" title="nsIDroppedLinkItem">nsIDroppedLinkItem</a></li>
</ul>
