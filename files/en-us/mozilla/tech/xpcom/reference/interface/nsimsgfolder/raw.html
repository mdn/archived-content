<p>The <code>nsIMsgFolder</code> interface is used to interact with folders in <a href="/en/Thunderbird" title="en/Thunderbird">Thunderbird</a>. <strong>This page is out of date.</strong> Check <a href="https://dxr.mozilla.org/mozilla/source/mailnews/base/public/nsIMsgFolder.idl">https://dxr.mozilla.org/mozilla/source/mailnews/base/public/nsIMsgFolder.idl</a> for the newer methods (esp. isSpecialFolder and such).</p>

<p>Inherits from: <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">nsISupports</a></code></p>

<h2 id="Method_overview" name="Method_overview">Method overview</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td><code>void <a href="#startFolderLoading.28.29">startFolderLoading</a>();</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#endFolderLoading.28.29">endFolderLoading</a>();</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#updateFolder.28.29">updateFolder</a>(in <a href="/en/XPCOM_Interface_Reference/nsIMsgWindow" title="en/nsIMsgWindow">nsIMsgWindow</a> aWindow);</code></td>
  </tr>
  <tr>
   <td><code><a href="/en/NsIMsgFilterList" title="en/NsIMsgFilterList">nsIMsgFilterList</a> <a href="#getFilterList.28.29">getFilterList</a>(in <a href="/en/XPCOM_Interface_Reference/nsIMsgWindow" title="en/nsIMsgWindow">nsIMsgWindow</a> msgWindow);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#setFilterList.28.29">setFilterList</a>(in <a href="/en/NsIMsgFilterList" title="en/NsIMsgFilterList">nsIMsgFilterList</a> filterList);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#ForceDBClosed.28.29">ForceDBClosed</a>();</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#Delete.28.29">Delete</a>();</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#deleteSubFolders.28.29">deleteSubFolders</a>(in <a href="/en/NsISupportsArray" title="en/NsISupportsArray">nsISupportsArray</a> folders, in <a href="/en/XPCOM_Interface_Reference/nsIMsgWindow" title="en/nsIMsgWindow">nsIMsgWindow</a> msgWindow);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#propagateDelete.28.29">propagateDelete</a>(in <a href="/en/XPCOM_Interface_Reference/nsIMsgFolder" title="en/nsIMsgFolder">nsIMsgFolder</a> folder, in boolean deleteStorage,in <a href="/en/XPCOM_Interface_Reference/nsIMsgWindow" title="en/nsIMsgWindow">nsIMsgWindow</a> msgWindow);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#recursiveDelete.28.29">recursiveDelete</a>(in boolean deleteStorage, in <a href="/en/XPCOM_Interface_Reference/nsIMsgWindow" title="en/nsIMsgWindow">nsIMsgWindow</a> msgWindow);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#createSubfolder.28.29">createSubfolder</a>(in AString folderName, in <a href="/en/XPCOM_Interface_Reference/nsIMsgWindow" title="en/nsIMsgWindow">nsIMsgWindow</a> msgWindow);</code></td>
  </tr>
  <tr>
   <td><code>nsIMsgFolder <a href="#addSubfolder.28.29">addSubfolder</a>(in AString folderName);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#createStorageIfMissing.28.29">createStorageIfMissing</a>(in <a href="/en/NsIUrlListener" title="en/NsIUrlListener">nsIUrlListener</a> urlListener);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#compact.28.29">compact</a>(in <a href="/en/NsIUrlListener" title="en/NsIUrlListener">nsIUrlListener</a> aListener, in <a href="/en/XPCOM_Interface_Reference/nsIMsgWindow" title="en/nsIMsgWindow">nsIMsgWindow</a> aMsgWindow);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#compactAll.28.29">compactAll</a>(in <a href="/en/NsIUrlListener" title="en/NsIUrlListener">nsIUrlListener</a> aListener, in<a href="/en/XPCOM_Interface_Reference/nsIMsgWindow" title="en/nsIMsgWindow">nsIMsgWindow</a> aMsgWindow,in <a href="/en/NsISupportsArray" title="en/NsISupportsArray">nsISupportsArray</a> aFolderArray, in boolean aCompactOfflineAlso,in <a href="/en/NsISupportsArray" title="en/NsISupportsArray">nsISupportsArray</a> aOfflineFolderArray);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#compactAllOfflineStores.28.29">compactAllOfflineStores</a>(in <a href="/en/XPCOM_Interface_Reference/nsIMsgWindow" title="en/nsIMsgWindow">nsIMsgWindow</a> aMsgWindow,in <a href="/en/NsISupportsArray" title="en/NsISupportsArray">nsISupportsArray</a> aOfflineFolderArray);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#emptyTrash.28.29">emptyTrash</a>(in <a href="/en/XPCOM_Interface_Reference/nsIMsgWindow" title="en/nsIMsgWindow">nsIMsgWindow</a> aMsgWindow, in <a href="/en/NsIUrlListener" title="en/NsIUrlListener">nsIUrlListener</a> aListener);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#rename.28.29">rename</a>(in AString name, in <a href="/en/XPCOM_Interface_Reference/nsIMsgWindow" title="en/nsIMsgWindow">nsIMsgWindow</a> msgWindow);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#renameSubFolders.28.29">renameSubFolders</a>( in <a href="/en/XPCOM_Interface_Reference/nsIMsgWindow" title="en/nsIMsgWindow">nsIMsgWindow</a> msgWindow, in <a href="/en/XPCOM_Interface_Reference/nsIMsgFolder" title="en/nsIMsgFolder">nsIMsgFolder</a> oldFolder);</code></td>
  </tr>
  <tr>
   <td><code>AString <a href="#generateUniqueSubfolderName.28.29">generateUniqueSubfolderName</a>(in AString prefix,in <a href="/en/XPCOM_Interface_Reference/nsIMsgFolder" title="en/nsIMsgFolder">nsIMsgFolder</a> otherFolder);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#updateSummaryTotals.28.29">updateSummaryTotals</a>(in boolean force);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#summaryChanged.28.29">summaryChanged</a>();</code></td>
  </tr>
  <tr>
   <td><code>long <a href="#getNumUnread.28.29">getNumUnread</a>(in boolean deep);</code></td>
  </tr>
  <tr>
   <td><code>long <a href="#getTotalMessages.28.29">getTotalMessages</a>(in boolean deep);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#clearNewMessages.28.29">clearNewMessages</a>();</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#clearRequiresCleanup.28.29">clearRequiresCleanup</a>();</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#setFlag.28.29">setFlag</a>(in unsigned long flag);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#clearFlag.28.29">clearFlag</a>(in unsigned long flag);</code></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#getFlag.28.29">getFlag</a>(in unsigned long flag);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#toggleFlag.28.29">toggleFlag</a>(in unsigned long flag);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#onFlagChange.28.29">onFlagChange</a>(in unsigned long flag);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#setPrefFlag.28.29">setPrefFlag</a>();</code></td>
  </tr>
  <tr>
   <td><code><a href="/en/XPCOM_Interface_Reference/nsIMsgFolder" title="en/nsIMsgFolder">nsIMsgFolder</a> <a href="#getFoldersWithFlag.28.29">getFoldersWithFlag</a>(in unsigned long flags, in unsigned long resultsize, out unsigned long numFolders);</code></td>
  </tr>
  <tr>
   <td><code><a href="/en/NsISupportsArray" title="en/NsISupportsArray">nsISupportsArray</a> <a href="#getAllFoldersWithFlag.28.29">getAllFoldersWithFlag</a>(in unsigned long aFlag);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#getExpansionArray.28.29">getExpansionArray</a>(in <a href="/en/NsISupportsArray" title="en/NsISupportsArray">nsISupportsArray</a> expansionArray);</code></td>
  </tr>
  <tr>
   <td><code>ACString <a href="#getUriForMsg.28.29">getUriForMsg</a>(in <a href="/en/XPCOM_Interface_Reference/nsIMsgDBHdr" title="en/nsIMsgDBHdr">nsIMsgDBHdr</a> msgHdr);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#deleteMessages.28.29">deleteMessages</a>(in <a href="/en/NsISupportsArray" title="en/NsISupportsArray">nsISupportsArray</a> messages,in <a href="/en/XPCOM_Interface_Reference/nsIMsgWindow" title="en/nsIMsgWindow">nsIMsgWindow</a> msgWindow, in boolean deleteStorage, in boolean isMove, in <a href="/en/NsIMsgCopyServiceListener" title="en/NsIMsgCopyServiceListener">nsIMsgCopyServiceListener</a> listener, in boolean allowUndo);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#copyMessages.28.29">copyMessages</a>(in <a href="/en/XPCOM_Interface_Reference/nsIMsgFolder" title="en/nsIMsgFolder">nsIMsgFolder</a> srcFolder, in <a href="/en/NsISupportsArray" title="en/NsISupportsArray">nsISupportsArray</a> messages,in boolean isMove, in <a href="/en/XPCOM_Interface_Reference/nsIMsgWindow" title="en/nsIMsgWindow">nsIMsgWindow</a> msgWindow,in <a href="/en/NsIMsgCopyServiceListener" title="en/NsIMsgCopyServiceListener">nsIMsgCopyServiceListener</a> listener, in boolean isFolder, in boolean allowUndo);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#copyFolder.28.29">copyFolder</a>(in <a href="/en/XPCOM_Interface_Reference/nsIMsgFolder" title="en/nsIMsgFolder">nsIMsgFolder</a> srcFolder, in boolean isMoveFolder,in <a href="/en/XPCOM_Interface_Reference/nsIMsgWindow" title="en/nsIMsgWindow">nsIMsgWindow</a> msgWindow, in <a href="/en/NsIMsgCopyServiceListener" title="en/NsIMsgCopyServiceListener">nsIMsgCopyServiceListener</a> listener );</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#copyFileMessage.28.29">copyFileMessage</a>(in <a href="/en/XPCOM_Interface_Reference/nsIFile" title="en/nsIFile">nsIFile</a> file, in <a href="/en/XPCOM_Interface_Reference/nsIMsgDBHdr" title="en/nsIMsgDBHdr">nsIMsgDBHdr</a> msgToReplace,in boolean isDraft, in unsigned long newMsgFlags,in <a href="/en/XPCOM_Interface_Reference/nsIMsgWindow" title="en/nsIMsgWindow">nsIMsgWindow</a> msgWindow,in <a href="/en/NsIMsgCopyServiceListener" title="en/NsIMsgCopyServiceListener">nsIMsgCopyServiceListener</a> listener);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#acquireSemaphore.28.29">acquireSemaphore</a>(in <a href="/en/XPCOM_Interface_Reference/nsISupports" title="en/nsISupports">nsISupports</a> semHolder);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#releaseSemaphore.28.29">releaseSemaphore</a>(in <a href="/en/XPCOM_Interface_Reference/nsISupports" title="en/nsISupports">nsISupports</a> semHolder);</code></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#testSemaphore.28.29">testSemaphore</a>(in <a href="/en/XPCOM_Interface_Reference/nsISupports" title="en/nsISupports">nsISupports</a> semHolder);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#getNewMessages.28.29">getNewMessages</a>(in <a href="/en/XPCOM_Interface_Reference/nsIMsgWindow" title="en/nsIMsgWindow">nsIMsgWindow</a> aWindow, in <a href="/en/NsIUrlListener" title="en/NsIUrlListener">nsIUrlListener</a> aListener);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#writeToFolderCache.28.29">writeToFolderCache</a>(in <a href="/en/NsIMsgFolderCache" title="en/NsIMsgFolderCache">nsIMsgFolderCache</a> folderCache, in boolean deep);</code></td>
  </tr>
  <tr>
   <td><code>long <a href="#getNumNewMessages.28.29">getNumNewMessages</a>(in boolean deep);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#setNumNewMessages.28.29">setNumNewMessages</a>(in long numNewMessages);</code></td>
  </tr>
  <tr>
   <td><code>ACString <a href="#generateMessageURI.28.29">generateMessageURI</a>(in <a href="/en/NsMsgKey" title="en/NsMsgKey">nsMsgKey</a> msgKey);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#addMessageDispositionState.28.29">addMessageDispositionState</a>(in <a href="/en/XPCOM_Interface_Reference/nsIMsgDBHdr" title="en/nsIMsgDBHdr">nsIMsgDBHdr</a> aMessage,in <a href="/en/NsMsgDispositionState" title="en/NsMsgDispositionState">nsMsgDispositionState</a> aDispositionFlag);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#markMessagesRead.28.29">markMessagesRead</a>(in <a href="/en/NsISupportsArray" title="en/NsISupportsArray">nsISupportsArray</a> messages, in boolean markRead);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#markAllMessagesRead.28.29">markAllMessagesRead</a>();</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#markMessagesFlagged.28.29">markMessagesFlagged</a>(in <a href="/en/NsISupportsArray" title="en/NsISupportsArray">nsISupportsArray</a> messages, in boolean markFlagged);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#markThreadRead.28.29">markThreadRead</a>(in <a href="/en/XPCOM_Interface_Reference/nsIMsgThread" title="en/nsIMsgThread">nsIMsgThread</a> thread);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#setLabelForMessages.28.29">setLabelForMessages</a>(in <a href="/en/NsISupportsArray" title="en/NsISupportsArray">nsISupportsArray</a> messages, in <a href="/en/NsMsgLabelValue" title="en/NsMsgLabelValue">nsMsgLabelValue</a> label);</code></td>
  </tr>
  <tr>
   <td><code><a href="/en/XPCOM_Interface_Reference/nsIMsgDatabase" title="en/nsIMsgDatabase">nsIMsgDatabase</a> <a href="#getMsgDatabase.28.29">getMsgDatabase</a>(in <a href="/en/XPCOM_Interface_Reference/nsIMsgWindow" title="en/nsIMsgWindow">nsIMsgWindow</a> msgWindow);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#setMsgDatabase.28.29">setMsgDatabase</a>(in <a href="/en/XPCOM_Interface_Reference/nsIMsgDatabase" title="en/nsIMsgDatabase">nsIMsgDatabase</a> msgDatabase);</code></td>
  </tr>
  <tr>
   <td><code><a href="/en/XPCOM_Interface_Reference/nsIMsgDatabase" title="en/nsIMsgDatabase">nsIMsgDatabase</a> <a href="#getDBFolderInfoAndDB.28.29">getDBFolderInfoAndDB</a>(out <a href="/en/NsIDBFolderInfo" title="en/NsIDBFolderInfo">nsIDBFolderInfo</a> folderInfo);</code></td>
  </tr>
  <tr>
   <td><code><a href="/en/XPCOM_Interface_Reference/nsIMsgDBHdr" title="en/nsIMsgDBHdr">nsIMsgDBHdr</a> <a href="#GetMessageHeader.28.29">GetMessageHeader</a>(in <a href="/en/NsMsgKey" title="en/NsMsgKey">nsMsgKey</a> msgKey);</code></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#shouldStoreMsgOffline.28.29">shouldStoreMsgOffline</a>(in <a href="/en/NsMsgKey" title="en/NsMsgKey">nsMsgKey</a> msgKey);</code></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#hasMsgOffline.28.29">hasMsgOffline</a>(in <a href="/en/NsMsgKey" title="en/NsMsgKey">nsMsgKey</a> msgKey);</code></td>
  </tr>
  <tr>
   <td><code><a href="/en/XPCOM_Interface_Reference/nsIInputStream" title="en/nsIInputStream">nsIInputStream</a> <a href="#getOfflineFileStream.28.29">getOfflineFileStream</a>(in <a href="/en/NsMsgKey" title="en/NsMsgKey">nsMsgKey</a> msgKey, out PRUint32 offset, out PRUint32 size);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#DownloadMessagesForOffline.28.29">DownloadMessagesForOffline</a>(in <a href="/en/NsISupportsArray" title="en/NsISupportsArray">nsISupportsArray</a> messages, in <a href="/en/XPCOM_Interface_Reference/nsIMsgWindow" title="en/nsIMsgWindow">nsIMsgWindow</a> window);</code></td>
  </tr>
  <tr>
   <td><code>nsIMsgFolder <a href="#getChildWithURI.28.29">getChildWithURI</a>(in ACString uri, in boolean deep, in boolean caseInsensitive);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#downloadAllForOffline.28.29">downloadAllForOffline</a>(in <a href="/en/NsIUrlListener" title="en/NsIUrlListener">nsIUrlListener</a> listener, in nsIMsgWindow window);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#enableNotifications.28.29">enableNotifications</a>(in long notificationType, in boolean enable, in boolean dbBatching);</code></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#isCommandEnabled.28.29">isCommandEnabled</a>(in ACString command);</code></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#matchOrChangeFilterDestination.28.29">matchOrChangeFilterDestination</a>(in <a href="/en/XPCOM_Interface_Reference/nsIMsgFolder" title="en/nsIMsgFolder">nsIMsgFolder</a> folder,in boolean caseInsensitive);</code></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#confirmFolderDeletionForFilter.28.29">confirmFolderDeletionForFilter</a>(in <a href="/en/XPCOM_Interface_Reference/nsIMsgWindow" title="en/nsIMsgWindow">nsIMsgWindow</a> msgWindow);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#alertFilterChanged.28.29">alertFilterChanged</a>(in <a href="/en/XPCOM_Interface_Reference/nsIMsgWindow" title="en/nsIMsgWindow">nsIMsgWindow</a> msgWindow);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#throwAlertMsg.28.29">throwAlertMsg</a>(in string msgName, in <a href="/en/XPCOM_Interface_Reference/nsIMsgWindow" title="en/nsIMsgWindow">nsIMsgWindow</a> msgWindow);</code></td>
  </tr>
  <tr>
   <td><code>AString <a href="#getStringWithFolderNameFromBundle.28.29">getStringWithFolderNameFromBundle</a>(in string msgName);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#notifyCompactCompleted.28.29">notifyCompactCompleted</a>();</code></td>
  </tr>
  <tr>
   <td><code>long <a href="#compareSortKeys.28.29">compareSortKeys</a>(in <a href="/en/XPCOM_Interface_Reference/nsIMsgFolder" title="en/nsIMsgFolder">nsIMsgFolder</a> msgFolder);</code></td>
  </tr>
  <tr>
   <td><code>[noscript] void <a href="#getSortKey.28.29">getSortKey</a>(out octet_ptr key, out unsigned long length);</code></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#callFilterPlugins.28.29">callFilterPlugins</a>(in <a href="/en/XPCOM_Interface_Reference/nsIMsgWindow" title="en/nsIMsgWindow">nsIMsgWindow</a> aMsgWindow);</code></td>
  </tr>
  <tr>
   <td><code>ACString <a href="#getStringProperty.28.29">getStringProperty</a>(in string propertyName);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#setStringProperty.28.29">setStringProperty</a>(in string propertyName, in ACString propertyValue);</code></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#isAncestorOf.28.29">isAncestorOf</a>(in <a href="/en/XPCOM_Interface_Reference/nsIMsgFolder" title="en/nsIMsgFolder">nsIMsgFolder</a> folder);</code></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#containsChildNamed.28.29">containsChildNamed</a>(in AString name);</code></td>
  </tr>
  <tr>
   <td><code><a href="/en/XPCOM_Interface_Reference/nsIMsgFolder" title="en/nsIMsgFolder">nsIMsgFolder</a> <a href="#getChildNamed.28.29">getChildNamed</a>(in AString aName);</code></td>
  </tr>
  <tr>
   <td><code><a href="/en/XPCOM_Interface_Reference/nsIMsgFolder" title="en/nsIMsgFolder">nsIMsgFolder</a> <a href="#findSubFolder.28.29">findSubFolder</a>(in ACString escapedSubFolderName);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#AddFolderListener.28.29">AddFolderListener</a>(in <a href="/en/NsIFolderListener" title="en/NsIFolderListener">nsIFolderListener</a> listener);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#RemoveFolderListener.28.29">RemoveFolderListener</a>(in <a href="/en/NsIFolderListener" title="en/NsIFolderListener">nsIFolderListener</a> listener);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#NotifyPropertyChanged.28.29">NotifyPropertyChanged</a>(in <a href="/en/NsIAtom" title="en/NsIAtom">nsIAtom</a> property, in ACString oldValue, in ACString newValue);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#NotifyIntPropertyChanged.28.29">NotifyIntPropertyChanged</a>(in <a href="/en/NsIAtom" title="en/NsIAtom">nsIAtom</a> property, in long oldValue, in long newValue);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#NotifyBoolPropertyChanged.28.29">NotifyBoolPropertyChanged</a>(in <a href="/en/NsIAtom" title="en/NsIAtom">nsIAtom</a> property, in boolean oldValue, in boolean newValue);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#NotifyPropertyFlagChanged.28.29">NotifyPropertyFlagChanged</a>(in <a href="/en/XPCOM_Interface_Reference/nsIMsgDBHdr" title="en/nsIMsgDBHdr">nsIMsgDBHdr</a> item, in <a href="/en/NsIAtom" title="en/NsIAtom">nsIAtom</a> property, in unsigned long oldValue, in unsigned long newValue);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#NotifyUnicharPropertyChanged.28.29">NotifyUnicharPropertyChanged</a>(in <a href="/en/NsIAtom" title="en/NsIAtom">nsIAtom</a> property, in AString oldValue, in AString newValue);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#NotifyItemAdded.28.29">NotifyItemAdded</a>(in <a href="/en/XPCOM_Interface_Reference/nsISupports" title="en/nsISupports">nsISupports</a> item);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#NotifyItemRemoved.28.29">NotifyItemRemoved</a>(in <a href="/en/XPCOM_Interface_Reference/nsISupports" title="en/nsISupports">nsISupports</a> item);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#NotifyFolderEvent.28.29">NotifyFolderEvent</a>(in <a href="/en/NsIAtom" title="en/NsIAtom">nsIAtom</a> event);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#ListDescendents.28.29">ListDescendents</a>(in <a href="/en/NsISupportsArray" title="en/NsISupportsArray">nsISupportsArray</a> descendents);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#Shutdown.28.29">Shutdown</a>(in boolean shutdownChildren);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#setInVFEditSearchScope.28.29">setInVFEditSearchScope</a>(in boolean aSearchThisFolder, in boolean aSetOnSubFolders);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#copyDataToOutputStreamForAppend.28.29">copyDataToOutputStreamForAppend</a>(in <a href="/en/XPCOM_Interface_Reference/nsIInputStream" title="en/nsIInputStream">nsIInputStream</a> aIStream, in long aLength, in <a href="/en/XPCOM_Interface_Reference/nsIOutputStream" title="en/nsIOutputStream">nsIOutputStream</a> outputStream);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#copyDataDone.28.29">copyDataDone</a>();</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#setJunkScoreForMessages.28.29">setJunkScoreForMessages</a>(in <a href="/en/NsISupportsArray" title="en/NsISupportsArray">nsISupportsArray</a> aMessages, in ACString aJunkScore);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#applyRetentionSettings.28.29">applyRetentionSettings</a>();</code></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#fetchMsgPreviewText.28.29">fetchMsgPreviewText</a>([array, size_is (aNumKeys)] in <a href="/en/NsMsgKey" title="en/NsMsgKey">nsMsgKey</a> aKeysToFetch, in unsigned long aNumKeys, in boolean aLocalOnly, in <a href="/en/NsIUrlListener" title="en/NsIUrlListener">nsIUrlListener</a> aUrlListener);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#addKeywordsToMessages.28.29">addKeywordsToMessages</a>(in <a href="/en/NsISupportsArray" title="en/NsISupportsArray">nsISupportsArray</a> aMessages, in ACString aKeywords);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#removeKeywordsFromMessages.28.29">removeKeywordsFromMessages</a>(in <a href="/en/NsISupportsArray" title="en/NsISupportsArray">nsISupportsArray</a> aMessages, in ACString aKeywords);</code></td>
  </tr>
  <tr>
   <td><code>AUTF8String <a href="#getMsgTextFromStream.28.29">getMsgTextFromStream</a>(in <a href="/en/XPCOM_Interface_Reference/nsIMsgDBHdr" title="en/nsIMsgDBHdr">nsIMsgDBHdr</a> aMsgHdr, in <a href="/en/XPCOM_Interface_Reference/nsIInputStream" title="en/nsIInputStream">nsIInputStream</a> aStream, in long aBytesToRead, in long aMaxOutputLen, in boolean aCompressQuotes);</code></td>
  </tr>
 </tbody>
</table>

<h2 id="Attributes" name="Attributes">Attributes</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Attribute</td>
   <td class="header">Type</td>
   <td class="header">Description</td>
  </tr>
  <tr>
   <td><code>supportsOffline</code></td>
   <td><code>boolean</code></td>
   <td>readonly</td>
  </tr>
  <tr>
   <td><code>offlineStoreOutputStream</code></td>
   <td><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIOutputStream" title="">nsIOutputStream</a></code></td>
   <td>readonly</td>
  </tr>
  <tr>
   <td><code>offlineStoreInputStream</code></td>
   <td><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIInputStream" title="">nsIInputStream</a></code></td>
   <td>readonly</td>
  </tr>
  <tr>
   <td><code>retentionSettings</code></td>
   <td><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIMsgRetentionSettings" title="">nsIMsgRetentionSettings</a></code></td>
   <td></td>
  </tr>
  <tr>
   <td><code>downloadSettings</code></td>
   <td><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIMsgDownloadSettings" title="">nsIMsgDownloadSettings</a></code></td>
   <td></td>
  </tr>
  <tr>
   <td><code>sortOrder</code></td>
   <td><code>long</code></td>
   <td>Used for order in the folder pane, folder pickers, etc.</td>
  </tr>
  <tr>
   <td><code>lastMessageLoaded</code></td>
   <td><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsMsgKey" title="">nsMsgKey</a></code></td>
   <td>
    <p><span>Unique ID to the folder, it is not a globally unique </span><span>identifier.  Will return <code>nsMsgKey_None</code> if there was no last message loaded.</span></p>

    <div class="blockIndicator note"><strong>Note:</strong> Does not persist across sessions.</div>
   </td>
  </tr>
  <tr>
   <td><code>URI</code></td>
   <td><code>ACString</code></td>
   <td><strong>Readonly:</strong> Old nsIFolder properties and methods.</td>
  </tr>
  <tr>
   <td><code>name</code></td>
   <td><code>AString</code></td>
   <td>Old nsIFolder properties and methods.</td>
  </tr>
  <tr>
   <td><code>prettyName</code></td>
   <td><code>AString</code></td>
   <td>Old nsIFolder properties and methods.</td>
  </tr>
  <tr>
   <td><code>abbreviatedName</code></td>
   <td><code>AString</code></td>
   <td><strong>Readonly:</strong> Old nsIFolder properties and methods.</td>
  </tr>
  <tr>
   <td><code>parent</code></td>
   <td>nsIMsgFolder</td>
   <td>Old nsIFolder properties and methods.</td>
  </tr>
  <tr>
   <td><code>parentMsgFolder</code></td>
   <td>nsIMsgFolder</td>
   <td><strong>Readonly:</strong> Handy accessor when we want a msg folder.</td>
  </tr>
  <tr>
   <td><code>dBTransferInfo</code></td>
   <td><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDBFolderInfo" title="">nsIDBFolderInfo</a></code></td>
   <td></td>
  </tr>
  <tr>
   <td><code>subFolders</code></td>
   <td><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISimpleEnumerator" title="">nsISimpleEnumerator</a></code></td>
   <td><strong>Readonly:</strong> Returns an enumerator containing a list of nsIMsgFolder items that are subfolders of the instance this is called on.</td>
  </tr>
  <tr>
   <td><code>hasSubFolders</code></td>
   <td><code>boolean</code></td>
   <td><strong>Readonly:</strong> Returns true if this folder has sub folders.</td>
  </tr>
  <tr>
   <td>messages</td>
   <td><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISimpleEnumerator" title="">nsISimpleEnumerator</a></code></td>
   <td><strong>Readonly:</strong> Returns a list of Components.interfaces.nsIMsgDBHdr.</td>
  </tr>
  <tr>
   <td><code>numSubFolders</code></td>
   <td><code>unsigned long</code></td>
   <td><strong>Readonly:</strong> Returns the number of sub folders that this folder has.</td>
  </tr>
  <tr>
   <td><code>inVFEditSearchScope</code></td>
   <td><code>boolean </code></td>
   <td>readonly</td>
  </tr>
  <tr>
   <td><code>customIdentity</code></td>
   <td><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIMsgIdentity" title="">nsIMsgIdentity</a></code></td>
   <td><strong>Readonly:</strong> This allows a folder to have a special identity. E.g., you might want to associate an identity with a particular newsgroup, or for <a href="/en/IMAP" title="en/IMAP">IMAP</a> shared folders in the other users namespace, you might want to create a delegated identity.</td>
  </tr>
  <tr>
   <td><code>gettingNewMessages</code></td>
   <td><code>boolean</code></td>
   <td>Are we running a url as a result of the user clicking get msg.</td>
  </tr>
  <tr>
   <td><code>filePath</code></td>
   <td><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsILocalFile" title="">nsILocalFile</a></code></td>
   <td>Local path of this folder.</td>
  </tr>
  <tr>
   <td><code>baseMessageURI</code></td>
   <td><code>ACString</code></td>
   <td>readonly</td>
  </tr>
  <tr>
   <td><code>charset</code></td>
   <td><code>ACString</code></td>
   <td>The charset of this folder.</td>
  </tr>
  <tr>
   <td><code>charsetOverride</code></td>
   <td><code>boolean</code></td>
   <td></td>
  </tr>
  <tr>
   <td><code>biffState</code></td>
   <td><code>unsigned long</code></td>
   <td></td>
  </tr>
  <tr>
   <td><code>locked</code></td>
   <td><code>boolean</code></td>
   <td>readonly</td>
  </tr>
  <tr>
   <td><code>flags</code></td>
   <td><code>unsigned long</code></td>
   <td>Direct access to the set/get all the flags at once.</td>
  </tr>
  <tr>
   <td><code>knowsSearchNntpExtension</code></td>
   <td><code>boolean</code></td>
   <td>readonly</td>
  </tr>
  <tr>
   <td><code>allowsPosting</code></td>
   <td><code>boolean</code></td>
   <td>readonly</td>
  </tr>
  <tr>
   <td><code>relativePathName</code></td>
   <td><code>ACString</code></td>
   <td>readonly</td>
  </tr>
  <tr>
   <td><code>sizeOnDisk</code></td>
   <td><code>unsigned long</code></td>
   <td>Size of this folder on disk (not including .msf file) for <a href="/en/IMAP" title="en/IMAP">IMAP</a>, it's the sum of the size of the messages.</td>
  </tr>
  <tr>
   <td><code>username</code></td>
   <td><code>ACString</code></td>
   <td>readonly</td>
  </tr>
  <tr>
   <td><code>hostname</code></td>
   <td><code>ACString</code></td>
   <td>readonly</td>
  </tr>
  <tr>
   <td><code>expungedBytes</code></td>
   <td><code>unsigned long</code></td>
   <td>readonly</td>
  </tr>
  <tr>
   <td><code>deletable</code></td>
   <td><code>boolean</code></td>
   <td><strong>Readonly:</strong> Can this folder be deleted. For example, special folders cannot be deleted.</td>
  </tr>
  <tr>
   <td><code>displayRecipients</code></td>
   <td><code>boolean</code></td>
   <td><strong>Readonly:</strong> Should we be displaying recipients instead of the sender. For example, in the Sent folder, recipients are more relevant than the sender.</td>
  </tr>
  <tr>
   <td><code>manyHeadersToDownload</code></td>
   <td><code>boolean</code></td>
   <td><strong>Readonly:</strong> Used to determine if it will take a long time to download all the headers in this folder - so that we can do folder notifications synchronously instead of asynchronously.</td>
  </tr>
  <tr>
   <td><code>requiresCleanup</code></td>
   <td><code>boolean</code></td>
   <td>readonly</td>
  </tr>
  <tr>
   <td><code>hasNewMessages</code></td>
   <td><code>boolean</code></td>
   <td>Does this folder have new messages.</td>
  </tr>
  <tr>
   <td><code>firstNewMessage</code></td>
   <td><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIMsgDBHdr" title="">nsIMsgDBHdr</a></code></td>
   <td><strong>Readonly:</strong> The first new message in the folder.</td>
  </tr>
  <tr>
   <td><code>prettiestName</code></td>
   <td><code>AString </code></td>
   <td>readonly</td>
  </tr>
  <tr>
   <td><code>folderURL</code></td>
   <td><code>ACString</code></td>
   <td><strong>Readonly:</strong> URL for this folder.</td>
  </tr>
  <tr>
   <td><code>showDeletedMessages</code></td>
   <td><code>boolean</code></td>
   <td>readonly</td>
  </tr>
  <tr>
   <td><code>server</code></td>
   <td><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIMsgIncomingServer" title="">nsIMsgIncomingServer</a></code></td>
   <td><strong>Readonly:</strong> This folder's parent server.</td>
  </tr>
  <tr>
   <td><code>isServer</code></td>
   <td><code>boolean</code></td>
   <td><strong>Readonly:</strong> Is this folder the "phantom" server folder?</td>
  </tr>
  <tr>
   <td><code>canSubscribe</code></td>
   <td><code>boolean</code></td>
   <td>readonly</td>
  </tr>
  <tr>
   <td><code>canFileMessages</code></td>
   <td><code>boolean</code></td>
   <td>readonly</td>
  </tr>
  <tr>
   <td><code>noSelect</code></td>
   <td><code>boolean</code></td>
   <td>readonly: this is an imap no select folder</td>
  </tr>
  <tr>
   <td><code>imapShared</code></td>
   <td><code>boolean</code></td>
   <td>readonly: this is an imap shared folder</td>
  </tr>
  <tr>
   <td><code>canDeleteMessages</code></td>
   <td><code>boolean</code></td>
   <td>readonly: can't delete from imap read-only</td>
  </tr>
  <tr>
   <td><code>canCreateSubfolders</code></td>
   <td><code>boolean</code></td>
   <td><strong>Readonly:</strong> Does this folder allow subfolders. For example, newsgroups cannot have subfolders, and the <code>INBOX</code> on some <a href="/en/IMAP" title="en/IMAP">IMAP</a> servers cannot have subfolders.</td>
  </tr>
  <tr>
   <td><code>canRename</code></td>
   <td><code>boolean</code></td>
   <td><strong>Readonly:</strong> Can you change the name of this folder. For example, newsgroups and some special folders can't be renamed.</td>
  </tr>
  <tr>
   <td><code>canCompact</code></td>
   <td><code>boolean</code></td>
   <td>readonly:</td>
  </tr>
  <tr>
   <td><code>rootFolder</code></td>
   <td><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIMsgFolder" title="">nsIMsgFolder</a></code></td>
   <td><strong>Readonly:</strong> The phantom server folder.</td>
  </tr>
 </tbody>
</table>

<h2 id="Constants" name="Constants">Constants</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Constant</td>
   <td class="header">Value</td>
   <td class="header">Description</td>
  </tr>
  <tr>
   <td><code>nsMsgBiffState_NewMail</code></td>
   <td>0</td>
   <td>User has new mail waiting.</td>
  </tr>
  <tr>
   <td><code>nsMsgBiffState_NoMail</code></td>
   <td>1</td>
   <td>No new mail is waiting.</td>
  </tr>
  <tr>
   <td><code>nsMsgBiffState_Unknown</code></td>
   <td>2</td>
   <td>We dunno whether there is new mail.</td>
  </tr>
  <tr>
   <td><code>nsMsgDispositionState_None</code></td>
   <td>-1</td>
   <td></td>
  </tr>
  <tr>
   <td><code>nsMsgDispositionState_Replied</code></td>
   <td>0</td>
   <td></td>
  </tr>
  <tr>
   <td><code>nsMsgDispositionState_Forwarded</code></td>
   <td>1</td>
   <td></td>
  </tr>
  <tr>
   <td><code>allMessageCountNotifications</code></td>
   <td>0</td>
   <td>Turn notifications on/off for various notification types. Currently only supporting <code>allMessageCountNotifications</code> which refers to both total and unread message counts.</td>
  </tr>
 </tbody>
</table>

<h2 id="Methods" name="Methods">Methods</h2>

<h3 id="startFolderLoading.28.29" name="startFolderLoading.28.29">startFolderLoading()</h3>

<pre class="eval"> void startFolderLoading();
</pre>

<h3 id="endFolderLoading.28.29" name="endFolderLoading.28.29">endFolderLoading()</h3>

<pre class="eval"> void endFolderLoading();
</pre>

<h3 id="updateFolder.28.29" name="updateFolder.28.29">updateFolder()</h3>

<p>Get new headers for the database.</p>

<pre class="eval"> void updateFolder(nsIMsgWindow aWindow);
</pre>

<h3 id="getFilterList.28.29" name="getFilterList.28.29">getFilterList()</h3>

<p>Get the filter list on folder's server (or in the case of news, the filter list for this newsgroup).</p>

<pre class="eval"> nsIMsgFilterList getFilterList(nsIMsgWindow msgWindow);
</pre>

<h3 id="setFilterList.28.29" name="setFilterList.28.29">setFilterList()</h3>

<pre class="eval"> void setFilterList(in nsIMsgFilterList filterList);
</pre>

<h3 id="ForceDBClosed.28.29" name="ForceDBClosed.28.29">ForceDBClosed()</h3>

<pre class="eval"> void ForceDBClosed();
</pre>

<h3 id="Delete.28.29" name="Delete.28.29">Delete()</h3>

<pre class="eval"> void Delete();
</pre>

<h3 id="deleteSubFolders.28.29" name="deleteSubFolders.28.29">deleteSubFolders()</h3>

<pre class="eval"> void deleteSubFolders(in nsISupportsArray folders,
                       in nsIMsgWindow msgWindow);
</pre>

<h3 id="propagateDelete.28.29" name="propagateDelete.28.29">propagateDelete()</h3>

<pre class="eval"> void propagateDelete(in nsIMsgFolder folder,
                      in boolean deleteStorage,
                      in nsIMsgWindow msgWindow);
</pre>

<h3 id="recursiveDelete.28.29" name="recursiveDelete.28.29">recursiveDelete()</h3>

<pre class="eval"> void recursiveDelete(in boolean deleteStorage,
                      in nsIMsgWindow msgWindow);
</pre>

<h3 id="createSubfolder.28.29" name="createSubfolder.28.29">createSubfolder()</h3>

<pre class="eval"> void createSubfolder(in AString folderName,
                      in nsIMsgWindow msgWindow);
</pre>

<h3 id="addSubfolder.28.29" name="addSubfolder.28.29">addSubfolder()</h3>

<pre class="eval"> nsIMsgFolder addSubfolder(in AString folderName);
</pre>

<h3 id="createStorageIfMissing.28.29" name="createStorageIfMissing.28.29">createStorageIfMissing()</h3>

<p>This method ensures the storage for the folder exists. For local folders, it creates the <a href="en-US/docs/Mozilla/Thunderbird/Mailbox" title="en/Berkeley_mailbox">Berkeley mailbox</a> if missing. For <a href="/en/IMAP" title="en/IMAP">IMAP</a> folders, it subscribes to the folder if it exists, or creates it if it doesn't exist.</p>

<pre class="eval"> void createStorageIfMissing(in nsIUrlListener urlListener);
</pre>

<h3 id="compact.28.29" name="compact.28.29">compact()</h3>

<pre class="eval"> void compact(in nsIUrlListener aListener,
              in nsIMsgWindow aMsgWindow);
</pre>

<h3 id="compactAll.28.29" name="compactAll.28.29">compactAll()</h3>

<pre class="eval"> void compactAll(in nsIUrlListener aListener,
                 in nsIMsgWindow aMsgWindow,
                 in nsISupportsArray aFolderArray,
                 in boolean aCompactOfflineAlso,
                 in nsISupportsArray aOfflineFolderArray);
</pre>

<h3 id="compactAllOfflineStores.28.29" name="compactAllOfflineStores.28.29">compactAllOfflineStores()</h3>

<pre class="eval"> void compactAllOfflineStores(in nsIMsgWindow aMsgWindow,
                              in nsISupportsArray aOfflineFolderArray);
</pre>

<h3 id="emptyTrash.28.29" name="emptyTrash.28.29">emptyTrash()</h3>

<pre class="eval"> void emptyTrash(in nsIMsgWindow aMsgWindow,
                 in nsIUrlListener aListener);
</pre>

<h3 id="rename.28.29" name="rename.28.29">rename()</h3>

<p>Change the name of the folder</p>

<pre class="eval"> void rename(in AString name,
             in nsIMsgWindow msgWindow);
</pre>

<h3 id="renameSubFolders.28.29" name="renameSubFolders.28.29">renameSubFolders()</h3>

<pre class="eval"> void renameSubFolders(in nsIMsgWindow msgWindow,
                       in nsIMsgFolder oldFolder);
</pre>

<h3 id="generateUniqueSubfolderName.28.29" name="generateUniqueSubfolderName.28.29">generateUniqueSubfolderName()</h3>

<pre class="eval"> AString generateUniqueSubfolderName(in AString prefix,
                                     in nsIMsgFolder otherFolder);
</pre>

<h3 id="updateSummaryTotals.28.29" name="updateSummaryTotals.28.29">updateSummaryTotals()</h3>

<pre class="eval"> void updateSummaryTotals(in boolean force);
</pre>

<h3 id="summaryChanged.28.29" name="summaryChanged.28.29">summaryChanged()</h3>

<pre class="eval"> void summaryChanged();
</pre>

<h3 id="getNumUnread.28.29" name="getNumUnread.28.29">getNumUnread()</h3>

<p>Get the total number of unread messages in this folder, or in all subfolders.</p>

<pre class="eval"> long getNumUnread(in boolean deep);
</pre>

<h3 id="getTotalMessages.28.29" name="getTotalMessages.28.29">getTotalMessages()</h3>

<p>Get the total number of messages in this folder, or in all subfolders.</p>

<pre class="eval"> long getTotalMessages(in boolean deep);
</pre>

<h3 id="clearNewMessages.28.29" name="clearNewMessages.28.29">clearNewMessages()</h3>

<p>Clear new status flag of all of the new messages.</p>

<pre class="eval"> void clearNewMessages();
</pre>

<h3 id="clearRequiresCleanup.28.29" name="clearRequiresCleanup.28.29">clearRequiresCleanup()</h3>

<pre class="eval"> void clearRequiresCleanup();
</pre>

<h3 id="setFlag.28.29" name="setFlag.28.29">setFlag()</h3>

<p>Sets a flag on the folder. The known flags are defined in <a class="external" href="http://mxr.mozilla.org/mozilla/source/mailnews/base/public/nsMsgFolderFlags.h">nsMsgFolderFlags.h</a>.</p>

<pre class="eval"> void setFlag(in unsigned long flag);
</pre>

<h3 id="clearFlag.28.29" name="clearFlag.28.29">clearFlag()</h3>

<p>Clears a flag on the folder. The known flags are defined in <a class="external" href="http://mxr.mozilla.org/mozilla/source/mailnews/base/public/nsMsgFolderFlags.h">nsMsgFolderFlags.h</a>.</p>

<pre class="eval"> void clearFlag(in unsigned long flag);
</pre>

<h3 id="getFlag.28.29" name="getFlag.28.29">getFlag()</h3>

<p>Determines if a flag is set on the folder or not. The known flags are defined in <a class="external" href="http://mxr.mozilla.org/mozilla/source/mailnews/base/public/nsMsgFolderFlags.h">nsMsgFolderFlags.h</a>.</p>

<pre class="eval"> boolean getFlag(in unsigned long flag);
</pre>

<h3 id="toggleFlag.28.29" name="toggleFlag.28.29">toggleFlag()</h3>

<p>Toggles a flag on the folder. The known flags are defined in <a class="external" href="http://mxr.mozilla.org/mozilla/source/mailnews/base/public/nsMsgFolderFlags.h">nsMsgFolderFlags.h</a>.</p>

<pre class="eval"> void toggleFlag(in unsigned long flag);
</pre>

<h3 id="onFlagChange.28.29" name="onFlagChange.28.29">onFlagChange()</h3>

<p>Called to notify the database and/or listeners of a change of flag.</p>

<pre class="eval"> void onFlagChange(in unsigned long flag);
</pre>

<h3 id="setPrefFlag.28.29" name="setPrefFlag.28.29">setPrefFlag()</h3>

<p>Gets the number of folders and folders that have the specified flag set.</p>

<div class="blockIndicator note"><strong>Note:</strong> DO NOT call from js with resultsize &gt; 1. See Bug 436051. This <strong>WILL</strong> change.</div>

<pre class="eval"> void setPrefFlag();
</pre>

<h3 id="getFoldersWithFlag.28.29" name="getFoldersWithFlag.28.29">getFoldersWithFlag()</h3>

<pre class="eval"> nsIMsgFolder getFoldersWithFlag(in unsigned long flags,
                                 in unsigned long resultsize,
                                 out unsigned long numFolders);
</pre>

<h3 id="getAllFoldersWithFlag.28.29" name="getAllFoldersWithFlag.28.29">getAllFoldersWithFlag()</h3>

<pre class="eval"> nsISupportsArray getAllFoldersWithFlag(in unsigned long aFlag);
</pre>

<h3 id="getExpansionArray.28.29" name="getExpansionArray.28.29">getExpansionArray()</h3>

<pre class="eval"> void getExpansionArray(in nsISupportsArray expansionArray);
</pre>

<h3 id="getUriForMsg.28.29" name="getUriForMsg.28.29">getUriForMsg()</h3>

<pre class="eval"> ACString getUriForMsg()(in nsIMsgDBHdr msgHdr);
</pre>

<h3 id="deleteMessages.28.29" name="deleteMessages.28.29">deleteMessages()</h3>

<pre class="eval"> void deleteMessages(in nsISupportsArray messages,
                     in nsIMsgWindow msgWindow,
                     in boolean deleteStorage,
                     in boolean isMove,
                     in nsIMsgCopyServiceListener listener,
                     in boolean allowUndo);
</pre>

<h3 id="copyMessages.28.29" name="copyMessages.28.29">copyMessages()</h3>

<pre class="eval"> void copyMessages(in nsIMsgFolder srcFolder,
                   in nsISupportsArray messages,
                   in boolean isMove,
                   in nsIMsgWindow msgWindow,
                   in nsIMsgCopyServiceListener listener,
                   in boolean isFolder,
                   in boolean allowUndo);
</pre>

<h3 id="copyFolder.28.29" name="copyFolder.28.29">copyFolder()</h3>

<pre class="eval"> void copyFolder(in nsIMsgFolder srcFolder,
                 in boolean isMoveFolder,
                 in nsIMsgWindow msgWindow,
                 in nsIMsgCopyServiceListener listener);
</pre>

<h3 id="copyFileMessage.28.29" name="copyFileMessage.28.29">copyFileMessage()</h3>

<pre class="eval"> void copyFileMessage(in nsIFile file,
                      in nsIMsgDBHdr msgToReplace,
                      in boolean isDraft,
                      in unsigned long newMsgFlags,
                      in nsIMsgWindow msgWindow,
                      in nsIMsgCopyServiceListener listener);
</pre>

<h3 id="acquireSemaphore.28.29" name="acquireSemaphore.28.29">acquireSemaphore()</h3>

<pre class="eval"> void acquireSemaphore(in nsISupports semHolder);
</pre>

<h3 id="releaseSemaphore.28.29" name="releaseSemaphore.28.29">releaseSemaphore()</h3>

<pre class="eval"> void releaseSemaphore(in nsISupports semHolder);
</pre>

<h3 id="testSemaphore.28.29" name="testSemaphore.28.29">testSemaphore()</h3>

<pre class="eval"> boolean testSemaphore(in nsISupports semHolder);
</pre>

<h3 id="getNewMessages.28.29" name="getNewMessages.28.29">getNewMessages()</h3>

<pre class="eval"> void getNewMessages(in nsIMsgWindow aWindow,
                     in nsIUrlListener aListener);
</pre>

<h3 id="writeToFolderCache.28.29" name="writeToFolderCache.28.29">writeToFolderCache()</h3>

<p>Write out summary data for this folder to the given folder cache (i.e. panacea.dat)</p>

<pre class="eval"> void writeToFolderCache(in nsIMsgFolderCache folderCache,
                         in boolean deep);
</pre>

<h3 id="getNumNewMessages.28.29" name="getNumNewMessages.28.29">getNumNewMessages()</h3>

<p>The number of new messages since this folder was last visited</p>

<pre class="eval"> long getNumNewMessages(in boolean deep);
</pre>

<h3 id="setNumNewMessages.28.29" name="setNumNewMessages.28.29">setNumNewMessages()</h3>

<pre class="eval"> void setNumNewMessages(in long numNewMessages);
</pre>

<h3 id="generateMessageURI.28.29" name="generateMessageURI.28.29">generateMessageURI()</h3>

<pre class="eval"> ACString generateMessageURI(in nsMsgKey msgKey);
</pre>

<h3 id="addMessageDispositionState.28.29" name="addMessageDispositionState.28.29">addMessageDispositionState()</h3>

<pre class="eval"> void addMessageDispositionState(in nsIMsgDBHdr aMessage,
                                 in nsMsgDispositionState aDispositionFlag);
</pre>

<h3 id="markMessagesRead.28.29" name="markMessagesRead.28.29">markMessagesRead()</h3>

<pre class="eval"> void markMessagesRead(in nsISupportsArray messages,
                       in boolean markRead);
</pre>

<h3 id="markAllMessagesRead.28.29" name="markAllMessagesRead.28.29">markAllMessagesRead()</h3>

<pre class="eval"> void markAllMessagesRead();
</pre>

<h3 id="markMessagesFlagged.28.29" name="markMessagesFlagged.28.29">markMessagesFlagged()</h3>

<pre class="eval"> void markMessagesFlagged(in nsISupportsArray messages,
                          in boolean markFlagged);
</pre>

<h3 id="markThreadRead.28.29" name="markThreadRead.28.29">markThreadRead()</h3>

<pre class="eval"> void markThreadRead(in nsIMsgThread thread);
</pre>

<h3 id="setLabelForMessages.28.29" name="setLabelForMessages.28.29">setLabelForMessages()</h3>

<pre class="eval"> void setLabelForMessages(in nsISupportsArray messages,
                          in nsMsgLabelValue label);
</pre>

<h3 id="getMsgDatabase.28.29" name="getMsgDatabase.28.29">getMsgDatabase()</h3>

<pre class="eval"> nsIMsgDatabase getMsgDatabase(in nsIMsgWindow msgWindow);
</pre>

<h3 id="setMsgDatabase.28.29" name="setMsgDatabase.28.29">setMsgDatabase()</h3>

<pre class="eval"> void setMsgDatabase(in nsIMsgDatabase msgDatabase);
</pre>

<h3 id="getDBFolderInfoAndDB.28.29" name="getDBFolderInfoAndDB.28.29">getDBFolderInfoAndDB()</h3>

<pre class="eval"> nsIMsgDatabase getDBFolderInfoAndDB(out nsIDBFolderInfo folderInfo);
</pre>

<h3 id="GetMessageHeader.28.29" name="GetMessageHeader.28.29">GetMessageHeader()</h3>

<pre class="eval"> nsIMsgDBHdr GetMessageHeader(in nsMsgKey msgKey);
</pre>

<h3 id="shouldStoreMsgOffline.28.29" name="shouldStoreMsgOffline.28.29">shouldStoreMsgOffline()</h3>

<pre class="eval"> boolean shouldStoreMsgOffline(in nsMsgKey msgKey);
</pre>

<h3 id="hasMsgOffline.28.29" name="hasMsgOffline.28.29">hasMsgOffline()</h3>

<pre class="eval"> boolean hasMsgOffline(in nsMsgKey msgKey);
</pre>

<h3 id="getOfflineFileStream.28.29" name="getOfflineFileStream.28.29">getOfflineFileStream()</h3>

<pre class="eval"> nsIInputStream getOfflineFileStream(in nsMsgKey msgKey,
                                     out PRUint32 offset,
                                     out PRUint32 size);
</pre>

<h3 id="DownloadMessagesForOffline.28.29" name="DownloadMessagesForOffline.28.29">DownloadMessagesForOffline()</h3>

<pre class="eval"> void DownloadMessagesForOffline(in nsISupportsArray messages,
                                 in nsIMsgWindow window);
</pre>

<h3 id="getChildWithURI.28.29" name="getChildWithURI.28.29">getChildWithURI()</h3>

<pre class="eval"> nsIMsgFolder getChildWithURI(in ACString uri,
                              in boolean deep,
                              in boolean caseInsensitive);
</pre>

<h3 id="downloadAllForOffline.28.29" name="downloadAllForOffline.28.29">downloadAllForOffline()</h3>

<pre class="eval"> void downloadAllForOffline(in nsIUrlListener listener,
                            in nsIMsgWindow window);
</pre>

<h3 id="enableNotifications.28.29" name="enableNotifications.28.29">enableNotifications()</h3>

<pre class="eval"> void enableNotifications(in long notificationType,
                          in boolean enable,
                          in boolean dbBatching);
</pre>

<h3 id="isCommandEnabled.28.29" name="isCommandEnabled.28.29">isCommandEnabled()</h3>

<pre class="eval"> boolean isCommandEnabled(in ACString command);
</pre>

<h3 id="matchOrChangeFilterDestination.28.29" name="matchOrChangeFilterDestination.28.29">matchOrChangeFilterDestination()</h3>

<pre class="eval"> boolean matchOrChangeFilterDestination(in nsIMsgFolder folder,
                                        in boolean caseInsensitive);
</pre>

<h3 id="confirmFolderDeletionForFilter.28.29" name="confirmFolderDeletionForFilter.28.29">confirmFolderDeletionForFilter()</h3>

<pre class="eval"> boolean confirmFolderDeletionForFilter(in nsIMsgWindow msgWindow);
</pre>

<h3 id="alertFilterChanged.28.29" name="alertFilterChanged.28.29">alertFilterChanged()</h3>

<pre class="eval"> void alertFilterChanged(in nsIMsgWindow msgWindow);
</pre>

<h3 id="throwAlertMsg.28.29" name="throwAlertMsg.28.29">throwAlertMsg()</h3>

<pre class="eval"> void throwAlertMsg(in string msgName,
                    in nsIMsgWindow msgWindow);
</pre>

<h3 id="getStringWithFolderNameFromBundle.28.29" name="getStringWithFolderNameFromBundle.28.29">getStringWithFolderNameFromBundle()</h3>

<pre class="eval"> AString getStringWithFolderNameFromBundle(in string msgName);
</pre>

<h3 id="notifyCompactCompleted.28.29" name="notifyCompactCompleted.28.29">notifyCompactCompleted()</h3>

<pre class="eval"> void notifyCompactCompleted();
</pre>

<h3 id="compareSortKeys.28.29" name="compareSortKeys.28.29">compareSortKeys()</h3>

<pre class="eval"> long compareSortKeys(in nsIMsgFolder msgFolder);
</pre>

<h3 id="getSortKey.28.29" name="getSortKey.28.29">getSortKey()</h3>

<pre class="eval"> [noscript] void getSortKey(out octet_ptr key,
                            out unsigned long length);
</pre>

<h3 id="callFilterPlugins.28.29" name="callFilterPlugins.28.29">callFilterPlugins()</h3>

<pre class="eval"> boolean callFilterPlugins(in nsIMsgWindow aMsgWindow);
</pre>

<h3 id="getStringProperty.28.29" name="getStringProperty.28.29">getStringProperty()</h3>

<pre class="eval"> ACString getStringProperty(in string propertyName);
</pre>

<h3 id="setStringProperty.28.29" name="setStringProperty.28.29">setStringProperty()</h3>

<pre class="eval"> void setStringProperty(in string propertyName,
                        in ACString propertyValue);
</pre>

<h3 id="isAncestorOf.28.29" name="isAncestorOf.28.29">isAncestorOf()</h3>

<p>Determines if this folder is an ancestor of the supplied folder.</p>

<pre class="eval"> boolean isAncestorOf(in nsIMsgFolder folder);
</pre>

<h3 id="containsChildNamed.28.29" name="containsChildNamed.28.29">containsChildNamed()</h3>

<p>Looks in immediate children of this folder for the given name.</p>

<pre class="eval"> boolean containsChildNamed(in AString name);
</pre>

<h3 id="getChildNamed.28.29" name="getChildNamed.28.29">getChildNamed()</h3>

<p>Return the child folder which the specified name.</p>

<pre class="eval"> nsIMsgFolder getChildNamed(in AString aName);
</pre>

<h3 id="findSubFolder.28.29" name="findSubFolder.28.29">findSubFolder()</h3>

<p>Finds the sub folder with the specified name.</p>

<div class="blockIndicator note"><strong>Note:</strong> Even if the folder doesn't currently exist, a nsIMsgFolder may be returned.</div>

<pre class="eval"> nsIMsgFolder findSubFolder(in ACString escapedSubFolderName);
</pre>

<h3 id="AddFolderListener.28.29" name="AddFolderListener.28.29">AddFolderListener()</h3>

<pre class="eval"> void AddFolderListener(in nsIFolderListener listener);
</pre>

<h3 id="RemoveFolderListener.28.29" name="RemoveFolderListener.28.29">RemoveFolderListener()</h3>

<pre class="eval"> void RemoveFolderListener(in nsIFolderListener listener);
</pre>

<h3 id="NotifyPropertyChanged.28.29" name="NotifyPropertyChanged.28.29">NotifyPropertyChanged()</h3>

<pre class="eval"> void NotifyPropertyChanged(in nsIAtom property,
                            in ACString oldValue,
                            in ACString newValue);
</pre>

<h3 id="NotifyIntPropertyChanged.28.29" name="NotifyIntPropertyChanged.28.29">NotifyIntPropertyChanged()</h3>

<pre class="eval"> void NotifyIntPropertyChanged(in nsIAtom property,
                               in long oldValue,
                               in long newValue);
</pre>

<h3 id="NotifyBoolPropertyChanged.28.29" name="NotifyBoolPropertyChanged.28.29">NotifyBoolPropertyChanged()</h3>

<pre class="eval"> void NotifyBoolPropertyChanged(in nsIAtom property,
                                in boolean oldValue,
                                in boolean newValue);
</pre>

<h3 id="NotifyPropertyFlagChanged.28.29" name="NotifyPropertyFlagChanged.28.29">NotifyPropertyFlagChanged()</h3>

<pre class="eval"> void NotifyPropertyFlagChanged(in nsIMsgDBHdr item,
                                in nsIAtom property,
                                in unsigned long oldValue,
                                in unsigned long newValue);
</pre>

<h3 id="NotifyUnicharPropertyChanged.28.29" name="NotifyUnicharPropertyChanged.28.29">NotifyUnicharPropertyChanged()</h3>

<pre class="eval"> void NotifyUnicharPropertyChanged(in nsIAtom property,
                                   in AString oldValue,
                                   in AString newValue);
</pre>

<h3 id="NotifyItemAdded.28.29" name="NotifyItemAdded.28.29">NotifyItemAdded()</h3>

<pre class="eval"> void NotifyItemAdded(in nsISupports item);
</pre>

<h3 id="NotifyItemRemoved.28.29" name="NotifyItemRemoved.28.29">NotifyItemRemoved()</h3>

<pre class="eval"> void NotifyItemRemoved(in nsISupports item);
</pre>

<h3 id="NotifyFolderEvent.28.29" name="NotifyFolderEvent.28.29">NotifyFolderEvent()</h3>

<pre class="eval"> void NotifyFolderEvent(in nsIAtom event);
</pre>

<h3 id="ListDescendents.28.29" name="ListDescendents.28.29">ListDescendents()</h3>

<dl>
 <dd>ists all descendents, not just first level children.</dd>
</dl>

<pre class="eval"> void ListDescendents(in nsISupportsArray descendents);
</pre>

<h3 id="Shutdown.28.29" name="Shutdown.28.29">Shutdown()</h3>

<pre class="eval"> void Shutdown(in boolean shutdownChildren);
</pre>

<h3 id="setInVFEditSearchScope.28.29" name="setInVFEditSearchScope.28.29">setInVFEditSearchScope()</h3>

<pre class="eval"> void setInVFEditSearchScope(in boolean aSearchThisFolder,
                             in boolean aSetOnSubFolders);
</pre>

<h3 id="copyDataToOutputStreamForAppend.28.29" name="copyDataToOutputStreamForAppend.28.29">copyDataToOutputStreamForAppend()</h3>

<pre class="eval"> void copyDataToOutputStreamForAppend(in nsIInputStream aIStream,
                                      in long aLength,
                                      in nsIOutputStream outputStream);
</pre>

<h3 id="copyDataDone.28.29" name="copyDataDone.28.29">copyDataDone()</h3>

<pre class="eval"> void copyDataDone();
</pre>

<h3 id="setJunkScoreForMessages.28.29" name="setJunkScoreForMessages.28.29">setJunkScoreForMessages()</h3>

<pre class="eval"> void setJunkScoreForMessages(in nsISupportsArray aMessages,
                              in ACString aJunkScore);
</pre>

<h3 id="applyRetentionSettings.28.29" name="applyRetentionSettings.28.29">applyRetentionSettings()</h3>

<pre class="eval"> void applyRetentionSettings();
</pre>

<h3 id="fetchMsgPreviewText.28.29" name="fetchMsgPreviewText.28.29">fetchMsgPreviewText()</h3>

<p>Get the beginning of the message bodies for the passed in keys and store them in the msg hdr property "preview". This is intended for new mail alerts, title tips on folders with new messages, and perhaps titletips/message preview in the thread pane.</p>

<pre class="eval"> boolean fetchMsgPreviewText([array, size_is (aNumKeys)] in nsMsgKey aKeysToFetch,
                             in unsigned long aNumKeys,
                             in boolean aLocalOnly,
                             in nsIUrlListener aUrlListener);
</pre>

<h3 id="addKeywordsToMessages.28.29" name="addKeywordsToMessages.28.29">addKeywordsToMessages()</h3>

<p>Used to set/clear tags - we could have a single method to <code>setKeywords</code> which would figure out the diffs, but these methods might be more convenient. Keywords are space delimited, in the case of multiple keywords.</p>

<pre class="eval"> void addKeywordsToMessages(in nsISupportsArray aMessages,
                            in ACString aKeywords);
</pre>

<h3 id="removeKeywordsFromMessages.28.29" name="removeKeywordsFromMessages.28.29">removeKeywordsFromMessages()</h3>

<pre class="eval"> void removeKeywordsFromMessages(in nsISupportsArray aMessages,
                                 in ACString aKeywords);
</pre>

<h3 id="getMsgTextFromStream.28.29" name="getMsgTextFromStream.28.29">getMsgTextFromStream()</h3>

<p>Extract the message preview text from aStream, storing it as a string property on aMsgHdr.</p>

<pre class="eval"> AUTF8String getMsgTextFromStream(in nsIMsgDBHdr aMsgHdr,
                               in nsIInputStream aStream,
                               in long aBytesToRead,
                               in long aMaxOutputLen,
                               in boolean aCompressQuotes);
</pre>