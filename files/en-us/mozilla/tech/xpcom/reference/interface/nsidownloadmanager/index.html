---
title: nsIDownloadManager
slug: Mozilla/Tech/XPCOM/Reference/Interface/nsIDownloadManager
tags:
  - Interfaces
  - 'Interfaces:Scriptable'
  - XPCOM
  - XPCOM API Reference
  - XPCOM Interface Reference
---
<p></p><div class="obsolete obsoleteHeader notecard"><p><strong><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span> Obsolete</strong><br>This feature is obsolete. Although it may still work in some browsers, its use is discouraged since it could be removed at any time. Try to avoid using it.</p></div> <p></p><div class="warning notecard">This interface is deprecated as of Firefox 26. Please use <a href="/en-US/docs/Mozilla/JavaScript_code_modules/Downloads.jsm#Conversion_from_nsIDownloadManager">Downloads.jsm</a> instead.</div><p></p>

<p></p><div style="border: solid #ddd 2px; margin-bottom: 12px;">
<div style="background: #eee; padding: 2px;"><code><a href="https://dxr.mozilla.org/mozilla-central/source/toolkit/components/downloads/public/nsIDownloadManager.idl" rel="custom">toolkit/components/downloads/public/nsIDownloadManager.idl</a></code><span style="text-align: right; float: right;"><a href="/en-US/docs/Interfaces/About_Scriptable_Interfaces" style="color: #00cc00; font-weight: 700;">Scriptable</a></span></div>
<span style="padding: 4px 2px;">

This interface lets applications and extensions communicate with the Download Manager, adding and removing files to be downloaded, fetching information about downloads, and being notified when downloads are completed.
</span>

<div style="background: #eee; padding: 2px;">
Inherits from: <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title>nsISupports</a></code>
<span style="text-align: right; float: right;">Last changed in Gecko 1.9.1 (Firefox 3.5 / Thunderbird 3.0 / SeaMonkey 2.0)</span></div>
</div><p></p>

<p>Implemented by: <code>@mozilla.org/download-manager;1</code>. To get the service, use:</p>

<pre class="eval">var downloadManager = Components.classes[&quot;@mozilla.org/download-manager;1&quot;]
                      .getService(Components.interfaces.nsIDownloadManager);
</pre>

<h2 id="Method_overview" name="Method_overview">Method overview</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDownload" title>nsIDownload</a></code> <a href="#addDownload()">addDownload</a>(in short aDownloadType, in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIURI" title>nsIURI</a></code> aSource, in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIURI" title>nsIURI</a></code> aTarget, in AString aDisplayName, in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIMIMEInfo" title>nsIMIMEInfo</a></code> aMIMEInfo, in PRTime aStartTime, in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsILocalFile" title>nsILocalFile</a></code> aTempFile, in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsICancelable" title>nsICancelable</a></code> aCancelable, in boolean aIsPrivate);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#addListener()">addListener</a>(in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDownloadProgressListener" title>nsIDownloadProgressListener</a></code> aListener);</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#cancelDownload()">cancelDownload</a>(in unsigned long aID);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#cleanUp()">cleanUp</a>();</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#endBatchUpdate()">endBatchUpdate</a>();</code> <span class="obsolete obsoleteInline notecard inline" title="(Firefox 3.5 / Thunderbird 3.0 / SeaMonkey 2.0)">Obsolete since Gecko 1.9.1</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#flush()">flush</a>();</code> <span class="obsolete obsoleteInline notecard inline" title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Obsolete since Gecko 1.8</span></td>
  </tr>
  <tr>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDownload" title>nsIDownload</a></code> <a href="#getDownload()">getDownload</a>(in unsigned long aID);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#onClose()">onClose</a>();</code>  <span class="obsolete obsoleteInline notecard inline" title="(Firefox 3.5 / Thunderbird 3.0 / SeaMonkey 2.0)">Obsolete since Gecko 1.9.1</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#open()">open</a>(in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMWindow" title>nsIDOMWindow</a></code> aParent, in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDownload" title>nsIDownload</a></code> aDownload);</code> <span class="obsolete obsoleteInline notecard inline" title="(Firefox 3.5 / Thunderbird 3.0 / SeaMonkey 2.0)">Obsolete since Gecko 1.9.1</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#openProgressDialogFor()">openProgressDialogFor</a>(in nsIDownload aDownload, in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMWindow" title>nsIDOMWindow</a></code> aParent, in boolean <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/aCancelDownloadOnClose" title>aCancelDownloadOnClose</a></code>);</code>  <span class="obsolete obsoleteInline notecard inline" title="(Firefox 3.5 / Thunderbird 3.0 / SeaMonkey 2.0)">Obsolete since Gecko 1.9.1</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#pauseDownload()">pauseDownload</a>(in unsigned long aID);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#removeDownload()">removeDownload</a>(in unsigned long aID);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#removeDownloadsByTimeframe()">removeDownloadsByTimeframe</a>(in long long aBeginTime, in long long aEndTime);</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#removeListener()">removeListener</a>(in nsIDownloadProgressListener aListener);</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#resumeDownload()">resumeDownload</a>(in unsigned long aID);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#retryDownload()">retryDownload</a>(in unsigned long aID);</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#saveState()">saveState</a>();</code> <span class="obsolete obsoleteInline notecard inline" title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Obsolete since Gecko 1.8</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#startBatchUpdate()">startBatchUpdate</a>();</code> <span class="obsolete obsoleteInline notecard inline" title="(Firefox 3.5 / Thunderbird 3.0 / SeaMonkey 2.0)">Obsolete since Gecko 1.9.1</span></td>
  </tr>
 </tbody>
</table>

<h2 id="Attributes" name="Attributes">Attributes</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Attribute</td>
   <td class="header">Type</td>
   <td class="header">Description</td>
  </tr>
  <tr>
   <td><code>activeDownloadCount</code></td>
   <td><code><a href="/en/long" title="en/long">long</a></code></td>
   <td>The number of files currently being downloaded. <strong>Read only.</strong></td>
  </tr>
  <tr>
   <td><code>activeDownloads</code></td>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISimpleEnumerator" title>nsISimpleEnumerator</a></code></code></td>
   <td>An enumeration of active <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDownload" title>nsIDownload</a></code>s. <strong>Read only.</strong></td>
  </tr>
  <tr>
   <td><code>canCleanUp</code></td>
   <td><code><a href="/en/boolean" title="en/boolean">boolean</a></code></td>
   <td>Whether or not there are downloads that can be cleaned up (removed) that is downloads that have completed, have failed or have been canceled. <strong>Read only.</strong></td>
  </tr>
  <tr>
   <td><code>datasource</code></td>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIRDFDataSource" title>nsIRDFDataSource</a></code></code></td>
   <td><strong>Read only.</strong> <span class="obsolete obsoleteInline notecard inline" title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Obsolete since Gecko 1.8</span></td>
  </tr>
  <tr>
   <td><code>DBConnection</code></td>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/mozIStorageConnection" title>mozIStorageConnection</a></code></code></td>
   <td>The database connection to the downloads database. <strong>Read only.</strong> </td>
  </tr>
  <tr>
   <td><code>defaultDownloadsDirectory</code></td>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsILocalFile" title>nsILocalFile</a></code></code></td>
   <td>Returns the platform default downloads directory. <strong>Read only.</strong> </td>
  </tr>
  <tr>
   <td><code>listener</code></td>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDownloadProgressListener" title>nsIDownloadProgressListener</a></code></code></td>
   <td>The Download Manager&apos;s progress <code>listener</code>. <span class="obsolete obsoleteInline notecard inline" title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Obsolete since Gecko 1.8</span></td>
  </tr>
  <tr>
   <td><code>userDownloadsDirectory</code></td>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsILocalFile" title>nsILocalFile</a></code></code></td>
   <td>Returns the user configured downloads directory.
    <p>The path is dependent on two user configurable prefs set in preferences:</p>

    <p><code>browser.download.folderList</code> defines the default download location for files:</p>

    <ul>
     <li>0: Files are downloaded to the desktop by default.</li>
     <li>1: Files are downloaded to the system&apos;s downloads folder by default.</li>
     <li>2: Files are downloaded to the local path specified by the <code>browser.download.dir</code> preference. If this preference is invalid, the download directory falls back to the default.</li>
    </ul>
    <strong>Read only.</strong> </td>
  </tr>
 </tbody>
</table>

<h2 id="Constants" name="Constants">Constants</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Constant</td>
   <td class="header">Value</td>
   <td class="header">Description</td>
  </tr>
  <tr>
   <td><code>DOWNLOAD_NOTSTARTED</code></td>
   <td><code>-1</code></td>
   <td>The download has not been started yet.</td>
  </tr>
  <tr>
   <td><code>DOWNLOAD_DOWNLOADING</code></td>
   <td><code>0</code></td>
   <td>The download is in the process of being downloaded.</td>
  </tr>
  <tr>
   <td><code>DOWNLOAD_FINISHED</code></td>
   <td><code>1</code></td>
   <td>Download completed including any processing of the target file.</td>
  </tr>
  <tr>
   <td><code>DOWNLOAD_FAILED</code></td>
   <td><code>2</code></td>
   <td>The download failed due to error.</td>
  </tr>
  <tr>
   <td><code>DOWNLOAD_CANCELED</code></td>
   <td><code>3</code></td>
   <td>The user canceled the download.</td>
  </tr>
  <tr>
   <td><code>DOWNLOAD_PAUSED</code></td>
   <td><code>4</code></td>
   <td>The download is currently paused.</td>
  </tr>
  <tr>
   <td><code>DOWNLOAD_QUEUED</code></td>
   <td><code>5</code></td>
   <td>The download is in the queue but is not presently downloading. </td>
  </tr>
  <tr>
   <td><code>DOWNLOAD_BLOCKED_PARENTAL</code></td>
   <td><code>6</code></td>
   <td>The download has been blocked, either by parental controls or the virus scanner determining that a file is infected and cannot be cleaned. </td>
  </tr>
  <tr>
   <td><code>DOWNLOAD_SCANNING</code></td>
   <td><code>7</code></td>
   <td>The download is being scanned by a virus checking utility. </td>
  </tr>
  <tr>
   <td><code>DOWNLOAD_DIRTY</code></td>
   <td><code>8</code></td>
   <td>A virus was detected in the download. The target will most likely no longer exist. </td>
  </tr>
  <tr>
   <td><code>DOWNLOAD_BLOCKED_POLICY</code></td>
   <td><code>9</code></td>
   <td>Windows specific: Request was blocked by zone policy settings. (see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=416683" title="FIXED: binary downloads are deleted on completion when &quot;Launch applications and unsafe files&quot; is disabled">bug 416683</a>) </td>
  </tr>
  <tr>
   <td><code>DOWNLOAD_TYPE_DOWNLOAD</code></td>
   <td><code>0</code></td>
   <td>The download type used by addDownload. Is the type for a &quot;generic file download&quot; according to the .idl file.</td>
  </tr>
 </tbody>
</table>

<h2 id="Methods" name="Methods">Methods</h2>

<h3 id="addDownload()" name="addDownload()">addDownload()</h3>

<p>Creates an <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDownload" title>nsIDownload</a></code> and adds it to the list of activities being managed by the Download Manager.</p>

<div class="note"><strong>Note:</strong> Adding a download doesn&apos;t automatically begin the transfer. If you want to both add and start a download, you need to create an <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIWebBrowserPersist" title>nsIWebBrowserPersist</a></code> object, call this method, set the progressListener to the returned <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDownload" title>nsIDownload</a></code> object, and then call the <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIWebBrowserPersist#saveURI()">nsIWebBrowserPersist.saveURI()</a></code> method.</div>

<div class="note">
<p><strong>Note:</strong> Prior to <span title="(Firefox 12.0 / Thunderbird 12.0 / SeaMonkey 2.9)">Gecko 12.0</span>, this was a synchronous operation; that is, once this method returned, you knew that the download was in the Download Manager&apos;s list. That is no longer the case. Adding downloads to the Download Manager is now an asynchronous operation.</p>
</div>

<pre class="eval">nsIDownload addDownload(
  in short aDownloadType,
  in nsIURI aSource,
  in nsIURI aTarget,
  in AString aDisplayName,
  in nsIMIMEInfo aMIMEInfo,
  in PRTime aStartTime,
  in nsILocalFile aTempFile,
  in nsICancelable aCancelable,
  in boolean aIsPrivate
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aDownloadType</code></dt>
 <dd>The download type for the transfer. Should always be set to <code>nsIDownloadManager.DOWNLOAD_TYPE_DOWNLOAD</code> (that is, zero).</dd>
</dl>

<dl>
 <dt><code>aSource</code></dt>
 <dd>The source URI of the transfer. Must not be <code>null</code>.</dd>
 <dt><code>aTarget</code></dt>
 <dd>The URI indicating where the transferred file should be stored. Must not be <code>null</code>.</dd>
 <dt><code>aDisplayName</code></dt>
 <dd>A user-readable description of the transfer. May be an empty string.</dd>
 <dt><code>aMIMEInfo</code></dt>
 <dd>The MIME information associated with the target; this may include MIME type and helper application when appropriate. This parameter is optional.</dd>
 <dt><code>aStartTime</code></dt>
 <dd>The time at which the download began.</dd>
 <dt><code>aTempFile</code></dt>
 <dd>The location of a temporary file (a file in which the received data will be stored but is not equal to the target file). The file will be moved to the location indicated by <code>aTarget</code> when the download is complete. This may be <code>null</code>.</dd>
 <dt><code>aCancelable</code></dt>
 <dd>An object that can be used to abort the download. Must not be <code>null</code>.</dd>
 <dt><code>aIsPrivate</code></dt>
 <dd>Indicates whether this download should be considered private (ie. to be removed at the end of the private browsing session, cached in non-permanent storage, etc.)</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>The newly created download item with the passed-in properties.</p>

<p></p><h3 id="addListener()">addListener()</h3><p></p>

<p>Adds a <code>listener</code> to the Download Manager.</p>

<pre class="eval">void addListener(
  in nsIDownloadProgressListener aListener
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aListener</code></dt>
 <dd>The <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDownloadProgressListener" title>nsIDownloadProgressListener</a></code> object to receive status information from the Download Manager.</dd>
</dl>

<h3 id="cancelDownload()" name="cancelDownload()">cancelDownload()</h3>

<p>Cancels the download with the specified ID if it&apos;s currently in-progress. This calls <code>cancel(NS_BINDING_ABORTED)</code> on the <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsICancelable" title>nsICancelable</a></code> provided by the download.</p>

<pre class="eval">void cancelDownload(
  in unsigned long aID
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aID</code></dt>
 <dd>The unique ID of the download.</dd>
</dl>

<h6 id="Exceptions_thrown" name="Exceptions_thrown">Exceptions thrown</h6>

<dl>
 <dt><code>NS_ERROR_FAILURE</code></dt>
 <dd>The download is not in progress.</dd>
</dl>

<h3 id="cleanUp()" name="cleanUp()">cleanUp()</h3>

<p>Removes completed, failed, and canceled downloads from the list.</p>

<p>Also notifies observers of the &quot;download-manager-remove-download&quot; topic with a <code>null</code> subject to allow any Download Manager consumers to react to the removals.</p>

<pre class="eval">void cleanUp();
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<p>None.</p>

<p></p><div class="headingWithIndicator">
        <h3 id="endBatchUpdate()">endBatchUpdate()</h3>
        <span class="obsolete obsoleteMethod notecard inline">Obsolete since Gecko 1.9.1 (Firefox 3.5 / Thunderbird 3.0 / SeaMonkey 2.0)</span>
        </div><p></p>

<p>Indicate that a batch update is ending.</p>

<pre class="eval">void endBatchUpdate();
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<p>None.</p>

<p></p><div class="headingWithIndicator">
        <h3 id="flush()">flush()</h3>
        <span class="obsolete obsoleteMethod notecard inline">Obsolete since Gecko 1.8 (Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)</span>
        </div><p></p>

<p>Flush the download <code>datasource</code> to disk.</p>

<pre class="eval">void flush();
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<p>None.</p>

<h3 id="getDownload()" name="getDownload()">getDownload()</h3>

<p>Retrieves a download managed by the download manager. This can be one that is in progress, or one that has completed in the past and is stored in the database.</p>

<pre class="eval">nsIDownload getDownload(
  in unsigned long aID
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aID</code></dt>
 <dd>The unique ID of the download.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>The download with the specified ID.</p>

<h6 id="Exceptions_thrown" name="Exceptions_thrown">Exceptions thrown</h6>

<dl>
 <dt><code>NS_ERROR_NOT_AVAILABLE</code></dt>
 <dd>The download is not in the database.</dd>
</dl>

<p></p><h3 id="onClose()">onClose()</h3><p></p>

<p></p><div class="obsolete obsoleteHeader notecard"><p><strong><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span> Obsolete since Gecko 1.9.1 (Firefox 3.5 / Thunderbird 3.0 / SeaMonkey 2.0)</strong><br>This feature is obsolete. Although it may still work in some browsers, its use is discouraged since it could be removed at any time. Try to avoid using it.</p></div><p></p>

<p>Called when the download manager front end is closed. Useful for third party managers to let us know when they&apos;ve closed.</p>

<pre class="eval">void onClose();
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<p>None.</p>

<p></p><div class="headingWithIndicator">
        <h3 id="open()">open()</h3>
        <span class="obsolete obsoleteMethod notecard inline">Obsolete since Gecko 1.9.1 (Firefox 3.5 / Thunderbird 3.0 / SeaMonkey 2.0)</span>
        </div><p></p>

<p>Opens the Download Manager front end.</p>

<pre class="eval">void open(
  in nsIDOMWindow aParent,
  in nsIDownload aDownload
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aParent</code></dt>
 <dd>The parent, or opener, of the front end.</dd>
 <dt><code>aDownload</code></dt>
 <dd>A download to pass to the manager window. Useful if, for example, you want the window to select a certain download.</dd>
</dl>

<p></p><h3 id="openProgressDialogFor()">openProgressDialogFor()</h3><p></p>

<p></p><div class="obsolete obsoleteHeader notecard"><p><strong><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span> Obsolete since Gecko 1.9.1 (Firefox 3.5 / Thunderbird 3.0 / SeaMonkey 2.0)</strong><br>This feature is obsolete. Although it may still work in some browsers, its use is discouraged since it could be removed at any time. Try to avoid using it.</p></div><p></p>

<p>Opens an individual progress dialog displaying progress for the download.</p>

<pre class="eval">void openProgressDialogFor(
  in nsIDownload aDownload,
  in nsIDOMWindow aParent,
  in boolean aCancelDownloadOnClose
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aDownload</code></dt>
 <dd>The download object to display progress for, as returned by <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDownloadManager#getDownload()">getDownload()</a></code> or <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDownloadManager#addDownload()">addDownload()</a></code>.</dd>
 <dt><code>aParent</code></dt>
 <dd>The parent, or opener, of the front end.</dd>
 <dt><code>aCancelDownloadOnClose</code></dt>
 <dd>Whether closing the dialog should cancel the download.</dd>
</dl>

<h3 id="pauseDownload()" name="pauseDownload()">pauseDownload()</h3>

<p>Pauses the specified download.</p>

<pre class="eval">void pauseDownload(
  in unsigned long aID
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aID</code></dt>
 <dd>The unique ID of the download to pause.</dd>
</dl>

<h6 id="Exceptions_thrown" name="Exceptions_thrown">Exceptions thrown</h6>

<dl>
 <dt><code>NS_ERROR_FAILURE</code></dt>
 <dd>The download is not in progress.</dd>
</dl>

<h3 id="removeDownload()" name="removeDownload()">removeDownload()</h3>

<p>Removes the download with the specified ID if it is not currently in progress. Whereas <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDownloadManager#cancelDownload()">cancelDownload()</a></code> simply cancels the transfer while retaining information about it, <code>removeDownload()</code> removes all knowledge of it.</p>

<p>Also notifies observers of the &quot;download-manager-remove-download&quot; topic with the download id as the subject to allow any Download Manager consumers to react to the removal.</p>

<pre class="eval">void removeDownload(
  in unsigned long aID
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aID</code></dt>
 <dd>The unique ID of the download.</dd>
</dl>

<h6 id="Exceptions_thrown" name="Exceptions_thrown">Exceptions thrown</h6>

<dl>
 <dt><code>NS_ERROR_FAILURE</code></dt>
 <dd>The download is active.</dd>
</dl>

<p></p><h3 id="removeDownloadsByTimeframe()">removeDownloadsByTimeframe()</h3><p></p>

<p>Removes all inactive downloads that were started inclusively within the specified time frame.</p>

<pre class="eval">void removeDownloadsByTimeframe(
  in long long aBeginTime,
  in long long aEndTime
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aBeginTime</code></dt>
 <dd>The start time to remove downloads by in microseconds.</dd>
 <dt><code>aEndTime</code></dt>
 <dd>The end time to remove downloads by in microseconds.</dd>
</dl>

<p></p><h3 id="removeListener()">removeListener()</h3><p></p>

<p>Removes a listener from the Download Manager.</p>

<pre class="eval">void removeListener(
  in nsIDownloadProgressListener aListener
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aListener</code></dt>
 <dd>The <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDownloadProgressListener" title>nsIDownloadProgressListener</a></code> object to stop listening to the Download Manager.</dd>
</dl>

<h3 id="resumeDownload()" name="resumeDownload()">resumeDownload()</h3>

<p>Resumes the specified download.</p>

<pre class="eval">void resumeDownload(
  in unsigned long aID
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aID</code></dt>
 <dd>The unique ID of the download to resume.</dd>
</dl>

<h6 id="Exceptions_thrown" name="Exceptions_thrown">Exceptions thrown</h6>

<dl>
 <dt><code>NS_ERROR_FAILURE</code></dt>
 <dd>The download is not in progress.</dd>
</dl>

<p></p><h3 id="retryDownload()">retryDownload()</h3><p></p>

<p>Retries a failed download.</p>

<pre class="eval">void retryDownload(
  in unsigned long aID
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aID</code></dt>
 <dd>The unique ID of the download.</dd>
</dl>

<h6 id="Exceptions_thrown" name="Exceptions_thrown">Exceptions thrown</h6>

<dl>
 <dt><code>NS_ERROR_FAILURE</code></dt>
 <dd>If the download is not in the following states: <code>DOWNLOAD_CANCELED</code> or <code>DOWNLOAD_FAILED</code>.</dd>
 <dt><code>NS_ERROR_NOT_AVAILALE</code></dt>
 <dd>If the download id is not known.</dd>
</dl>

<p></p><div class="headingWithIndicator">
        <h3 id="saveState()">saveState()</h3>
        <span class="obsolete obsoleteMethod notecard inline">Obsolete since Gecko 1.8 (Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)</span>
        </div><p></p>

<p>Update the download <code>datasource</code>.</p>

<pre class="eval">void saveState();
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<p>None.</p>

<p></p><div class="headingWithIndicator">
        <h3 id="startBatchUpdate()">startBatchUpdate()</h3>
        <span class="obsolete obsoleteMethod notecard inline">Obsolete since Gecko 1.9.1 (Firefox 3.5 / Thunderbird 3.0 / SeaMonkey 2.0)</span>
        </div><p></p>

<p>Indicate that a batch update (For example mass removal) is about to start.</p>

<pre class="eval">void startBatchUpdate();
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<p>None.</p>

<h2 id="See_also" name="See_also">See also</h2>

<ul>
 <li><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDownload" title>nsIDownload</a></code></li>
 <li><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDownloadManagerUI" title>nsIDownloadManagerUI</a></code></li>
 <li><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDownloadProgressListener" title>nsIDownloadProgressListener</a></code></li>
 <li><a href="/en/The_Download_Manager_schema" title="en/The_Download_Manager_schema">The Download Manager schema</a></li>
</ul>
