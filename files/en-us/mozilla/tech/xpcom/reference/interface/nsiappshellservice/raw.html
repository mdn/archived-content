<p></p><div style="border: solid #ddd 2px; margin-bottom: 12px;">
<div style="background: #eee; padding: 2px;"><code><a href="https://dxr.mozilla.org/mozilla-central/source/xpfe/appshell/nsIAppShellService.idl" rel="custom">xpfe/appshell/nsIAppShellService.idl</a></code><span style="text-align: right; float: right;"><a href="/en-US/docs/Interfaces/About_Scriptable_Interfaces" style="color: #00cc00; font-weight: 700;">Scriptable</a></span></div>
<span style="padding: 4px 2px;">

Provides the AppShellService.
</span>

<div style="background: #eee; padding: 2px;">
Inherits from: <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">nsISupports</a></code>
<span style="text-align: right; float: right;">Last changed in Gecko 8.0 (Firefox 8.0 / Thunderbird 8.0 / SeaMonkey 2.5)</span></div>
</div><p></p>

<p>Implemented by: <code>@mozilla.org/appshell/appShellService;1</code> as a service:</p>

<pre class="eval">var appShellService = Components.classes["@mozilla.org/appshell/appShellService;1"]
                      .getService(Components.interfaces.nsIAppShellService);
</pre>

<h2 id="Method_overview" name="Method_overview">Method overview</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td><code>void <a href="#closeTopLevelWindow()">closeTopLevelWindow</a>(in nsIXULWindow aWindow);</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Obsolete since Gecko 1.8</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#createHiddenWindow()">createHiddenWindow</a>(in nsIAppShell aAppShell);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#createStartupState()">createStartupState</a>(in long aWindowWidth, in long aWindowHeight);</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Obsolete since Gecko 1.8</span></td>
  </tr>
  <tr>
   <td><code>nsIXULWindow <a href="#createTopLevelWindow()">createTopLevelWindow</a>(in nsIXULWindow aParent, in nsIURI aUrl, in PRUint32 aChromeMask, in long aInitialWidth, in long aInitialHeight, in nsIAppShell aAppShell);</code></td>
  </tr>
  <tr>
   <td>nsIWebNav createWindowlessBrowser (in bool aIsChrome)</td>
  </tr>
  <tr>
   <td><code>void <a href="#destroyHiddenWindow()">destroyHiddenWindow</a>();</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#doProfileStartup()">doProfileStartup</a>(in nsICmdLineService aCmdLineService, in boolean canInteract);</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Obsolete since Gecko 1.8</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#ensure1Window()">ensure1Window</a>(in nsICmdLineService aCmdLineService);</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Obsolete since Gecko 1.8</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#enterLastWindowClosingSurvivalArea()">enterLastWindowClosingSurvivalArea</a>();</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Obsolete since Gecko 1.8</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#exitLastWindowClosingSurvivalArea()">exitLastWindowClosingSurvivalArea</a>();</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Obsolete since Gecko 1.8</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#getHiddenWindowAndJSContext()">getHiddenWindowAndJSContext</a>(out nsIDOMWindow aHiddenDOMWindow, out JSContext aJSContext);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#hideSplashScreen()">hideSplashScreen</a>();</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Obsolete since Gecko 1.8</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#initialize()">initialize</a>(in nsICmdLineService aCmdLineService, in nsISupports nativeAppSupportOrSplashScreen);</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Obsolete since Gecko 1.8</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#quit()">quit</a>(in PRUint32 aFerocity);</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Obsolete since Gecko 1.8</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#registerTopLevelWindow()">registerTopLevelWindow</a>(in nsIXULWindow aWindow);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#run()">run</a>();</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Obsolete since Gecko 1.8</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#topLevelWindowIsModal()">topLevelWindowIsModal</a>(in nsIXULWindow aWindow, in boolean aModal);</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3.5 / Thunderbird 3.0 / SeaMonkey 2.0)">Obsolete since Gecko 1.9.1</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#unregisterTopLevelWindow()">unregisterTopLevelWindow</a>(in nsIXULWindow aWindow);</code></td>
  </tr>
 </tbody>
</table>

<div class="note">
<p><strong>Note:</strong> Prior to <span title="(Firefox 8.0 / Thunderbird 8.0 / SeaMonkey 2.5)">Gecko 8.0</span>, all references to <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMWindow" title="">nsIDOMWindow</a></code> used in this interface were <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMWindowInternal" title="">nsIDOMWindowInternal</a></code>.</p>
</div>

<h2 id="Attributes" name="Attributes">Attributes</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Attribute</td>
   <td class="header">Type</td>
   <td class="header">Description</td>
  </tr>
  <tr>
   <td><code>applicationProvidedHiddenWindow</code></td>
   <td><code><a href="/en/boolean" title="en/boolean">boolean</a></code></td>
   <td>Return <code>true</code> if the application hidden window was provided by the application. If it was not, the default hidden window was used. This will usually be <code>false</code> on all non-mac platforms. <strong>Read only.</strong> </td>
  </tr>
  <tr>
   <td><code>hiddenDOMWindow</code></td>
   <td><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMWindow" title="">nsIDOMWindow</a></code></td>
   <td>Return the (singleton) application hidden window, automatically created and maintained by this AppShellService. <strong>Read only.</strong></td>
  </tr>
  <tr>
   <td><code>hiddenWindow</code></td>
   <td><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIXULWindow" title="">nsIXULWindow</a></code></td>
   <td>Return the (singleton) application hidden window, automatically created and maintained by this AppShellService. <strong>Read only.</strong></td>
  </tr>
  <tr>
   <td><code>nativeAppSupport</code></td>
   <td><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINativeAppSupport" title="">nsINativeAppSupport</a></code></td>
   <td>Getter for "native application support." <strong>Read only.</strong> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Obsolete since Gecko 1.8</span></td>
  </tr>
 </tbody>
</table>

<h2 id="Constants" name="Constants">Constants</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Constant</td>
   <td class="header">Value</td>
   <td class="header">Description</td>
  </tr>
  <tr>
   <td><code>SIZE_TO_CONTENT</code></td>
   <td><code>-1</code></td>
   <td>Create a window, which will be initially invisible.</td>
  </tr>
  <tr>
   <td><code>eConsiderQuit</code></td>
   <td><code>1</code></td>
   <td>Attempt to quit if all windows are closed. <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Obsolete since Gecko 1.8</span></td>
  </tr>
  <tr>
   <td><code>eAttemptQuit</code></td>
   <td><code>2</code></td>
   <td>Try to close all windows, then quit if successful. <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Obsolete since Gecko 1.8</span></td>
  </tr>
  <tr>
   <td><code>eForceQuit</code></td>
   <td><code>3</code></td>
   <td>Force all windows to close, then quit. <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Obsolete since Gecko 1.8</span></td>
  </tr>
 </tbody>
</table>

<h2 id="Methods" name="Methods">Methods</h2>

<p></p><div class="headingWithIndicator">
        <h3 id="closeTopLevelWindow()">closeTopLevelWindow()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 1.8 (Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)</span>
        </div><p></p>

<p>Close a window.</p>

<pre class="eval">void closeTopLevelWindow(
  in nsIXULWindow aWindow
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aWindow</code></dt>
 <dd>A window.</dd>
</dl>

<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="createHiddenWindow">createHiddenWindow</h3></div><p></p>

<p>Creates a hidden window.</p>

<pre class="eval">void createHiddenWindow(
  in nsIAppShell aAppShell
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aAppShell</code> </dt>
 <dd>A widget "appshell" (event processor) to associate with the new window.</dd>
</dl>

<p></p><div class="headingWithIndicator">
        <h3 id="createStartupState()">createStartupState()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 1.8 (Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)</span>
        </div><p></p>

<p>Creates the initial state of the application by launching tasks specfied by "general.startup.*" prefs.</p>

<p></p><div class="blockIndicator note"><strong>Note:</strong> <code>SIZE_TO_CONTENT</code> may be used for width or height.</div><p></p>

<pre class="eval">boolean createStartupState(
  in long aWindowWidth,
  in long aWindowHeight
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aWindowWidth</code></dt>
 <dd>The width to make the initial window(s) opened.</dd>
 <dt><code>aWindowHeight</code></dt>
 <dd>The height to make the initial window(s) opened.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p><code>true</code> if a window was opened.</p>

<h3 id="createTopLevelWindow()" name="createTopLevelWindow()">createTopLevelWindow()</h3>

<p>This method creates a window, which will be initially invisible.</p>

<pre class="eval">nsIXULWindow createTopLevelWindow(
  in nsIXULWindow aParent,
  in nsIURI aUrl,
  in boolean aShowWindow,
  in boolean aLoadDefaultPage,
  in PRUint32 aChromeMask,
  in long aInitialWidth,
  in long aInitialHeight,
  in nsIAppShell aAppShell
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aParent</code></dt>
 <dd>The parent window. Can be null.</dd>
 <dt><code>aUrl</code></dt>
 <dd>The contents of the new window.</dd>
 <dt><code>aShowWindow</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Obsolete since Gecko 1.8</span></dt>
 <dd>The window remains invisible if <code>PR_FALSE</code>.</dd>
 <dt><code>aLoadDefaultPage</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Obsolete since Gecko 1.8</span></dt>
 <dd>Controls whether the window should try to load a default content page on its own.</dd>
 <dt><code>aChromeMask</code></dt>
 <dd>Chrome flags affecting the kind of OS border given to the window. (See <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIBrowserWindow" title="">nsIBrowserWindow</a></code> for bit/flag definitions).</dd>
 <dt><code>aInitialWidth</code></dt>
 <dd>Width, in pixels, of the window. Width of window at creation. Can be overridden by the "width" tag in the XUL. Set to <code>NS_SIZETOCONTENT</code> to force the window to wrap to its contents.</dd>
 <dt><code>aInitialHeight</code></dt>
 <dd>Height, in pixels, of the window. Height of window at creation. Can be overridden by the "height" tag in the XUL. Set to <code>NS_SIZETOCONTENT</code> to force the window to wrap to its contents.</dd>
 <dt><code>aAppShell</code> </dt>
 <dd>A widget "appshell" (event processor) to associate with the new window.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>Returns the newly created window.</p>

<p></p><h3 id="destroyHiddenWindow()">destroyHiddenWindow()</h3><p></p>

<p>Destroys a hidden window.</p>

<pre class="eval">void destroyHiddenWindow();
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<p>None.</p>

<p></p><div class="headingWithIndicator">
        <h3 id="doProfileStartup()">doProfileStartup()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 1.8 (Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)</span>
        </div><p></p>

<p>Starts up the profile manager with the given arguments.</p>

<pre class="eval">void doProfileStartup(
  in nsICmdLineService aCmdLineService,
  in boolean canInteract
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aCmdLineService</code></dt>
 <dd>The arguments given to the program.</dd>
 <dt><code>canInteract</code></dt>
 <dd>If <code>false</code> and UI is needed, will fail.</dd>
</dl>

<p></p><div class="headingWithIndicator">
        <h3 id="ensure1Window()">ensure1Window()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 1.8 (Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)</span>
        </div><p></p>

<p>Ensures that at least one window exists after creating the startup state. If one has not been made, this will create a browser window.</p>

<pre class="eval">void ensure1Window(
  in nsICmdLineService aCmdLineService
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aCmdLineService</code></dt>
 <dd>The command line from which startup args can be read.</dd>
</dl>

<p></p><div class="headingWithIndicator">
        <h3 id="enterLastWindowClosingSurvivalArea()">enterLastWindowClosingSurvivalArea()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 1.8 (Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)</span>
        </div><p></p>

<p>During application startup (and at other times!) we may temporarily encounter a situation where all application windows will be closed but we do not want to take this as a signal to quit the application. Bracket the code where the last window could close with these. (And at application startup, on platforms that do not normally quit when the last window has closed, call Enter once, but not Exit)</p>

<pre class="eval">void enterLastWindowClosingSurvivalArea();
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<p>None.</p>

<p></p><div class="headingWithIndicator">
        <h3 id="exitLastWindowClosingSurvivalArea()">exitLastWindowClosingSurvivalArea()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 1.8 (Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)</span>
        </div><p></p>

<pre class="eval">void exitLastWindowClosingSurvivalArea();
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<p>None.</p>

<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="getHiddenWindowAndJSContext">getHiddenWindowAndJSContext</h3></div><p></p>

<p>Return the (singleton) application hidden window as an <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMWindow" title="">nsIDOMWindow</a></code>, and, the corresponding JavaScript context pointer. This is useful if you'd like to subsequently call OpenDialog on the hidden window.</p>

<pre class="eval">void getHiddenWindowAndJSContext(
  out nsIDOMWindow aHiddenDOMWindow,
  out JSContext aJSContext
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aHiddenDOMWindow</code></dt>
 <dd>The hidden window <code>QueryInterface</code>'d to type <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMWindow" title="">nsIDOMWindow</a></code>.</dd>
 <dt><code>aJSContext</code></dt>
 <dd>The corresponding JavaScript context.</dd>
</dl>

<p></p><div class="headingWithIndicator">
        <h3 id="hideSplashScreen()">hideSplashScreen()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 1.8 (Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)</span>
        </div><p></p>

<p>Remove the splash screen (if visible). This need be called only once per application session.</p>

<pre class="eval">void hideSplashScreen();
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<p>None.</p>

<p></p><div class="headingWithIndicator">
        <h3 id="initialize()">initialize()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 1.8 (Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)</span>
        </div><p></p>

<p>Required initialization routine.</p>

<pre class="eval">void initialize(
  in nsICmdLineService aCmdLineService,
  in nsISupports nativeAppSupportOrSplashScreen
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aCmdLineService</code></dt>
 <dd>Is stored and passed to appshell components as they are initialized.</dd>
 <dt><code>nativeAppSupportOrSplashScreen</code></dt>
 <dd>Is an object that can be <code>QueryInterface</code>'d to either an <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINativeAppSupport" title="">nsINativeAppSupport</a></code> or <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISplashScreen" title="">nsISplashScreen</a></code>; this object will be used to implement HideSplashScreen.</dd>
</dl>

<p></p><div class="headingWithIndicator">
        <h3 id="quit()">quit()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 1.8 (Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)</span>
        </div><p></p>

<p>Exit the event loop, shut down the app.</p>

<pre class="eval">void quit(
  in PRUint32 aFerocity
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aFerocity</code></dt>
 <dd>One of the e* constants.</dd>
 <dt>
 <h3 id="createWindowlessBrowser()" name="createWindowlessBrowser()">createWindowlessBrowser()</h3>

 <p>This method creates a browser that does not have a window. If the browser is exited, this windowless browser will not prevent Firefox from exiting. E10s notes: The browser is created in process. To get an out of process element you want to communicate with via message manager, then append a browser element with remote attribute set to true. Follow this bug - <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1280028">Bugzilla - Bug 1280028</a></p>

 <pre class="eval">nsIWebNav createWindowlessBrowser(
  in bool aIsChrome
);</pre>
 </dt>
</dl>

<pre class="brush: js">var webnav = Services.appShell.createWindowlessBrowser(true);
var docshell = webnav.QueryInterface(Ci.nsIInterfaceRequestor).getInterface(Ci.nsIDocShell);
var systemPrincipal = Cc["@mozilla.org/systemprincipal;1"].createInstance(Ci.nsIPrincipal);
docshell.createAboutBlankContentViewer(systemPrincipal);
var contentWindow = docshell.contentViewer.DOMDocument.defaultView;

// when you are done with it, destroy it
if (webnav.close) { webnav.close() }; // only available in Firefox 46+, and is needed for good measure
webnav = null; // in Firefox &lt;= 45 setting to null will cause it to get GC'ed which will destroy it</pre>

<h3 id="registerTopLevelWindow()" name="registerTopLevelWindow()"> </h3>

<h3 id="registerTopLevelWindow()" name="registerTopLevelWindow()">registerTopLevelWindow()</h3>

<p>Add a window to the application's registry of windows. These windows are generally shown in the Windows taskbar, and the application knows it can not quit until it is out of registered windows.</p>

<p></p><div class="blockIndicator note"><strong>Note:</strong> When this method is successful, it fires the global notification "xul-window-registered"</div><p></p>

<pre class="eval">void registerTopLevelWindow(
  in nsIXULWindow aWindow
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aWindow</code></dt>
 <dd>The window to register.</dd>
</dl>

<p></p><div class="headingWithIndicator">
        <h3 id="run()">run()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 1.8 (Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)</span>
        </div><p></p>

<p>Runs an application event loop: normally the main event pump which defines the lifetime of the application.</p>

<pre class="eval">void run();
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<p>None.</p>

<p></p><div class="headingWithIndicator">
        <h3 id="topLevelWindowIsModal()">topLevelWindowIsModal()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 1.9.1 (Firefox 3.5 / Thunderbird 3.0 / SeaMonkey 2.0)</span>
        </div><p></p>

<p>The appshell service needs to be informed of modal XUL windows currently open. Call this method as a window becomes modal or as it becomes nonmodal.</p>

<pre class="eval">void topLevelWindowIsModal(
  in nsIXULWindow aWindow,
  in boolean aModal
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aWindow</code></dt>
 <dd>The window to register.</dd>
 <dt><code>aModal</code></dt>
 <dd><code>true</code> if <code>aWindow</code> is becoming modal or <code>false</code> if <code>aWindow</code> is becoming nonmodal (or being closed).</dd>
</dl>

<h3 id="unregisterTopLevelWindow()" name="unregisterTopLevelWindow()">unregisterTopLevelWindow()</h3>

<p>Remove a window from the application's window registry.</p>

<p></p><div class="blockIndicator note"><strong>Note:</strong> This method will not automatically attempt to quit the application when the last window is unregistered. For that, see Quit().</div><p></p>

<pre class="eval">void unregisterTopLevelWindow(
  in nsIXULWindow aWindow
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aWindow</code></dt>
 <dd>The window to register.</dd>
</dl>

<h2 id="See_also" name="See_also">See also</h2>

<ul>
 <li><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIAppShell" title="">nsIAppShell</a></code></li>
</ul>