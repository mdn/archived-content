<p></p><div style="border: solid #ddd 2px; margin-bottom: 12px;">
<div style="background: #eee; padding: 2px;"><code><a href="https://dxr.mozilla.org/mozilla-central/source/docshell/base/nsIContentViewer.idl" rel="custom">docshell/base/nsIContentViewer.idl</a></code><span style="text-align: right; float: right;"><a href="/en-US/docs/Interfaces/About_Scriptable_Interfaces" style="color: #00cc00; font-weight: 700;">Scriptable</a></span></div>
<span style="padding: 4px 2px;">

Handles displaying content.
</span>

<div style="background: #eee; padding: 2px;">
Inherits from: <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">nsISupports</a></code>
<span style="text-align: right; float: right;">Last changed in Gecko 10.0 (Firefox 10.0 / Thunderbird 10.0 / SeaMonkey 2.7)</span></div>
</div><p></p>
<p>Implemented by: <code>?????????????????????????????????????</code>. To create an instance, use:</p>
<pre class="eval">var contentViewer = Components.classes["@mozilla.org/????????????????????????????"]
                    .createInstance(Components.interfaces.nsIContentViewer);
</pre>
<h2 id="Method_overview" name="Method_overview">Method overview</h2>
<table class="standard-table">
 <tbody>
  <tr>
   <td><code>void <a href="#clearHistoryEntry()">clearHistoryEntry</a>();</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#close()">close</a>(in nsISHEntry historyEntry);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#destroy()">destroy</a>();</code></td>
  </tr>
  <tr>
   <td><code>[noscript,notxpcom,nostdcall] nsIViewPtr <a href="#findContainerView()">findContainerView</a>();</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#getBounds()">getBounds</a>(in nsIntRectRef aBounds);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span></td>
  </tr>
  <tr>
   <td><code>[noscript,notxpcom] nsIDocumentPtr <a href="#getDocument()">getDocument</a>();</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#hide()">hide</a>();</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#init()">init</a>(in nsIWidgetPtr aParentWidget, [const] in nsIntRectRef aBounds);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#loadComplete()">loadComplete</a>(in unsigned long aStatus);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#loadStart()">loadStart</a>(in nsISupports aDoc);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#move()">move</a>(in long aX, in long aY);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#open()">open</a>(in nsISupports aState, in nsISHEntry aSHEntry);</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#pageHide()">pageHide</a>(in boolean isUnload);</code> </td>
  </tr>
  <tr>
   <td><code>boolean <a href="#permitUnload()">permitUnload</a>([optional] in boolean aCallerClosesWindow);</code></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#requestWindowClose()">requestWindowClose</a>();</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#resetCloseWindow()">resetCloseWindow</a>();</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#setBounds()">setBounds</a>([const] in nsIntRectRef aBounds);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#setDocumentInternal()">setDocumentInternal</a>(in nsIDocumentPtr aDocument, in boolean aForceReuseInnerWindow);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span> </td>
  </tr>
  <tr>
   <td><code>[noscript,notxpcom,nostdcall] void <a href="#setNavigationTiming()">setNavigationTiming</a>(in nsDOMNavigationTimingPtr aTiming);</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#setPageMode()">setPageMode</a>(in boolean aPageMode, in nsIPrintSettings aPrintSettings);</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#show()">show</a>();</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#stop()">stop</a>();</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#unload()">unload</a>();</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Obsolete since Gecko 1.8</span></td>
  </tr>
 </tbody>
</table>
<h2 id="Attributes" name="Attributes">Attributes</h2>
<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Attribute</td>
   <td class="header">Type</td>
   <td class="header">Description</td>
  </tr>
  <tr>
   <td><code>container</code></td>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">nsISupports</a></code></code></td>
   <td> </td>
  </tr>
  <tr>
   <td><code>DOMDocument</code></td>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMDocument" title="">nsIDOMDocument</a></code></code></td>
   <td> </td>
  </tr>
  <tr>
   <td><code>enableRendering</code></td>
   <td><code><a href="/en/boolean" title="en/boolean">boolean</a></code></td>
   <td><span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)">Obsolete since Gecko 2.0</span></td>
  </tr>
  <tr>
   <td><code>historyEntry</code></td>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISHEntry" title="">nsISHEntry</a></code></code></td>
   <td>Get the history entry that this viewer will save itself into when destroyed. Can return <code>null</code>. <strong>Read only.</strong> </td>
  </tr>
  <tr>
   <td><code>isTabModalPromptAllowed</code></td>
   <td><code><a href="/en/boolean" title="en/boolean">boolean</a></code></td>
   <td><strong>Read only.</strong> </td>
  </tr>
  <tr>
   <td><code>presContext</code></td>
   <td><code><a href="/en/nsPresContextPtr" title="en/nsPresContextPtr">nsPresContextPtr</a></code></td>
   <td>
    <p><strong>Read only.</strong> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span> </p>
    <div class="note">
     <strong>Note:</strong> Prior to Gecko 10.0 (Firefox 10.0 / Thunderbird 10.0 / SeaMonkey 2.7), this attribute was part of <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDocumentViewer" title="">nsIDocumentViewer</a></code>.</div>
   </td>
  </tr>
  <tr>
   <td><code>presShell</code></td>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIPresShellPtr" title="">nsIPresShellPtr</a></code></code></td>
   <td>
    <p><strong>Read only.</strong> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span> </p>
    <div class="note">
     <strong>Note:</strong> Prior to Gecko 10.0 (Firefox 10.0 / Thunderbird 10.0 / SeaMonkey 2.7), this attribute was part of <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDocumentViewer" title="">nsIDocumentViewer</a></code>.</div>
   </td>
  </tr>
  <tr>
   <td><code>previousViewer</code></td>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIContentViewer" title="">nsIContentViewer</a></code></code></td>
   <td>The previous content viewer, which has been closed but not destroyed. <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span></td>
  </tr>
  <tr>
   <td><code>sticky</code></td>
   <td><code><a href="/en/boolean" title="en/boolean">boolean</a></code></td>
   <td> </td>
  </tr>
 </tbody>
</table>
<h2 id="Methods" name="Methods">Methods</h2>
<p></p><h3 id="clearHistoryEntry()">clearHistoryEntry()</h3><p></p>
<p>Clears the current history entry. This is used to clear out the saved presentation state.</p>
<pre class="eval">void clearHistoryEntry();
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<p>None.</p>
<h3 id="close()" name="close()">close()</h3>
<p>All users of a content viewer are responsible for calling both <code>close()</code> and <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIContentViewer#destroy()">destroy()</a></code>, in that order.</p>
<p><code>close()</code> should be called when the load of a new page for the next content viewer begins, and <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIContentViewer#destroy()">destroy()</a></code> should be called when the next content viewer replaces this one.</p>
<div class="note">
 <strong>Note:</strong> If the document is currently being printed, it will not be saved in session history.</div>
<pre class="eval">void close(
  in nsISHEntry historyEntry
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>historyEntry</code></dt>
 <dd>
  The session history entry for the content viewer. If this is <code>null</code>, then <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIContentViewer#destroy()">destroy()</a></code> will be called on the document by <code>close()</code>. If it is non-<code>null</code>, the document will not be destroyed, and the following actions will happen when <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIContentViewer#destroy()">destroy()</a></code> is called:
  <ul>
   <li><code>Sanitize()</code> will be called on the viewer's document</li>
   <li>The content viewer will set the <code>contentViewer</code> property on the history entry, and release its reference (ownership reversal).</li>
   <li><code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIContentViewer#Hide()">Hide()</a></code> will be called, and no further destruction will happen.</li>
  </ul>
 </dd>
</dl>
<h3 id="destroy()" name="destroy()">destroy()</h3>
<pre class="eval">void destroy();
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<p>None.</p>
<p></p><h3 id="findContainerView()">findContainerView()</h3><p></p>
<p>Finds the view to use as the <code>container</code> view for MakeWindow.</p>
<div class="note">
 <strong>Note:</strong> Prior to Gecko 10.0 (Firefox 10.0 / Thunderbird 10.0 / SeaMonkey 2.7), this attribute was part of <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDocumentViewer" title="">nsIDocumentViewer</a></code>.</div>
<pre class="eval">[noscript,notxpcom,nostdcall] nsIViewPtr findContainerView();
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<p>None.</p>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>The container view, or <code>null</code> if this content viewer is the root of a view manager hierarchy.</p>
<div class="note">
 <strong>Note:</strong> If this container is the root of a view manager hierarchy (that is, this method returns <code>null</code>), and <code>mParentWidget</code> is also <code>null</code>, then this document should not even be displayed.</div>
<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="getBounds">getBounds</h3></div><p></p>
<pre class="eval">void getBounds(
  in nsIntRectRef aBounds
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aBounds</code></dt>
 <dd>
  Missing Description</dd>
</dl>
<p></p><h3 id="getDocument()">getDocument()</h3><p></p>
<p>Returns the DOM document object (as an <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDocument" title="">nsIDocument</a></code> without addrefing.</p>
<pre class="eval">[noscript,notxpcom] nsIDocumentPtr getDocument();
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<p>None.</p>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>The DOM document object.</p>
<h3 id="hide()" name="hide()">hide()</h3>
<pre class="eval">void hide();
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<p>None.</p>
<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="init">init</h3></div><p></p>
<p>Initializes the content viewer.</p>
<pre class="eval">void init(
  in nsIWidgetPtr aParentWidget,
  [const] in nsIntRectRef aBounds
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aParentWidget</code></dt>
 <dd>
  Missing Description</dd>
 <dt>
  <code>aBounds</code></dt>
 <dd>
  Missing Description</dd>
</dl>
<h3 id="loadComplete()" name="loadComplete()">loadComplete()</h3>
<pre class="eval">void loadComplete(
  in unsigned long aStatus
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aStatus</code></dt>
 <dd>
  Missing Description</dd>
</dl>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">Exceptions thrown</h6>
<dl>
 <dt>
  <code>Missing Exception</code></dt>
 <dd>
  Missing Description</dd>
</dl>
<h3 id="loadStart()" name="loadStart()">loadStart()</h3>
<pre class="eval">void loadStart(
  in nsISupports aDoc
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aDoc</code></dt>
 <dd>
  Missing Description</dd>
</dl>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">Exceptions thrown</h6>
<dl>
 <dt>
  <code>Missing Exception</code></dt>
 <dd>
  Missing Description</dd>
</dl>
<h3 id="move()" name="move()">move()</h3>
<pre class="eval">void move(
  in long aX,
  in long aY
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aX</code></dt>
 <dd>
  Missing Description</dd>
 <dt>
  <code>aY</code></dt>
 <dd>
  Missing Description</dd>
</dl>
<p></p><h3 id="open()">open()</h3><p></p>
<p>Attaches the content viewer to its DOM window and docshell.</p>
<pre class="eval">void open(
  in nsISupports aState,
  in nsISHEntry aSHEntry
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aState</code></dt>
 <dd>
  A state object that might be useful in attaching the DOM window.</dd>
 <dt>
  <code>aSHEntry</code></dt>
 <dd>
  The history entry that the content viewer was stored in. The entry must have the docshells for all of the child documents stored in its child shell list.</dd>
</dl>
<p></p><h3 id="pageHide()">pageHide()</h3><p></p>
<pre class="eval">void pageHide(
  in boolean isUnload
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>isUnload</code></dt>
 <dd>
  Missing Description</dd>
</dl>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">Exceptions thrown</h6>
<dl>
 <dt>
  <code>Missing Exception</code></dt>
 <dd>
  Missing Description</dd>
</dl>
<h3 id="permitUnload()" name="permitUnload()">permitUnload()</h3>
<p>Determins whether or not the document wants to prevent unloading by firing <code>beforeunload</code> on the document, and if it does, prompts the user. The result is returned.</p>
<pre class="eval">boolean permitUnload(
  in boolean aCallerClosesWindow <span class="inlineIndicator optional optionalInline">Optional</span>
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aCallerClosesWindow</code> <span class="inlineIndicator optional optionalInline">Optional</span></dt>
 <dd>
  Indicates that the current caller will <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIContentViewer#close()">close()</a></code> the window. If the method returns <code>true</code>, all subsequent calls will be ignored.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p><code>true</code> if the document will allow unloading; otherwise <code>false</code>.</p>
<h3 id="requestWindowClose()" name="requestWindowClose()">requestWindowClose()</h3>
<pre class="eval">boolean requestWindowClose();
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<p>None.</p>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>Missing Description</p>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">Exceptions thrown</h6>
<dl>
 <dt>
  <code>Missing Exception</code></dt>
 <dd>
  Missing Description</dd>
</dl>
<p></p><h3 id="resetCloseWindow()">resetCloseWindow()</h3><p></p>
<p>Works in tandem with <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIContentViewer#permitUnload()">permitUnload()</a></code>, if the caller decides not to <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIContentViewer#close()">close()</a></code> the window it indicated it will, it is the caller's responsibility to reset that with this method.</p>
<p></p><div class="blockIndicator note"><strong>Note:</strong> @Note this method is only meant to be called on documents for which the caller has indicated that it will close the window. If that is not the case the behavior of this method is undefined.</div><p></p>
<pre class="eval">void resetCloseWindow();
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<p>None.</p>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">Exceptions thrown</h6>
<dl>
 <dt>
  <code>Missing Exception</code></dt>
 <dd>
  Missing Description</dd>
</dl>
<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="setBounds">setBounds</h3></div><p></p>
<pre class="eval">void setBounds(
  [const] in nsIntRectRef aBounds
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aBounds</code></dt>
 <dd>
  Missing Description</dd>
</dl>
<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="setDocumentInternal">setDocumentInternal</h3></div><p></p>
<p></p>
<div class="note">
 <strong>Note:</strong> Prior to Gecko 10.0 (Firefox 10.0 / Thunderbird 10.0 / SeaMonkey 2.7), this attribute was part of <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDocumentViewer" title="">nsIDocumentViewer</a></code>.</div>
<pre class="eval">void setDocumentInternal(
  in nsIDocumentPtr aDocument,
  in boolean aForceReuseInnerWindow
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aDocument</code></dt>
 <dd>
  Missing Description</dd>
 <dt>
  <code>aForceReuseInnerWindow</code></dt>
 <dd>
  Missing Description</dd>
</dl>
<p></p><h3 id="setNavigationTiming()">setNavigationTiming()</h3><p></p>
<p>Set collector for navigation timing data (<code>load</code> and <code>unload</code> events).</p>
<pre class="eval">[noscript,notxpcom,nostdcall] void setNavigationTiming(
  in nsDOMNavigationTimingPtr aTiming
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aTiming</code></dt>
 <dd>
  Missing Description</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>Missing Description</p>
<p></p><h3 id="setPageMode()">setPageMode()</h3><p></p>
<pre class="eval">void setPageMode(
  in boolean aPageMode,
  in nsIPrintSettings aPrintSettings
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aPageMode</code></dt>
 <dd>
  Missing Description</dd>
 <dt>
  <code>aPrintSettings</code></dt>
 <dd>
  Missing Description</dd>
</dl>
<h3 id="show()" name="show()">show()</h3>
<pre class="eval">void show();
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<p>None.</p>
<h3 id="stop()" name="stop()">stop()</h3>
<pre class="eval">void stop();
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<p>None.</p>
<p></p><div class="headingWithIndicator">
        <h3 id="unload()">unload()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 1.8 (Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)</span>
        </div><p></p>
<pre class="eval">void unload();
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<p>None.</p>