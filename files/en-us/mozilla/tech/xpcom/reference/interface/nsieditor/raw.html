<p>« <a href="/en-US/docs/XPCOM_API_Reference">XPCOM API Reference</a></p>

<p></p><div style="border: solid #ddd 2px; margin-bottom: 12px;">
<div style="background: #eee; padding: 2px;"><code><a href="https://dxr.mozilla.org/mozilla-central/source/editor/nsIEditor.idl" rel="custom">editor/nsIEditor.idl</a></code><span style="text-align: right; float: right;"><a href="/en-US/docs/Interfaces/About_Scriptable_Interfaces" style="color: #00cc00; font-weight: 700;">Scriptable</a></span></div>
<span style="padding: 4px 2px;">

Provides methods and attributes used when editing page content.
</span>

  <div style="height: 42px; position: relative; padding: 2px; width: auto;">

  <div style="top: 22px; font-size: 11px; position: absolute; left: 0px; text-align: right; float: right; width: 100%;">66</div>

<div style="height: 8px; top: 16px; left: 0%; background: #00dd00; position: absolute; width: 100%;" title="Introduced in Gecko 1.0 "></div>

<div style="top: 0px; font-size: 11px; position: absolute; left: 0%;">Introduced</div>
<div style="top: 22px; font-size: 11px; position: absolute; left: 0%;">Gecko 1.0</div>

    <div style="height: 8px; top: 16px; left: 30.928571428571427%; background: #eeee00; position: absolute; width: 1%; border-radius: 4px; -webkit-border-radius: 4px;" title="Last changed in Gecko 18.0 (Firefox 18.0 / Thunderbird 18.0 / SeaMonkey 2.15)"></div>

</div>

<div style="background: #eee; padding: 2px;">
Inherits from: <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">nsISupports</a></code>
<span style="text-align: right; float: right;">Last changed in Gecko 18.0 (Firefox 18.0 / Thunderbird 18.0 / SeaMonkey 2.15)</span></div>
</div><p></p>

<h2 id="Method_overview" name="Method_overview">Method overview</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td><code>[noscript] void <a href="#init" title="init">init</a>(in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMDocument" title="">nsIDOMDocument</a></code> doc, in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIContent" title="">nsIContent</a></code> aRoot, in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISelectionController" title="">nsISelectionController</a></code> aSelCon, in unsigned long aFlags);</code></td>
  </tr>
  <tr>
   <td><code>void setAttributeOrEquivalent(in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMElement" title="">nsIDOMElement</a></code> element, in AString sourceAttrName, in AString sourceAttrValue, in boolean aSuppressTransaction); </code></td>
  </tr>
  <tr>
   <td><code>void removeAttributeOrEquivalent(in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMElement" title="">nsIDOMElement</a></code> element, in <a class="internal" href="/DOMString" title="DOMString">DOMString</a> sourceAttrName, in boolean aSuppressTransaction); </code></td>
  </tr>
  <tr>
   <td><code>void postCreate();</code></td>
  </tr>
  <tr>
   <td><code>void preDestroy(in boolean aDestroyingFrames);</code></td>
  </tr>
  <tr>
   <td><strong>Selected Content Removal</strong></td>
  </tr>
  <tr>
   <td><code>void deleteSelection(in short action, </code>in short stripWrappers<code>);</code></td>
  </tr>
  <tr>
   <td><strong>Document Info and File Methods</strong></td>
  </tr>
  <tr>
   <td><code>void resetModificationCount();</code></td>
  </tr>
  <tr>
   <td><code>long getModificationCount();</code></td>
  </tr>
  <tr>
   <td><code>void incrementModificationCount(in long aModCount);</code></td>
  </tr>
  <tr>
   <td><code>void incrementModificationCount(in long aModCount);</code></td>
  </tr>
  <tr>
   <td><strong>Transaction Methods</strong></td>
  </tr>
  <tr>
   <td><code>void doTransaction(in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITransaction" title="">nsITransaction</a></code> txn);</code></td>
  </tr>
  <tr>
   <td><code>void enableUndo(in boolean enable);</code></td>
  </tr>
  <tr>
   <td><code>void undo(in unsigned long count);</code></td>
  </tr>
  <tr>
   <td><code>void canUndo(out boolean isEnabled, out boolean canUndo);</code></td>
  </tr>
  <tr>
   <td><code>void redo(in unsigned long count);</code></td>
  </tr>
  <tr>
   <td><code>void canRedo(out boolean isEnabled, out boolean canRedo);</code></td>
  </tr>
  <tr>
   <td><code>void beginTransaction();</code></td>
  </tr>
  <tr>
   <td><code>void endTransaction();</code></td>
  </tr>
  <tr>
   <td><code>void beginPlaceHolderTransaction(in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIAtom" title="">nsIAtom</a></code> name);</code></td>
  </tr>
  <tr>
   <td><code>void endPlaceHolderTransaction();</code></td>
  </tr>
  <tr>
   <td><code>boolean shouldTxnSetSelection();</code></td>
  </tr>
  <tr>
   <td><code>void setShouldTxnSetSelection(in boolean should);</code></td>
  </tr>
  <tr>
   <td><strong>Inline Spellchecking Methods</strong></td>
  </tr>
  <tr>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIInlineSpellChecker" title="">nsIInlineSpellChecker</a></code> getInlineSpellChecker(in boolean autoCreate);</code></td>
  </tr>
  <tr>
   <td><code>void syncRealTimeSpell();</code></td>
  </tr>
  <tr>
   <td><code>void setSpellcheckUserOverride(in boolean enable);</code></td>
  </tr>
  <tr>
   <td><strong>Clipboard Methods</strong></td>
  </tr>
  <tr>
   <td><code>void cut();</code></td>
  </tr>
  <tr>
   <td><code>boolean canCut();</code></td>
  </tr>
  <tr>
   <td><code>void copy();</code></td>
  </tr>
  <tr>
   <td><code>boolean canCopy();</code></td>
  </tr>
  <tr>
   <td><code>void paste(in long aSelectionType);</code></td>
  </tr>
  <tr>
   <td><code>boolean canPaste(in long aSelectionType);</code></td>
  </tr>
  <tr>
   <td><strong>Selection Methods</strong></td>
  </tr>
  <tr>
   <td><code>void selectAll();</code></td>
  </tr>
  <tr>
   <td><code>void beginningOfDocument();</code></td>
  </tr>
  <tr>
   <td><code>void endOfDocument();</code></td>
  </tr>
  <tr>
   <td><strong>Drag/Drop Methods</strong></td>
  </tr>
  <tr>
   <td><code>boolean canDrag(in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMEvent" title="">nsIDOMEvent</a></code> aEvent);</code></td>
  </tr>
  <tr>
   <td><code>void doDrag(in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMEvent" title="">nsIDOMEvent</a></code> aEvent);</code></td>
  </tr>
  <tr>
   <td><code>void insertFromDrop(in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMEvent" title="">nsIDOMEvent</a></code> aEvent);</code></td>
  </tr>
  <tr>
   <td><strong>Node Manipulation Methods</strong></td>
  </tr>
  <tr>
   <td><code>void setAttribute(in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMElement" title="">nsIDOMElement</a></code> aElement, in AString attributestr,in AString attvalue);</code></td>
  </tr>
  <tr>
   <td><code>boolean getAttributeValue(in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMElement" title="">nsIDOMElement</a></code> aElement, in AString attributestr, out AString resultValue);</code></td>
  </tr>
  <tr>
   <td><code>void removeAttribute(in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMElement" title="">nsIDOMElement</a></code> aElement, in AString aAttribute);</code></td>
  </tr>
  <tr>
   <td><code>void cloneAttribute(in AString aAttribute, in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMNode" title="">nsIDOMNode</a></code> aSourceNode);</code></td>
  </tr>
  <tr>
   <td><code>void cloneAttributes(in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMNode" title="">nsIDOMNode</a></code> destNode, in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMNode" title="">nsIDOMNode</a></code> sourceNode);</code></td>
  </tr>
  <tr>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMNode" title="">nsIDOMNode</a></code> createNode(in AString tag, in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMNode" title="">nsIDOMNode</a></code> parent, in long position);</code></td>
  </tr>
  <tr>
   <td><code>void insertNode(in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMNode" title="">nsIDOMNode</a></code> node, in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMNode" title="">nsIDOMNode</a></code> parent, in long aPosition);</code></td>
  </tr>
  <tr>
   <td><code>void splitNode(in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMNode" title="">nsIDOMNode</a></code> existingRightNode, in long offset, out <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMNode" title="">nsIDOMNode</a></code> newLeftNode);</code></td>
  </tr>
  <tr>
   <td><code>void joinNodes(in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMNode" title="">nsIDOMNode</a></code> leftNode, in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMNode" title="">nsIDOMNode</a></code> rightNode, in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMNode" title="">nsIDOMNode</a></code> parent);</code></td>
  </tr>
  <tr>
   <td><code>void deleteNode(in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMNode" title="">nsIDOMNode</a></code> child);</code></td>
  </tr>
  <tr>
   <td><code>void markNodeDirty(in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMNode" title="">nsIDOMNode</a></code> node);</code></td>
  </tr>
  <tr>
   <td><strong>Direction Controller</strong></td>
  </tr>
  <tr>
   <td><code>void switchTextDirection();</code></td>
  </tr>
  <tr>
   <td><strong>Output Methods</strong></td>
  </tr>
  <tr>
   <td>
    <p><code>AString outputToString(in AString formatType, in unsigned long flags);</code></p>

    <pre>
Example:
// flags are declared in base/public/nsIDocumentEncoder.idl
// OutputSelectionOnly = 1,         OutputFormatted = 2,
// OutputRaw = 4,                   OutputBodyOnly = 8,
// OutputPreformatted = 16,         OutputWrap = 32,
// OutputFormatFlowed = 64,         OutputAbsoluteLinks = 258,
// OutputEncodeW3CEntities = 256,   OutputCRLineBreak = 512,
// OutputLFLineBreak = 1024,        OutputNoScriptContent = 2048,
// OutputNoFramesContent = 4096,    OutputNoFormattingInPre = 8192,
// OutputEncodeBasicEntities=16384, OutputEncodeLatin1Entities=32768,
// OutputEncodeHTMLEntities=65536,  OutputPersistNBSP=131072

editorAPI.outputToString('text/html', 2);
editorAPI.outputToString('text/plain', 4);

// output the body tag, body children and the html end tag (&lt;/html&gt;).
// tag name are in lower case  with &lt;br&gt;.
editorAPI.outputToString('text/html', 8);

// XML: all in xml with _moz_dirty="" in new tags, HTML tags are in upper case
// application/xhtml+xml format do the same
editorAPI.outputToString('text/xml', 2); // the body is not recognized, everything is printed
</pre>
   </td>
  </tr>
  <tr>
   <td><code>void outputToStream(in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIOutputStream" title="">nsIOutputStream</a></code> aStream, in AString formatType, in ACString charsetOverride, in unsigned long flags);</code></td>
  </tr>
  <tr>
   <td><strong>Listener Methods</strong></td>
  </tr>
  <tr>
   <td><code>void addEditorObserver(in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIEditorObserver" title="">nsIEditorObserver</a></code> observer);</code><span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 18 / Thunderbird 18 / SeaMonkey 2.15 / Firefox OS 1.0.1 / Firefox OS 1.1)">Obsolete since Gecko 18</span></td>
  </tr>
  <tr>
   <td><code>void setEditorObserver(in EditActionListener observer);</code></td>
  </tr>
  <tr>
   <td><code>void removeEditorObserver(in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIEditorObserver" title="">nsIEditorObserver</a></code> observer <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 18 / Thunderbird 18 / SeaMonkey 2.15 / Firefox OS 1.0.1 / Firefox OS 1.1)">Obsolete since Gecko 18</span>);</code></td>
  </tr>
  <tr>
   <td><code>void addEditActionListener(in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIEditActionListener" title="">nsIEditActionListener</a></code> listener);</code></td>
  </tr>
  <tr>
   <td><code>void removeEditActionListener(in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIEditActionListener" title="">nsIEditActionListener</a></code> listener);</code></td>
  </tr>
  <tr>
   <td><code>void addDocumentStateListener(in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDocumentStateListener" title="">nsIDocumentStateListener</a></code> listener);</code></td>
  </tr>
  <tr>
   <td><code>void removeDocumentStateListener(in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDocumentStateListener" title="">nsIDocumentStateListener</a></code> listener);</code></td>
  </tr>
  <tr>
   <td><strong>Debug Methods</strong></td>
  </tr>
  <tr>
   <td><code>void dumpContentTree();</code></td>
  </tr>
  <tr>
   <td><code>void debugDumpContent() ;</code></td>
  </tr>
  <tr>
   <td><code>void debugUnitTests(out long outNumTests, out long outNumTestsFailed);</code></td>
  </tr>
  <tr>
   <td><code>[notxpcom] boolean isModifiableNode(in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMNode" title="">nsIDOMNode</a></code> aNode);</code></td>
  </tr>
 </tbody>
</table>

<h2 id="Constants" name="Constants">Constants</h2>

<h3 id="Load_Flags" name="Load_Flags">Load Flags</h3>

<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Constant</td>
   <td class="header">Value</td>
   <td class="header">Description</td>
  </tr>
  <tr>
   <td><code>eNone </code></td>
   <td>0</td>
   <td> </td>
  </tr>
  <tr>
   <td><code>eNext </code></td>
   <td>1</td>
   <td> </td>
  </tr>
  <tr>
   <td><code>ePrevious </code></td>
   <td>2</td>
   <td> </td>
  </tr>
  <tr>
   <td><code>eNextWord </code></td>
   <td>3</td>
   <td> </td>
  </tr>
  <tr>
   <td><code>ePreviousWord </code></td>
   <td>4</td>
   <td> </td>
  </tr>
  <tr>
   <td><code>eToBeginningOfLine </code></td>
   <td>5</td>
   <td> </td>
  </tr>
  <tr>
   <td><code>eToEndOfLine </code></td>
   <td>6</td>
   <td> </td>
  </tr>
 </tbody>
</table>

<h2 id="Attributes" name="Attributes">Attributes</h2>

<p> </p>

<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Attribute</td>
   <td class="header">Type</td>
   <td class="header">Description</td>
  </tr>
  <tr>
   <td><code>contentsMIMEType</code></td>
   <td><code>string</code></td>
   <td>The MIME type of the document.</td>
  </tr>
  <tr>
   <td><code>document</code></td>
   <td><a href="/en-US/docs/Web/API/Document" title="The Document interface represents any web page loaded in the browser and serves as an entry point into the web page's content, which is the DOM tree."><code>Document</code></a></td>
   <td><strong>Read only.</strong> The DOM Document this editor is associated with.</td>
  </tr>
  <tr>
   <td><code>documentCharacterSet </code></td>
   <td><code>ACString </code></td>
   <td>Sets the current 'Save' document character set.</td>
  </tr>
  <tr>
   <td><code>documentIsEmpty </code></td>
   <td><code>boolean</code></td>
   <td><strong>Read only.</strong> Returns <code>true</code> if the document has no *meaningful* content.</td>
  </tr>
  <tr>
   <td><code>documentModified </code></td>
   <td><code>boolean</code></td>
   <td><strong>Read only.</strong> Returns <code>true</code> if the document is modifed and needs saving.</td>
  </tr>
  <tr>
   <td><code>flags</code></td>
   <td><code>unsigned long</code></td>
   <td>Edit flags for this editor. May be set at any time.</td>
  </tr>
  <tr>
   <td><code>isDocumentEditable</code></td>
   <td><code><a href="/en/PRBool" title="en/PRBool">PRBool </a></code></td>
   <td><strong>Read only.</strong> Returns <code>true</code> if we have a document that is not marked read-only.</td>
  </tr>
  <tr>
   <td><code>isSelectionEditable</code> </td>
   <td><code>boolean</code></td>
   <td><strong>Read only.</strong> <code>true</code> if the current selection anchor is editable; otherwise <code>false</code>. This helps to support cases where only parts of the document are editable, by letting you see if the current selection is in an editable section.</td>
  </tr>
  <tr>
   <td><code>rootElement</code></td>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMElement" title="">nsIDOMElement</a></code></code></td>
   <td><strong>Read only.</strong> The root editable element, which for a document is its body.</td>
  </tr>
  <tr>
   <td><code>selection </code></td>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISelection" title="">nsISelection</a></code></code></td>
   <td><strong>Read only.</strong> The selection/caret for this editor. In the case of a design mode document, this is the same as the window's selection.</td>
  </tr>
  <tr>
   <td><code>selectionController</code></td>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISelectionController" title="">nsISelectionController</a></code></code></td>
   <td><strong>Read only.</strong> The selection controller for the current presentation.</td>
  </tr>
 </tbody>
</table>

<p> </p>

<h2 id="Methods" name="Methods">Methods</h2>

<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="init">init</h3></div><p></p>

<p>Initializes the editor's services.</p>

<pre><code>[noscript] void init(
  in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMDocument" title="">nsIDOMDocument</a></code> doc,
  in nsIPresShellPtr shell, <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 5 / Thunderbird 5 / SeaMonkey 2.2)">Obsolete since Gecko 5</span>
  in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIContent" title="">nsIContent</a></code> aRoot,
  in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISelectionController" title="">nsISelectionController</a></code> aSelCon,
  in unsigned long aFlags
);</code></pre>

<h6 id="Parameters">Parameters</h6>

<dl>
 <dt><code>doc</code></dt>
 <dd>The document to observe.</dd>
 <dt><code>shell</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 5.0 / Thunderbird 5.0 / SeaMonkey 2.2)">Obsolete since Gecko 5.0</span></dt>
 <dd>The <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIPresShellPtr" title="">nsIPresShellPtr</a></code> representing the presentation shell displaying the document. This parameter was removed in Gecko 5.0 (Firefox 5.0 / Thunderbird 5.0 / SeaMonkey 2.2).</dd>
 <dt><code>aRoot</code></dt>
 <dd>The root of the editable section of this document; if it's <code>null</code>, the editor gets its root from <a href="/en-US/docs/Web/API/Document/body" title="The Document.body property represents the &lt;body> or &lt;frameset> node of the current document, or null if no such element exists."><code>document.body</code></a>.</dd>
 <dt><code>aSelCon</code></dt>
 <dd>The <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISelectionController" title="">nsISelectionController</a></code> object used to get selection location information. This should be <code>null</code> for HTML editors.</dd>
 <dt><code>aFlags</code></dt>
 <dd>A bit mask of flags controlling the editor's behavior. <strong>Need to document what the possible values are.</strong></dd>
</dl>