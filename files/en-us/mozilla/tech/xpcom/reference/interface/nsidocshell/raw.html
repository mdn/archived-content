<p></p><div style="border: solid #ddd 2px; margin-bottom: 12px;">
<div style="background: #eee; padding: 2px;"><code><a href="https://dxr.mozilla.org/mozilla-central/source/docshell/base/nsIDocShell.idl" rel="custom">docshell/base/nsIDocShell.idl</a></code><span style="text-align: right; float: right;"><a href="/en-US/docs/Interfaces/About_Scriptable_Interfaces" style="color: #00cc00; font-weight: 700;">Scriptable</a></span></div>
<span style="padding: 4px 2px;">

??? need a description here ???
</span>

<div style="background: #eee; padding: 2px;">
Inherits from: <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">nsISupports</a></code>
<span style="text-align: right; float: right;">Last changed in Gecko 12.0 (Firefox 12.0 / Thunderbird 12.0 / SeaMonkey 2.9)</span></div>
</div><p></p>
<p>Implemented by <a href="https://dxr.mozilla.org/mozilla-central/source/docshell/base/nsDocShell.cpp" rel="custom">@mozilla.org/docshell;1</a>. Do not create an instance directly. Instead, retrieve an <code>nsIDocShell</code> from a browser or other document container element. Note that out-of-process browsers do not have an <code>nsIDocShell</code>; instead you can access the <code>nsIDocShell</code> object from a frame script.</p>
<h2 id="Method_overview" name="Method_overview">Method overview</h2>
<table class="standard-table">
 <tbody>
  <tr>
   <td><code>void <a href="#addSessionStorage()">addSessionStorage</a>(in nsIPrincipal principal, in nsIDOMStorage storage);</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#addState()">addState</a>(in nsIVariant aData, in DOMString aTitle, in DOMString aURL, in boolean aReplace);</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#beginRestore()">beginRestore</a>(in nsIContentViewer viewer, in boolean top);</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#createAboutBlankContentViewer()">createAboutBlankContentViewer</a>(in nsIPrincipal aPrincipal);</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#createLoadInfo()">createLoadInfo</a>(out nsIDocShellLoadInfo loadInfo);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#DetachEditorFromWindow()">DetachEditorFromWindow</a>();</code> <span class="inlineIndicator notXPCOM notXPCOMInline" title="Only use this method if you REALLY know what you are doing!">Violates the XPCOM interface guidelines</span> </td>
  </tr>
  <tr>
   <td><code>void <a href="#finishRestore()">finishRestore</a>();</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#firePageHideNotification()">firePageHideNotification</a>(in boolean isUnload);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span> </td>
  </tr>
  <tr>
   <td><code>void <a href="#fireUnloadNotification()">fireUnloadNotification</a>();</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Obsolete since Gecko 1.8</span></td>
  </tr>
  <tr>
   <td><code>nsISimpleEnumerator <a href="#getDocShellEnumerator()">getDocShellEnumerator</a>(in long aItemType, in long aDirection);</code></td>
  </tr>
  <tr>
   <td><code>nsIDOMStorage <a href="#getSessionStorageForPrincipal()">getSessionStorageForPrincipal</a>(in nsIPrincipal principal, in DOMString documentURI, in boolean create);</code> </td>
  </tr>
  <tr>
   <td><code>nsIDOMStorage <a href="#getSessionStorageForURI()">getSessionStorageForURI</a>(in nsIURI uri, in DOMString documentURI);</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#historyPurged()">historyPurged</a>(in long numEntries);</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#internalLoad()">internalLoad</a>(in nsIURI aURI, in nsIURI aReferrer, in nsISupports aOwner, in PRUint32 aFlags, in wstring aWindowTarget, in string aTypeHint, in nsIInputStream aPostDataStream, in nsIInputStream aHeadersStream, in unsigned long aLoadFlags, in nsISHEntry aSHEntry, in boolean firstParty, out nsIDocShell aDocShell, out nsIRequest aRequest);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#isBeingDestroyed()">isBeingDestroyed</a>();</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#loadStream()">loadStream</a>(in nsIInputStream aStream, in nsIURI aURI, in ACString aContentType, in ACString aContentCharset, in nsIDocShellLoadInfo aLoadInfo);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#loadURI()">loadURI</a>(in nsIURI uri, in nsIDocShellLoadInfo loadInfo, in unsigned long aLoadFlags, in boolean firstParty);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#prepareForNewContentModel()">prepareForNewContentModel</a>();</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#resumeRefreshURIs()">resumeRefreshURIs</a>();</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#setChildOffset()">setChildOffset</a>(in unsigned long offset);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span> </td>
  </tr>
  <tr>
   <td><code>void <a href="#setCurrentURI()">setCurrentURI</a>(in nsIURI aURI);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#suspendRefreshURIs()">suspendRefreshURIs</a>();</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#tabToTreeOwner()">tabToTreeOwner</a>(in boolean forward, out boolean tookFocus);</code></td>
  </tr>
 </tbody>
</table>
<h2 id="Attributes" name="Attributes">Attributes</h2>
<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Attribute</td>
   <td class="header">Type</td>
   <td class="header">Description</td>
  </tr>
  <tr>
   <td><code>allowAuth</code></td>
   <td><code><a href="/en/boolean" title="en/boolean">boolean</a></code></td>
   <td>Certain dochshells (like the message pane) should not throw up auth dialogs because it can act as a password trojan.</td>
  </tr>
  <tr>
   <td><code>allowDNSPrefetch</code></td>
   <td><code><a href="/en/boolean" title="en/boolean">boolean</a></code></td>
   <td>Attribute that determines whether DNS prefetch is allowed for this subtree of the docshell tree. Defaults to <code>true</code>. Setting this will make it take effect starting with the next document loaded in the docshell. </td>
  </tr>
  <tr>
   <td><code>allowImages</code></td>
   <td><code><a href="/en/boolean" title="en/boolean">boolean</a></code></td>
   <td>Attribute stating whether or not images should be loaded.</td>
  </tr>
  <tr>
   <td><code>allowJavascript</code></td>
   <td><code><a href="/en/boolean" title="en/boolean">boolean</a></code></td>
   <td>Whether to allow Javascript execution.</td>
  </tr>
  <tr>
   <td><code>allowMedia</code></td>
   <td><code><a href="/en/boolean" title="en/boolean">boolean</a></code></td>
   <td>Attribute stating whether or not media (audio/video) should be loaded. </td>
  </tr>
  <tr>
   <td><code>allowMetaRedirects</code></td>
   <td><code><a href="/en/boolean" title="en/boolean">boolean</a></code></td>
   <td>Attribute stating if refresh based redirects can be allowed.</td>
  </tr>
  <tr>
   <td><code>allowPlugins</code></td>
   <td><code><a href="/en/boolean" title="en/boolean">boolean</a></code></td>
   <td>Whether to allow plugin execution.</td>
  </tr>
  <tr>
   <td><code>allowSubframes</code></td>
   <td><code><a href="/en/boolean" title="en/boolean">boolean</a></code></td>
   <td>Attribute stating if it should allow subframes (framesets/iframes) or not.</td>
  </tr>
  <tr>
   <td><code>allowWindowControl</code></td>
   <td><code><a href="/en/boolean" title="en/boolean">boolean</a></code></td>
   <td>Specifies whether or not content is allowed to control the window (that is, to resize or move the window). Default is <code>true</code>, which lets content control the window. </td>
  </tr>
  <tr>
   <td><code>appType</code></td>
   <td><code><a href="/en/unsigned_long" title="en/unsigned long">unsigned long</a></code></td>
   <td>The type of application that created this window. Types are defined in <a href="#Constants">Constants</a>.</td>
  </tr>
  <tr>
   <td><code>busyFlags</code></td>
   <td><code><a href="/en/unsigned_long" title="en/unsigned long">unsigned long</a></code></td>
   <td>Current busy state for DocShell. Valid states are defined in <a href="#Constants">Constants</a>. <strong>Read only.</strong></td>
  </tr>
  <tr>
   <td><code>canExecuteScripts</code></td>
   <td><code><a href="/en/boolean" title="en/boolean">boolean</a></code></td>
   <td>Whether this docshell can execute scripts based on its hierarchy. The rule of thumb here is that we disable js if this docshell or any of its parents disallow scripting, unless the only reason for js being disabled in this docshell is a parent docshell having a document that is in design mode. In that case, we explicitly allow scripting on the current docshell. <strong>Read only.</strong> </td>
  </tr>
  <tr>
   <td><code>canvasHasFocus</code></td>
   <td><code><a href="/en/boolean" title="en/boolean">boolean</a></code></td>
   <td>Tells the docshell whether the canvas should have focus. Called by the focus manager when the user tabs to the frame rather than an element. <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3.6 / Thunderbird 3.1 / Fennec 1.0)">Obsolete since Gecko 1.9.2</span></td>
  </tr>
  <tr>
   <td><code>channelIsUnsafe</code></td>
   <td><code><a href="/en/boolean" title="en/boolean">boolean</a></code></td>
   <td>Find out if the currently loaded document came from a suspicious channel (such as a <code>JAR</code> channel where the server-returned content type is not a known <code>JAR</code> type). <strong>Read only.</strong> </td>
  </tr>
  <tr>
   <td><code>charset</code></td>
   <td><code>string</code></td>
   <td>
    <p>The converter to use when reading the document's data.</p>
    <p>In Mozilla code, all text is encoded as Unicode. When reading a document, a converter is used to translate the text from its original format into Unicode. This attribute lets you:</p>
    <ul>
     <li>See what converter was used when retrieving the document's data.</li>
     <li>Override that character set for documents for which the specified fallback or auto-detected character set is incorrect.</li>
    </ul>
    <p>Reading this value reports the encoding that was used when loading the data into the document. Setting this attribute overrides the encoding; however, to update the DOM or display of the content, you need have the data reparsed.</p>
    <p>Overriding the character set also sets the fallback encoding for the container frame.</p>
    <div class="note">
     <p><strong>Note:</strong> Prior to <span title="(Firefox 12.0 / Thunderbird 12.0 / SeaMonkey 2.9)">Gecko 12.0</span>, this attribute was part of a separate <code>nsIDocCharset</code> interface.</p>
    </div>
   </td>
  </tr>
  <tr>
   <td><code>chromeEventHandler</code></td>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMEventTarget" title="">nsIDOMEventTarget</a></code></code></td>
   <td>Events generated in the frame bubble up to its <code>chromeEventHandler</code>. In the case of a content frame or subframe this is the containing chrome frame. In the case of a chrome frame this is the same as the frame element. This attribute allows chrome to tie in to handle DOM events that may be of interest to chrome.</td>
  </tr>
  <tr>
   <td><code>contentViewer</code></td>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIContentViewer" title="">nsIContentViewer</a></code></code></td>
   <td>Content Viewer that is currently loaded for this DocShell. This may change as the underlying content changes. <strong>Read only.</strong></td>
  </tr>
  <tr>
   <td><code>currentDocumentChannel</code></td>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIChannel" title="">nsIChannel</a></code></code></td>
   <td>Gets the channel for the currently loaded document, if any. For a new document load, this will be the channel of the previous document until after <code>OnLocationChange</code> fires. <strong>Read only.</strong> </td>
  </tr>
  <tr>
   <td><code>documentCharsetInfo</code></td>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDocumentCharsetInfo" title="">nsIDocumentCharsetInfo</a></code></code></td>
   <td>
    <p>The document character set info. This is used by a load to determine priorities for charset detection and so on. <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 12.0 / Thunderbird 12.0 / SeaMonkey 2.9)">Obsolete since Gecko 12.0</span></p>
    <div class="note">
     <p><strong>Note:</strong> The properties of the old <code>nsIDocumentCharsetInfo</code> interface were merged into <code>nsIDocShell</code> in <span title="(Firefox 12.0 / Thunderbird 12.0 / SeaMonkey 2.9)">Gecko 12.0</span>.</p>
    </div>
   </td>
  </tr>
  <tr>
   <td><code>eldestPresShell</code></td>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIPresShell" title="">nsIPresShell</a></code></code></td>
   <td>Presentation shell for the oldest document, if this docshell is currently transitioning between documents. <strong>Read only.</strong> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span></td>
  </tr>
  <tr>
   <td><code>forcedCharset</code></td>
   <td><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIAtom" title="">nsIAtom</a></code></td>
   <td>
    <p>A character set to override the page's default character set while processing; this is tried before using any other character set during page loads. </p>
    <div class="note">
     <p><strong>Note:</strong> Prior to <span title="(Firefox 12.0 / Thunderbird 12.0 / SeaMonkey 2.9)">Gecko 12.0</span>, this attribute was part of a separate <code>nsIDocCharsetInfo</code> interface.</p>
    </div>
   </td>
  </tr>
  <tr>
   <td><code>hasFocus</code></td>
   <td><code><a href="/en/boolean" title="en/boolean">boolean</a></code></td>
   <td>Tells the DocShell that it now has focus or has lost focus. <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3.6 / Thunderbird 3.1 / Fennec 1.0)">Obsolete since Gecko 1.9.2</span></td>
  </tr>
  <tr>
   <td><code>historyID</code></td>
   <td><code><a href="/en/unsigned_long_long" title="en/unsigned long long">unsigned long long</a></code></td>
   <td>The ID of the docshell in the session history. <strong>Read only.</strong> </td>
  </tr>
  <tr>
   <td><code>isActive</code></td>
   <td><code><a href="/en/boolean" title="en/boolean">boolean</a></code></td>
   <td>
    <p>Indicates whether or not the DocShell is currently active. An active DocShell is one that is currently visible, which means it's not a good candidate for optimizations such as image frame discarding. DocShells are active if this is <code>true</code>, which is the default state. </p>
    <div class="note">
     <p><strong>Note:</strong> Starting in <span title="(Firefox 8.0 / Thunderbird 8.0 / SeaMonkey 2.5)">Gecko 8.0</span>, <code>isActive</code> is <code>false</code> for documents in minimized windows.</p>
    </div>
   </td>
  </tr>
  <tr>
   <td><code>isAppTab</code></td>
   <td><code><a href="/en/boolean" title="en/boolean">boolean</a></code></td>
   <td>Sets whether a docshell is an app tab. An app tab docshell may behave differently than a non-app tab docshell in some cases, such as when handling link clicks. Docshells are not app tabs unless told otherwise. </td>
  </tr>
  <tr>
   <td><code>isExecutingOnLoadHandler</code></td>
   <td><code><a href="/en/boolean" title="en/boolean">boolean</a></code></td>
   <td>Returns true if the docshell is currently executing the onLoad Handler. <strong>Read only.</strong></td>
  </tr>
  <tr>
   <td><code>isInUnload</code></td>
   <td><code><a href="/en/boolean" title="en/boolean">boolean</a></code></td>
   <td>Find out whether the docshell is currently in the middle of a page transition (after the <code>onunload</code> event has fired, but before the new document has been set up) <strong>Read only.</strong> </td>
  </tr>
  <tr>
   <td><code>isOffScreenBrowser</code></td>
   <td><code><a href="/en/boolean" title="en/boolean">boolean</a></code></td>
   <td>If <code>true</code>, this docshell is not visible in the traditional sense, but is being actively rendered to the screen (such as by being painted to a canvas), and should be treated accordingly. </td>
  </tr>
  <tr>
   <td><code>layoutHistoryState</code></td>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsILayoutHistoryState" title="">nsILayoutHistoryState</a></code></code></td>
   <td> </td>
  </tr>
  <tr>
   <td><code>loadedTransIndex</code></td>
   <td><code><a href="/en/long" title="en/long">long</a></code></td>
   <td>Keeps track of the previous SHTransaction index and the current SHTransaction index at the time that the doc shell begins to load. Used for ContentViewer eviction. <strong>Read only.</strong> </td>
  </tr>
  <tr>
   <td><code>loadType</code></td>
   <td><code><a href="/en/unsigned_long" title="en/unsigned long">unsigned long</a></code></td>
   <td>Load type for the document. Valid states are defined in <a href="#Constants">Constants</a>. Note that nsIDocShell may use other states internally so you should check for the specific state bit.</td>
  </tr>
  <tr>
   <td><code>marginHeight</code></td>
   <td><code><a href="/en/long" title="en/long">long</a></code></td>
   <td>The value of the marginheight attribute on the frame element, or negative if it was not set.</td>
  </tr>
  <tr>
   <td><code>marginWidth</code></td>
   <td><code><a href="/en/long" title="en/long">long</a></code></td>
   <td>The value of the marginwidth attribute on the frame element, or negative if it was not set.</td>
  </tr>
  <tr>
   <td><code>parentCharset</code></td>
   <td><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIAtom" title="">nsIAtom</a></code></td>
   <td>
    <p>Indicates the DocShell's parent document's character set.</p>
    <div class="note">
     <p><strong>Note:</strong> Prior to <span title="(Firefox 12.0 / Thunderbird 12.0 / SeaMonkey 2.9)">Gecko 12.0</span>, this attribute was part of a separate <code>nsIDocCharsetInfo</code> interface.</p>
    </div>
   </td>
  </tr>
  <tr>
   <td><code>parentCharsetSource</code></td>
   <td><code>PRInt32</code></td>
   <td>
    <p>Indicates the source from which the character set being used was obtained. Higher numbers override lower ones. See <a href="#Character_set_source_constants">Character set source constants</a> for defined values. </p>
    <div class="note">
     <p><strong>Note:</strong> Prior to <span title="(Firefox 12.0 / Thunderbird 12.0 / SeaMonkey 2.9)">Gecko 12.0</span>, this attribute was part of a separate <code>nsIDocCharsetInfo</code> interface.</p>
    </div>
   </td>
  </tr>
  <tr>
   <td><code>parentURIContentListener</code></td>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIURIContentListener" title="">nsIURIContentListener</a></code></code></td>
   <td>URI content listener parent. This is not refcounted and is assumed to be nulled out by the parent when the parent is going away. <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Obsolete since Gecko 1.8</span></td>
  </tr>
  <tr>
   <td><code>presContext</code></td>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsPresContext" title="">nsPresContext</a></code></code></td>
   <td>Presentation context for the currently loaded document. This may be <code>null</code>. <strong>Read only.</strong> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span></td>
  </tr>
  <tr>
   <td><code>presShell</code></td>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIPresShell" title="">nsIPresShell</a></code></code></td>
   <td>Presentation shell for the currently loaded document. This may be <code>null</code>. <strong>Read only.</strong> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span></td>
  </tr>
  <tr>
   <td><code>previousTransIndex</code></td>
   <td><code><a href="/en/long" title="en/long">long</a></code></td>
   <td>Keeps track of the previous SHTransaction index and the current SHTransaction index at the time that the doc shell begins to load. Used for <code>ContentViewer</code> eviction. <strong>Read only.</strong> </td>
  </tr>
  <tr>
   <td><code>printPreview</code></td>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIWebBrowserPrint" title="">nsIWebBrowserPrint</a></code></code></td>
   <td>If the current content viewer is not initialized for print preview, it is replaced with one which is and to which an about:blank document is loaded. <strong>Read only.</strong> </td>
  </tr>
  <tr>
   <td><code>restoringDocument</code></td>
   <td><code><a href="/en/boolean" title="en/boolean">boolean</a></code></td>
   <td>Track whether we're currently restoring a document presentation. <strong>Read only.</strong> </td>
  </tr>
  <tr>
   <td><code>securityUI</code></td>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISecureBrowserUI" title="">nsISecureBrowserUI</a></code></code></td>
   <td>The SecureBrowserUI object for this docshell. This is set by <code><a href="/en-US/docs/Mozilla/Tech/XUL/browser" title="browser">browser</a></code> or <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsWebBrowser" title="">nsWebBrowser</a></code> for their root docshell. </td>
  </tr>
  <tr>
   <td><code>shouldSaveLayoutState</code></td>
   <td><code><a href="/en/boolean" title="en/boolean">boolean</a></code></td>
   <td>Indicates whether the current page can be cached. <strong>Read only.</strong></td>
  </tr>
  <tr>
   <td><code>useErrorPages</code></td>
   <td><code><a href="/en/boolean" title="en/boolean">boolean</a></code></td>
   <td>Attribute to access whether error pages are enabled. </td>
  </tr>
  <tr>
   <td><code>zoom</code></td>
   <td><code><a href="/en/float" title="en/float">float</a></code></td>
   <td>Set/Get the document scale factor. When setting this attribute, a <code>NS_ERROR_NOT_IMPLEMENTED</code> error may be returned by implementations not supporting zoom. Implementations not supporting zoom should return 1.0 all the time for the Get operation. 1.0 by the way is the default of zoom. This means 100% of normal scaling or in other words normal size no zoom.</td>
  </tr>
 </tbody>
</table>
<h2 id="Constants" name="Constants">Constants</h2>
<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Constant</td>
   <td class="header">Value</td>
   <td class="header">Description</td>
  </tr>
  <tr>
   <td><code>INTERNAL_LOAD_FLAGS_NONE</code></td>
   <td><code>0x0</code></td>
   <td>Used as a placeholder when you don't want to explicitly specify flags.</td>
  </tr>
  <tr>
   <td><code>INTERNAL_LOAD_FLAGS_INHERIT_OWNER</code></td>
   <td><code>0x1</code></td>
   <td>Used to indicate that it may be safe to inherit the owner of a javascript: or data: URL from the existing document.</td>
  </tr>
  <tr>
   <td><code>INTERNAL_LOAD_FLAGS_DONT_SEND_REFERRER</code></td>
   <td><code>0x2</code></td>
   <td>Used to indicate that the load was caused by a meta refresh and the current document URI shouldn't be sent as the HTTP referrer.</td>
  </tr>
  <tr>
   <td><code>INTERNAL_LOAD_FLAGS_ALLOW_THIRD_PARTY_FIXUP</code></td>
   <td><code>0x4</code></td>
   <td> Used to indicate that <code>LOAD_FLAGS_ALLOW_THIRD_PARTY_FIXUP</code> was passed as one of the flags to <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDocShell#loadURI()">loadURI()</a></code>.</td>
  </tr>
  <tr>
   <td><code>INTERNAL_LOAD_FLAGS_FIRST_LOAD</code></td>
   <td><code>0x8</code></td>
   <td>This flag marks the first load in this object. See <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIWebNavigation" title="">nsIWebNavigation</a></code><code>.LOAD_FLAGS_FIRST_LOAD</code>. </td>
  </tr>
  <tr>
   <td><code>INTERNAL_LOAD_FLAGS_BYPASS_CLASSIFIER</code></td>
   <td><code>0x10</code></td>
   <td> Used to indicate that <code>LOAD_FLAGS_BYPASS_CLASSIFIER</code> was passed as one of the flags to <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDocShell#loadURI()">loadURI()</a></code>.</td>
  </tr>
  <tr>
   <td><code>INTERNAL_LOAD_FLAGS_FORCE_ALLOW_COOKIES</code></td>
   <td><code>0x20</code></td>
   <td> Used to indicate that <code>LOAD_FLAGS_FORCE_ALLOW_COOKIES</code> was passed as one of the flags to <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDocShell#loadURI()">loadURI()</a></code>.</td>
  </tr>
  <tr>
   <td><code>ENUMERATE_FORWARDS</code></td>
   <td><code>0</code></td>
   <td>Used by <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDocShell#getDocShellEnumerator()">getDocShellEnumerator()</a></code>to determine the direction of the enumeration.</td>
  </tr>
  <tr>
   <td><code>ENUMERATE_BACKWARDS</code></td>
   <td><code>1</code></td>
   <td>Used by <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDocShell#getDocShellEnumerator()">getDocShellEnumerator()</a></code>to determine the direction of the enumeration.</td>
  </tr>
  <tr>
   <td><code>APP_TYPE_UNKNOWN</code></td>
   <td><code>0</code></td>
   <td>This is the default value of the <code>appType</code> attribute.</td>
  </tr>
  <tr>
   <td><code>APP_TYPE_MAIL</code></td>
   <td><code>1</code></td>
   <td>This is the value of the <code>appType</code> attribute used by Thunderbird and SeaMonkey to indicate that email messages are displayed in this window.</td>
  </tr>
  <tr>
   <td><code>APP_TYPE_EDITOR</code></td>
   <td><code>2</code></td>
   <td>This is the value of the <code>appType</code> attribute used by Thunderbird and SeaMonkey to indicate that email messages or web pages are composed in this window.</td>
  </tr>
  <tr>
   <td><code>BUSY_FLAGS_NONE</code></td>
   <td><code>0</code></td>
   <td>Returned by the <code>busyFlags</code> attribute when the nsIDocShell is not loading a document.</td>
  </tr>
  <tr>
   <td><code>BUSY_FLAGS_BUSY</code></td>
   <td><code>1</code></td>
   <td>Returned by the <code>busyFlags</code> attribute when the nsIDocShell is loading a document from the network.</td>
  </tr>
  <tr>
   <td><code>BUSY_FLAGS_BEFORE_PAGE_LOAD</code></td>
   <td><code>2</code></td>
   <td>Returned by the <code>busyFlags</code> attribute when the nsIDocShell has started loading a document from the network, but no data has been received yet.</td>
  </tr>
  <tr>
   <td><code>BUSY_FLAGS_PAGE_LOADING</code></td>
   <td><code>4</code></td>
   <td>Returned by the <code>busyFlags</code> attribute when the nsIDocShell is receiving data from the network.</td>
  </tr>
  <tr>
   <td><code>LOAD_CMD_NORMAL</code></td>
   <td><code>0x1</code></td>
   <td>Returned by the <code>loadType</code> attribute for normal loads.</td>
  </tr>
  <tr>
   <td><code>LOAD_CMD_RELOAD</code></td>
   <td><code>0x2</code></td>
   <td>Returned by the <code>loadType</code> attribute for reloads.</td>
  </tr>
  <tr>
   <td><code>LOAD_CMD_HISTORY</code></td>
   <td><code>0x4</code></td>
   <td>Returned by the <code>loadType</code> attribute for history navigation.</td>
  </tr>
  <tr>
   <td><code>LOAD_CMD_PUSHSTATE</code></td>
   <td><code>0x8</code></td>
   <td>Returned by the <code>loadType</code> attribute when the page has used <code>history.pushState()</code> </td>
  </tr>
 </tbody>
</table>
<h3 id="Character_set_source_constants">Character set source constants</h3>
<p>These constants are not exposed to script. They are used internally as values for the <code>parentCharsetSource</code> attribute.</p>
<table class="standard-table">
 <thead>
  <tr>
   <td class="header">Constant</td>
   <td class="header">Value</td>
   <td class="header">Description</td>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><code>kCharsetUninitialized</code></td>
   <td>0</td>
   <td>The character set has not yet been initialized.</td>
  </tr>
  <tr>
   <td><code>kCharsetFromWeakDocTypeDefault</code></td>
   <td>1</td>
   <td> </td>
  </tr>
  <tr>
   <td><code>kCharsetFromUserDefault</code></td>
   <td>2</td>
   <td>The user's default character set is being used.</td>
  </tr>
  <tr>
   <td><code>kCharsetFromDocTypeDefault</code></td>
   <td>3</td>
   <td>The character set has been inferred from the doctype. All values from here upward are confident enough to be used for <a href="/en-US/docs/Web/API/XMLHttpRequest" title="Use XMLHttpRequest (XHR) objects to interact with servers. You can retrieve data from a URL without having to do a full page refresh. This enables a Web page to update just part of a page without disrupting what the user is doing."><code>XMLHttpRequest</code></a>.</td>
  </tr>
  <tr>
   <td><code>kCharsetFromCache</code></td>
   <td>4</td>
   <td>The character set has been retrieved from the cache.</td>
  </tr>
  <tr>
   <td><code>kCharsetFromParentFrame</code></td>
   <td>5</td>
   <td>The parent frame's character set is being used.</td>
  </tr>
  <tr>
   <td><code>kCharsetFromAutoDetection</code></td>
   <td>6</td>
   <td>The character set was automatically detected.</td>
  </tr>
  <tr>
   <td><code>kCharsetFromHintPrevDoc</code></td>
   <td>7</td>
   <td>The character set was hinted by the previous document.</td>
  </tr>
  <tr>
   <td><code>kCharsetFromMetaPrescan</code></td>
   <td>8</td>
   <td>Values from this one downward are HTML5 tentative.</td>
  </tr>
  <tr>
   <td><code>kCharsetFromMetaTag</code></td>
   <td>9</td>
   <td>Values from this one upward are HTML5 confident.</td>
  </tr>
  <tr>
   <td><code>kCharsetFromIrreversibleAutoDetection</code></td>
   <td>10</td>
   <td> </td>
  </tr>
  <tr>
   <td><code>kCharsetFromByteOrderMark</code></td>
   <td>11</td>
   <td>The character set was determined from a byte order mark in the content.</td>
  </tr>
  <tr>
   <td><code>kCharsetFromChannel</code></td>
   <td>12</td>
   <td>The <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIChannel" title="">nsIChannel</a></code> specified the character set.</td>
  </tr>
  <tr>
   <td><code>kCharsetFromOtherComponent</code></td>
   <td>13</td>
   <td> </td>
  </tr>
  <tr>
   <td><code>kCharsetFromParentForced</code></td>
   <td>14</td>
   <td>The parent's character set was forced onto this content; all descendents will have this character set forced onto it.</td>
  </tr>
  <tr>
   <td><code>kCharsetFromUserForced</code></td>
   <td>15</td>
   <td>The user specified a character set to force onto this content; all descendents will have this character set forced onto it.</td>
  </tr>
  <tr>
   <td><code>kCharsetFromPreviousLoading</code></td>
   <td> </td>
   <td> </td>
  </tr>
 </tbody>
</table>
<h2 id="Methods" name="Methods">Methods</h2>
<p></p><h3 id="addSessionStorage()">addSessionStorage()</h3><p></p>
<p>Add a WebApps session storage object to the docshell.</p>
<pre class="eval">void addSessionStorage(
  in nsIPrincipal principal,
  in nsIDOMStorage storage
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>principal</code></dt>
 <dd>
  The principal to use for the new storage object.</dd>
 <dt>
  <code>storage</code></dt>
 <dd>
  The storage object to add.</dd>
</dl>
<p></p><h3 id="addState()">addState()</h3><p></p>
<p>Do either a history.pushState() or history.replaceState() operation, depending on the value of aReplace.</p>
<pre class="eval">void addState(
  in nsIVariant aData,
  in DOMString aTitle,
  in DOMString aURL,
  in boolean aReplace
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aData</code></dt>
 <dd>
  The state object to pass to the <code>popstate</code> event. It must be possible to serialise this in less than 640k characters.</dd>
 <dt>
  <code>aTitle</code></dt>
 <dd>
  Gecko currently ignores this parameter.</dd>
 <dt>
  <code>aURL</code></dt>
 <dd>
  The URL associated with the new history entry. For instance, if the user tries to reload the page, then this is the URL that will be reloaded.</dd>
 <dt>
  <code>aReplace</code></dt>
 <dd>
  Whether to modify the current history entry instead of creating a new one.</dd>
</dl>
<p></p><h3 id="beginRestore()">beginRestore()</h3><p></p>
<p>Begin firing WebProgressListener notifications for restoring a page presentation. This method will post an event to complete the simulated load after returning to the event loop.</p>
<pre class="eval">void beginRestore(
  in nsIContentViewer viewer,
  in boolean top
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>viewer</code></dt>
 <dd>
  The content viewer whose document we are starting to load. If <code>null</code>, it defaults to the docshell's current content viewer, creating one if necessary.</dd>
 <dt>
  <code>top</code></dt>
 <dd>
  Should be <code>true</code> for the toplevel docshell that is being restored; it will be set to <code>false</code> when this method is called for child docshells.</dd>
</dl>
<p></p><h3 id="createAboutBlankContentViewer()">createAboutBlankContentViewer()</h3><p></p>
<p>Create a new about:blank document and content viewer.</p>
<pre class="eval">void createAboutBlankContentViewer(
  in nsIPrincipal aPrincipal
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aPrincipal</code></dt>
 <dd>
  The principal to use for the new document.</dd>
</dl>
<h3 id="createLoadInfo()" name="createLoadInfo()">createLoadInfo()</h3>
<p>Creates a DocShellLoadInfo object that you can manipulate and then pass to <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDocShell#loadURI()">loadURI()</a></code>.</p>
<pre class="eval">void createLoadInfo(
  out nsIDocShellLoadInfo loadInfo
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>loadInfo</code></dt>
 <dd>
  The new <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDocShellLoadInfo" title="">nsIDocShellLoadInfo</a></code> object.</dd>
</dl>
<p></p><div>
  <span class="indicatorInHeadline notXPCOM notXPCOMMethod" title="Only use this method if you REALLY know what you are doing!">Violates the XPCOM interface guidelines</span>
  <h3 id="DetachEditorFromWindow()">DetachEditorFromWindow()</h3>
</div><p></p>
<p></p>
<p>Disconnects this docshell's editor from its window, and stores the editor data in the open document's session history entry. This should be called only during page transitions.</p>
<pre class="eval">void DetachEditorFromWindow();
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<p>None.</p>
<p></p><h3 id="finishRestore()">finishRestore()</h3><p></p>
<p>Finish firing WebProgressListener notifications and DOM events for restoring a page presentation. This should only be called via <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDocShell#beginRestore()">beginRestore()</a></code>.</p>
<pre class="eval">void finishRestore();
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<p>None.</p>
<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="firePageHideNotification">firePageHideNotification</h3></div><p></p>
<p></p>
<p>Notify the associated content viewer and all child docshells that they are about to be hidden. If <code>isUnload</code> is <code>true</code>, then the document is being unloaded as well.</p>
<pre class="eval">void firePageHideNotification(
  in boolean isUnload
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>isUnload</code></dt>
 <dd>
  If <code>true</code>, fire the unload event in addition to the pagehide event.</dd>
</dl>
<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="fireUnloadNotification">fireUnloadNotification</h3></div><p></p>
<p></p><div class="blockIndicator obsolete obsoleteHeader"><p><strong><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span> Obsolete since Gecko 1.8 (Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)</strong><br>This feature is obsolete. Although it may still work in some browsers, its use is discouraged since it could be removed at any time. Try to avoid using it.</p></div><p></p>
<p>Notify the associated content viewer and all child docshells that they are about to be unloaded.</p>
<pre class="eval">void fireUnloadNotification();
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<p>None.</p>
<h3 id="getDocShellEnumerator()" name="getDocShellEnumerator()">getDocShellEnumerator()</h3>
<p>Get an enumerator over this docShell and its children.</p>
<pre class="eval">nsISimpleEnumerator getDocShellEnumerator(
  in long aItemType,
  in long aDirection
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aItemType</code></dt>
 <dd>
  Only include docShells of this type, or if typeAll, include all child shells. Uses types from <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDocShellTreeItem" title="">nsIDocShellTreeItem</a></code>.</dd>
 <dt>
  <code>aDirection</code></dt>
 <dd>
  Whether to enumerate forwards or backwards.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>An enumerator over this docShell and its children.</p>
<p></p><h3 id="getSessionStorageForPrincipal()">getSessionStorageForPrincipal()</h3><p></p>
<p>Retrieves the session storage object for the supplied principal.</p>
<pre class="eval">nsIDOMStorage getSessionStorageForPrincipal(
  in nsIPrincipal principal,
  in DOMString documentURI,
  in boolean create
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>principal</code></dt>
 <dd>
  The principal of the storage object to retrieve.</dd>
 <dt>
  <code>documentURI</code> </dt>
 <dd>
  If a new storage object needs to be created, it will be created with a reference to this <a href="/en-US/docs/Web/API/Document/documentURI" title="The documentURI property of the Document interface returns the document location as a string."><code>document.documentURI</code></a> in its <a href="/en-US/docs/Web/API/Event/StorageEvent" title="The documentation about this has not yet been written; please consider contributing!"><code>StorageEvent</code></a>.</dd>
 <dt>
  <code>create</code></dt>
 <dd>
  If this is <code>true</code>, a new session storage object will be created.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>The new or existing session storage object, if any.</p>
<p></p><h3 id="getSessionStorageForURI()">getSessionStorageForURI()</h3><p></p>
<p>Retrieves the session storage object for the supplied domain. If session storage object does not already exist, a new one will be created.</p>
<pre class="eval">nsIDOMStorage getSessionStorageForURI(
  in nsIURI uri,
  in DOMString documentURI
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>uri</code></dt>
 <dd>
  The domain of the storage object to retrieve.</dd>
 <dt>
  <code>documentURI</code> </dt>
 <dd>
  If a new storage object needs to be created, it will be created with a reference to this <a href="/en-US/docs/Web/API/Document/documentURI" title="The documentURI property of the Document interface returns the document location as a string."><code>document.documentURI</code></a> in its <a href="/en-US/docs/Web/API/Event/StorageEvent" title="The documentation about this has not yet been written; please consider contributing!"><code>StorageEvent</code></a>.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>The session storage object for the supplied domain.</p>
<p></p><h3 id="historyPurged()">historyPurged()</h3><p></p>
<p>Notification that entries have been removed from the beginning of a nsSHistory which has this as its rootDocShell.</p>
<pre class="eval">void historyPurged(
  in long numEntries
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>numEntries</code></dt>
 <dd>
  The number of entries removed.</dd>
</dl>
<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="internalLoad">internalLoad</h3></div><p></p>
<p>Loads the given URI. This method is identical to <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDocShell#loadURI()">loadURI()</a></code> except that its parameter list is broken out instead of being packaged inside of an <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDocShellLoadInfo" title="">nsIDocShellLoadInfo</a></code> object.</p>
<pre class="eval">void internalLoad(
  in nsIURI aURI,
  in nsIURI aReferrer,
  in nsISupports aOwner,
  in PRUint32 aFlags,
  in wstring aWindowTarget,
  in string aTypeHint,
  in nsIInputStream aPostDataStream,
  in nsIInputStream aHeadersStream,
  in unsigned long aLoadFlags,
  in nsISHEntry aSHEntry,
  in boolean firstParty,
  out nsIDocShell aDocShell,
  out nsIRequest aRequest
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aURI</code></dt>
 <dd>
  The URI to load.</dd>
 <dt>
  <code>aReferrer</code></dt>
 <dd>
  Referring URI.</dd>
 <dt>
  <code>aOwner</code></dt>
 <dd>
  Owner (security principal)</dd>
 <dt>
  <code>aFlags</code></dt>
 <dd>
  A combination of the internal load flags as detailed in the constants secion.</dd>
 <dt>
  <code>aWindowTarget</code></dt>
 <dd>
  Window target for the load.</dd>
 <dt>
  <code>aTypeHint</code></dt>
 <dd>
  A hint as to the content-type of the resulting data. May be <code>null</code> or empty if no hint.</dd>
 <dt>
  <code>aPostDataStream</code></dt>
 <dd>
  Post data stream (if POSTing)</dd>
 <dt>
  <code>aHeadersStream</code></dt>
 <dd>
  Stream containing "extra" request headers.</dd>
 <dt>
  <code>aLoadFlags</code></dt>
 <dd>
  Flags to modify load behaviour. Flags are defined in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIWebNavigation" title="">nsIWebNavigation</a></code>.</dd>
 <dt>
  <code>aSHEntry</code></dt>
 <dd>
  Active Session History entry (if loading from SH)</dd>
 <dt>
  <code>firstParty</code></dt>
 <dd>
  <code>true</code> if this is the master top-level document.</dd>
 <dt>
  <code>aDocShell</code></dt>
 <dd>
  If the load was succesfully initiated, this receives the nsIDocShell that actually performed the load.</dd>
 <dt>
  <code>aRequest</code></dt>
 <dd>
  The new channel created for the load.</dd>
</dl>
<h3 id="isBeingDestroyed()" name="isBeingDestroyed()">isBeingDestroyed()</h3>
<pre class="eval">boolean isBeingDestroyed();
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<p>None.</p>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>Returns <code>true</code> if the docshell is being destroyed, <code>false</code> otherwise.</p>
<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="loadStream">loadStream</h3></div><p></p>
<p>Loads a given stream. This will give priority to loading the requested stream in the object implementing this interface. If it can not be loaded here however, the URL dispatched will go through its normal process of content loading.</p>
<pre class="eval">void loadStream(
  in nsIInputStream aStream,
  in nsIURI aURI,
  in ACString aContentType,
  in ACString aContentCharset,
  in nsIDocShellLoadInfo aLoadInfo
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aStream</code></dt>
 <dd>
  The input stream that provides access to the data to be loaded. This must be a blocking, threadsafe stream implementation.</dd>
 <dt>
  <code>aURI</code></dt>
 <dd>
  The URI representing the stream, or <code>null</code>.</dd>
 <dt>
  <code>aContentType</code></dt>
 <dd>
  The type (MIME) of data being loaded (empty if unknown).</dd>
 <dt>
  <code>aContentCharset</code></dt>
 <dd>
  The charset of the data being loaded (empty if unknown).</dd>
 <dt>
  <code>aLoadInfo</code></dt>
 <dd>
  This is the extended load info for this load. This most often will be <code>null</code>, but if you need to do additional setup for this load you can get a <code>loadInfo</code> object by calling <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDocShell#createLoadInfo()">createLoadInfo()</a></code>. Once you have this object you can set the needed properties on it and then pass it to <code>loadStream</code>.</dd>
</dl>
<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="loadURI">loadURI</h3></div><p></p>
<p>Loads a given URI. This will give priority to loading the requested URI in the object implementing this interface. If it can not be loaded here however, the URL dispatcher will go through its normal process of content loading.</p>
<pre class="eval">void loadURI(
  in nsIURI uri,
  in nsIDocShellLoadInfo loadInfo,
  in unsigned long aLoadFlags,
  in boolean firstParty
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>uri</code></dt>
 <dd>
  The URI to load.</dd>
 <dt>
  <code>loadInfo</code></dt>
 <dd>
  This is the extended load info for this load. This most often will be <code>null</code>, but if you need to do additional setup for this load you can get a <code>loadInfo</code> object by calling <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDocShell#createLoadInfo()">createLoadInfo()</a></code>. Once you have this object you can set the needed properties on it and then pass it to <code>loadURI</code>.</dd>
 <dt>
  <code>aLoadFlags</code></dt>
 <dd>
  Flags to modify load behaviour. Flags are defined in <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIWebNavigation" title="">nsIWebNavigation</a></code>. Note that using flags outside LOAD_FLAGS_MASK is only allowed if passing in a non-<code>null</code> loadInfo. And even some of those might not be allowed. Use at your own risk.</dd>
 <dt>
  <code>firstParty</code></dt>
 <dd>
  <code>true</code> if this is the master top-level document.</dd>
</dl>
<h3 id="prepareForNewContentModel()" name="prepareForNewContentModel()">prepareForNewContentModel()</h3>
<p>Reset state to a new content model within the current document and the document viewer. Called by the document before initiating an out of band <a href="/en-US/docs/Web/API/Document/write" title="The Document.write() method writes a string of text to a document stream opened by document.open()."><code>document.write()</code></a>.</p>
<pre class="eval">void prepareForNewContentModel();
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<p>None.</p>
<p></p><h3 id="resumeRefreshURIs()">resumeRefreshURIs()</h3><p></p>
<p>Restart the XPCOM timers for each meta-refresh URI in this docshell, and this docshell's children, recursively. If the timers are already running, this has no effect.</p>
<pre class="eval">void resumeRefreshURIs();
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<p>None.</p>
<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="setChildOffset">setChildOffset</h3></div><p></p>
<p></p>
<p>Set the offset of this child in its container.</p>
<pre class="eval">void setChildOffset(
  in unsigned long offset
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>offset</code></dt>
 <dd>
  The offset of this nsIDocShell within its parent. Used to restore session history for frames.</dd>
</dl>
<h3 id="setCurrentURI()" name="setCurrentURI()">setCurrentURI()</h3>
<p>For editors and suchlike who wish to change the URI associated with the document. Note if you want to get the current URI, use the read-only property on <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIWebNavigation" title="">nsIWebNavigation</a></code>.</p>
<pre class="eval">void setCurrentURI(
  in nsIURI aURI
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aURI</code></dt>
 <dd>
  The URI to load.</dd>
</dl>
<p></p><h3 id="suspendRefreshURIs()">suspendRefreshURIs()</h3><p></p>
<p>Cancel the XPCOM timers for each meta-refresh URI in this docshell, and this docshell's children, recursively. The meta-refresh timers can be restarted using <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDocShell#resumeRefreshURIs()">resumeRefreshURIs()</a></code>. If the timers are already suspended, this has no effect.</p>
<pre class="eval">void suspendRefreshURIs();
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<p>None.</p>
<h3 id="tabToTreeOwner()" name="tabToTreeOwner()">tabToTreeOwner()</h3>
<p>Tells the docshell to offer focus to its tree owner. This is currently only necessary for embedding chrome.</p>
<pre class="eval">void tabToTreeOwner(
  in boolean forward,
  out boolean tookFocus
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>forward</code></dt>
 <dd>
  Whether to tab forwards or backwards.</dd>
 <dt>
  <code>tookFocus</code></dt>
 <dd>
  Whether or not an element was successfully focused.</dd>
</dl>