<p></p><div style="border: solid #ddd 2px; margin-bottom: 12px;">
<div style="background: #eee; padding: 2px;"><code><a href="https://dxr.mozilla.org/mozilla-central/source/widget/public/nsITaskbarPreviewController.idl" rel="custom">widget/public/nsITaskbarPreviewController.idl</a></code><span style="text-align: right; float: right;"><a href="/en-US/docs/Interfaces/About_Scriptable_Interfaces" style="color: #00cc00; font-weight: 700;">Scriptable</a></span></div>
<span style="padding: 4px 2px;">

This interface is used on Microsoft Windows to provide the behavior of taskbar previews. Its methods and properties are used by the <a href="/en-US/docs/XPCOM_Interface_Reference/nsITaskbarPreview">nsITaskbarPreview</a> interface.
</span>

  <div style="height: 42px; position: relative; padding: 2px; width: auto;">

  <div style="top: 22px; font-size: 11px; position: absolute;">1.0</div>

  <div style="top: 22px; font-size: 11px; position: absolute; left: 0px; text-align: right; float: right; width: 100%;">66</div>

  <div style="height: 8px; top: 16px; background: #dd0000; left: 0px; position: absolute; width: 10.476190285714287%;"></div>

<div style="height: 8px; top: 16px; left: 10.476190285714287%; background: #00dd00; position: absolute; width: 89.52380971428572%;" title="Introduced in Gecko 1.9.2 (Firefox 3.6 / Thunderbird 3.1 / Fennec 1.0)"></div>

<div style="top: 0px; font-size: 11px; position: absolute; left: 10.476190285714287%;">Introduced</div>
<div style="top: 22px; font-size: 11px; position: absolute; left: 10.476190285714287%;">Gecko 1.9.2</div>

</div>

<div style="background: #eee; padding: 2px;">
Inherits from: <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">nsISupports</a></code>
<span style="text-align: right; float: right;">Last changed in Gecko 1.9.2 (Firefox 3.6 / Thunderbird 3.1 / Fennec 1.0)</span></div>
</div><p></p>

<p>Clients should provide their own implementation of this interface. Depending on whether the controller is connected to an <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITaskbarTabPreview" title="">nsITaskbarTabPreview</a></code> or <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITaskbarWindowPreview" title="">nsITaskbarWindowPreview</a></code>, only certain methods and attributes need to be implemented.</p>

<h2 id="Method_overview" name="Method_overview">Method overview</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td><code>boolean <a href="#drawPreview()">drawPreview</a>(in nsIDOMCanvasRenderingContext2D ctx);</code></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#drawThumbnail()">drawThumbnail</a>(in nsIDOMCanvasRenderingContext2D ctx, in unsigned long width, in unsigned long height);</code></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#onActivate()">onActivate</a>();</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#onClick()">onClick</a>(in nsITaskbarPreviewButton button);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#onClose()">onClose</a>();</code></td>
  </tr>
 </tbody>
</table>

<h2 id="Attributes" name="Attributes">Attributes</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Attribute</td>
   <td class="header">Type</td>
   <td class="header">Description</td>
  </tr>
  <tr>
   <td><code>height</code></td>
   <td><code><a href="/en/unsigned_long" title="en/unsigned long">unsigned long</a></code></td>
   <td>The height in pixels of the preview image. This value may change at any time. See <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITaskbarPreviewController#drawPreview()">drawPreview()</a></code> for more information. <strong>Read only.</strong></td>
  </tr>
  <tr>
   <td><code>thumbnailAspectRatio</code></td>
   <td><code><a href="/en/float" title="en/float">float</a></code></td>
   <td>The thumbnail's aspect ratio. This doesn't need to match the preview's aspect ratio, and is allowed to be changed at any time. See <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITaskbarPreviewController#drawThumbnail()">drawThumbnail()</a></code> for more information. <strong>Read only.</strong></td>
  </tr>
  <tr>
   <td><code>width</code></td>
   <td><code><a href="/en/unsigned_long" title="en/unsigned long">unsigned long</a></code></td>
   <td>The width in pixels of the preview image. This value may change at any time. See <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITaskbarPreviewController#drawPreview()">drawPreview()</a></code> for more information. <strong>Read only.</strong></td>
  </tr>
 </tbody>
</table>

<p></p><div class="blockIndicator note"><strong>Note:</strong> Although these attributes are read only, that indicates that the previews controlled by an <code>nsITaskbarPreviewController</code> cannot alter these values. The controller and its supporting code, however, may change this values at any time.</div><p></p>

<h2 id="Methods" name="Methods">Methods</h2>

<h3 id="drawPreview()" name="drawPreview()">drawPreview()</h3>

<p>Invoked by <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITaskbarPreview" title="">nsITaskbarPreview</a></code> when it needs to render the preview. The specified context is attached to a surface with the controller's width and height, the values of which are obtained immediately prior to calling this method.</p>

<pre class="eval">boolean drawPreview(
  in nsIDOMCanvasRenderingContext2D ctx
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>ctx</code></dt>
 <dd>An <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMCanvasRenderingContext2D" title="">nsIDOMCanvasRenderingContext2D</a></code> object representing the drawing context into which the preview is to be rendered. Note that this context is not actually attached to a canvas element.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p><code>true</code> if you want a frame drawn around the preview, otherwise <code>false</code>.</p>

<h3 id="drawThumbnail()" name="drawThumbnail()">drawThumbnail()</h3>

<p>Invoked by the taskbar preview when it needs to draw the thumbnail in the taskbar's application preview window.</p>

<pre class="eval">boolean drawThumbnail(
  in nsIDOMCanvasRenderingContext2D ctx,
  in unsigned long width,
  in unsigned long height
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>ctx</code></dt>
 <dd>An <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMCanvasRenderingContext2D" title="">nsIDOMCanvasRenderingContext2D</a></code> object representing the drawing context into which the thumbnail is to be rendered. Note that this context is not actually attached to a canvas element.</dd>
 <dt><code>width</code></dt>
 <dd>The width of the surface backing the drawing context.</dd>
 <dt><code>height</code></dt>
 <dd>The height of the surface backing the drawing context.</dd>
</dl>

<p></p><div class="blockIndicator note"><strong>Note:</strong> It's guaranteed that <code>width</code> ÷ <code>height</code> will equal the <code>thumbnailAspectRatio</code>, within the margin of rounding errors.</div><p></p>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p><code>true</code> if you want a frame drawn around the thumbnail, otherwise <code>false</code>.</p>

<h3 id="onActivate()" name="onActivate()">onActivate()</h3>

<p>Invoked when the user clicks on the tab preview.</p>

<pre class="eval">boolean onActivate();
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<p>None.</p>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p><code>true</code> if the top level window corresponding to the preview should be activated, <code>false</code> if activation is not accepted.</p>

<h3 id="onClick()" name="onClick()">onClick()</h3>

<p>Invoked when one of the buttons on the window preview's toolbar is clicked by the user.</p>

<pre class="eval">void onClick(
  in nsITaskbarPreviewButton button
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>button</code></dt>
 <dd>An <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITaskbarPreviewButton" title="">nsITaskbarPreviewButton</a></code> object representing the button that was pressed. This can be compared to the buttons returned by the <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsITaskbarWindowPreview#getButton()">nsITaskbarWindowPreview.getButton()</a></code>.</dd>
</dl>

<h3 id="onClose()" name="onClose()">onClose()</h3>

<p>Invoked when the user presses the close button on the tab preview.</p>

<pre class="eval">void onClose();
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<p>None.</p>

<h2 id="See_also" name="See_also">See also</h2>

<ul>
 <li><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITaskbarPreview" title="">nsITaskbarPreview</a></code></li>
 <li><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITaskbarTabPreview" title="">nsITaskbarTabPreview</a></code></li>
 <li><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITaskbarWindowPreview" title="">nsITaskbarWindowPreview</a></code></li>
 <li><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITaskbarPreviewButton" title="">nsITaskbarPreviewButton</a></code></li>
 <li><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIWinTaskbar" title="">nsIWinTaskbar</a></code></li>
</ul>