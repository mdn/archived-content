---
title: nsINavHistoryResultViewer
slug: Mozilla/Tech/XPCOM/Reference/Interface/nsINavHistoryResultViewer
tags:
  - Developing Mozilla
  - Extensions
  - Interface
  - Interfaces
  - Obsolete
  - Places
  - XPCOM
  - XPCOM API Reference
  - nsINavHistoryResultViewer
---
<p></p><div style="border: solid #ddd 2px; margin-bottom: 12px;">
<div style="background: #eee; padding: 2px;"><code><a href="https://dxr.mozilla.org/mozilla-central/source/toolkit/components/places/public/nsINavHistoryService.idl" rel="custom">toolkit/components/places/public/nsINavHistoryService.idl</a></code><span style="text-align: right; float: right;"><a href="/en-US/docs/Interfaces/About_Scriptable_Interfaces" style="color: #00cc00; font-weight: 700;">Scriptable</a></span></div>
<span style="padding: 4px 2px;">

Lets <code><a href="/en-US/docs/nsINavHistoryResult">nsINavHistoryResult</a></code> instances notify Places views of changes in the results. Removed in Gecko 2.0 and replaced with the <code><a href="/en-US/docs/nsINavHistoryResultObserver">nsINavHistoryResultObserver</a></code> interface, which is similar but allows multiple clients to observe the result at once.
</span>

  <div style="height: 42px; position: relative; padding: 2px; width: auto;">

  <div style="top: 22px; font-size: 11px; position: absolute;">1.0</div>

  <div style="top: 22px; font-size: 11px; position: absolute; left: 0px; text-align: right; float: right; width: 100%;">66</div>

  <div style="height: 8px; top: 16px; background: #dd0000; left: 0px; position: absolute; width: 8.571428571428571%;"></div>

<div style="height: 8px; top: 16px; left: 8.571428571428571%; background: #00dd00; position: absolute; width: 2.8571428571428577%;" title="Introduced in Gecko 1.9 (Firefox 3)"></div>

<div style="top: 0px; font-size: 11px; position: absolute; left: 8.571428571428571%;">Introduced</div>
<div style="top: 22px; font-size: 11px; position: absolute; left: 8.571428571428571%;">Gecko 1.9</div>

    <div style="height: 8px; top: 16px; left: 11.428571428571429%; background: #000000; position: absolute; width: 88.57142857142857%;" title="Obsolete in Gecko 2.0 (Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)"></div>

  <div style="top: 0px; font-size: 11px; position: absolute; left: 0px; text-align: right; float: right; width: 11.428571428571429%;">Obsolete</div>

  <div style="top: 22px; font-size: 11px; position: absolute; left: 0px; text-align: right; float: right; width: 11.428571428571429%;">Gecko 2.0</div>

    <div style="height: 8px; top: 16px; left: 9.976190285714287%; background: #eeee00; position: absolute; width: 1%; border-radius: 4px; -webkit-border-radius: 4px;" title="Last changed in Gecko 1.9.2 (Firefox 3.6 / Thunderbird 3.1 / Fennec 1.0)"></div>

</div>

<div style="background: #eee; padding: 2px;">
Inherits from: <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">nsISupports</a></code>
<span style="text-align: right; float: right;">Last changed in Gecko 1.9.2 (Firefox 3.6 / Thunderbird 3.1 / Fennec 1.0)</span></div>
</div><p></p>

<p></p><div class="blockIndicator obsolete obsoleteHeader"><p><strong><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span> Obsolete since Gecko 2.0 (Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)</strong><br>This feature is obsolete. Although it may still work in some browsers, its use is discouraged since it could be removed at any time. Try to avoid using it.</p></div><p></p>

<div class="blockIndicator note">
<p><strong>Note:</strong> Most methods in this interface were renamed in Gecko 1.9.2, and others have slightly different parameter lists.</p>
</div>

<h2 id="Method_overview" name="Method_overview">Method overview</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td><code>void <a href="#containerClosed.28.29">containerClosed</a>(in nsINavHistoryContainerResultNode aContainerNode);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#containerOpened.28.29">containerOpened</a>(in nsINavHistoryContainerResultNode aContainerNode);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#invalidateContainer.28.29">invalidateContainer</a>(in nsINavHistoryContainerResultNode aContainerNode);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="/en/nsINavHistoryResultViewer#nodeAnnotationChanged()" title="en/nsINavHistoryResultViewer#nodeAnnotationChanged()">nodeAnnotationChanged</a>(in nsINavHistoryResultNode aNode, in AUTF8String aAnnoName);</code><code> </code></td>
  </tr>
  <tr>
   <td><code>void <a href="/en/nsINavHistoryResultViewer#nodeDateAddedChanged()" title="en/nsINavHistoryResultViewer#nodeDateAddedChanged()">nodeDateAddedChanged</a>(in nsINavHistoryResultNode aNode, in PRTime aNewValue); </code></td>
  </tr>
  <tr>
   <td><code>void <a href="/en/nsINavHistoryResultViewer#nodeLastAddedChanged()" title="en/nsINavHistoryResultViewer#nodeLastAddedChanged()">nodeLastAddedChanged</a>(in nsINavHistoryResultNode aNode, in PRTime aNewValue); </code></td>
  </tr>
  <tr>
   <td><code>void <a href="/en/nsINavHistoryResultViewer#nodeHistoryDetailsChanged()" title="en/nsINavHistoryResultViewer#nodeHistoryDetailsChanged()">nodeHistoryDetailsChanged</a>(in nsINavHistoryResultNode aNode, in PRTime aNewVisitDate, in unsigned long aNewAccessCount);</code><code> </code></td>
  </tr>
  <tr>
   <td><code>void <a href="/en/nsINavHistoryResultViewer#nodeIconChanged()" title="en/nsINavHistoryResultViewer#nodeIconChanged()">nodeIconChanged</a>(in nsINavHistoryResultNode aNode);</code><code> </code></td>
  </tr>
  <tr>
   <td><code>void <a href="/en/nsINavHistoryResultViewer#nodeKeywordChanged()" title="en/nsINavHistoryResultViewer#nodeKeywordChanged()">nodeKeywordChanged</a>(in nsINavHistoryResultNode aNode, in AUTF8String aNewKeyword);</code><code> </code></td>
  </tr>
  <tr>
   <td><code>void </code><a href="/#nodeMoved()" title="#nodeMoved()"><code>nodeMoved</code></a><code>(in nsINavHistoryResultNode aNode, in nsINavHistoryContainerResultNode aOldParent, in unsigned long aOldIndex, in nsINavHistoryContainerResultNode aNewParent, in unsigned long aNewIndex);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="/en/nsINavHistoryResultViewer#nodeTitleChanged()" title="en/nsINavHistoryResultViewer#nodeTitleChanged()">nodeTitleChanged</a>(in nsINavHistoryResultNode aNode, in AUTF8String aNewTitle); </code></td>
  </tr>
  <tr>
   <td><code>void <a href="/#nodeRemoved.28.29" title="#nodeRemoved.28.29">nodeRemoved</a>(in nsINavHistoryContainerResultNode aParent, in nsINavHistoryResultNode aNode, in unsigned long aOldIndex);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="/en/nsINavHistoryResultViewer#nodeTagsChanged()" title="en/nsINavHistoryResultViewer#nodeTagsChanged()">nodeTagsChanged</a>(in nsINavHistoryResultNode aNode);</code><code> </code></td>
  </tr>
  <tr>
   <td><code>void <a href="/en/nsINavHistoryResultViewer#nodeURIChanged()" title="en/nsINavHistoryResultViewer#nodeURIChanged()">nodeURIChanged</a>(in nsINavHistoryResultNode aNode, in AUTF8String aNewURI);</code><code> </code></td>
  </tr>
  <tr>
   <td><code>void <a href="/#nodeReplaced.28.29" title="#nodeReplaced.28.29">nodeReplaced</a>(in nsINavHistoryContainerResultNode parent, in nsINavHistoryResultNode oldItem, in nsINavHistoryResultNode newItem, in unsigned long index);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="/#nodeInserted.28.29" title="#nodeInserted.28.29">nodeInserted</a>(in nsINavHistoryContainerResultNode aParent, in nsINavHistoryResultNode aNode , in unsigned long aNewIndex);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#sortingChanged.28.29">sortingChanged</a>(in unsigned short sortingMode);</code></td>
  </tr>
 </tbody>
</table>

<h2 id="Attributes">Attributes</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Attribute</td>
   <td class="header">Type</td>
   <td class="header">Description</td>
  </tr>
  <tr>
   <td><code>result</code></td>
   <td><code>nsINavHistoryResult</code></td>
   <td>The <code><a href="/en/nsINavHistoryResult" title="en/nsINavHistoryResult">nsINavHistoryResult</a></code> this viewer monitors. Although this attribute is read-write, you should not alter it directly; instead, use the <code>nsINavHistoryResult.viewer</code> attribute to set the viewer.</td>
  </tr>
 </tbody>
</table>

<h2 id="Methods" name="Methods">Methods</h2>

<h3 id="containerClosed.28.29" name="containerClosed.28.29">containerClosed()</h3>

<p>Called when a container node's state changes from closed to opened.</p>

<pre class="eval"> void containerClosed(
   in nsINavHistoryContainerResultNode aContainerNode
 );
</pre>

<h6 id="Parameters_2" name="Parameters_2">Parameters</h6>

<dl>
 <dt><code>aContainerNode</code></dt>
 <dd>The container node whose state changed.</dd>
</dl>

<h3 id="containerOpened.28.29" name="containerOpened.28.29">containerOpened()</h3>

<p>Called when a container node's state changes from closed to opened.</p>

<pre class="eval"> void containerOpened(
   in nsINavHistoryContainerResultNode aContainerNode
 );
</pre>

<h6 id="Parameters_3" name="Parameters_3">Parameters</h6>

<dl>
 <dt><code>aContainerNode</code></dt>
 <dd>The container node whose state changed.</dd>
</dl>

<h3 id="invalidateContainer.28.29" name="invalidateContainer.28.29">invalidateContainer()</h3>

<p>Called when something has happened that requires that the contents of a container be rebuilt.</p>

<pre class="eval">void invalidateContainer(
  in nsINavHistoryContainerResultNode aContainerNode
);
</pre>

<h6 id="Parameters_9" name="Parameters_9">Parameters</h6>

<dl>
 <dt><code>aContainerNode</code></dt>
 <dd>The container that should be rebuilt.</dd>
</dl>

<p><span class="c"></span></p><h3 id="nodeAnnotationChanged()">nodeAnnotationChanged()</h3><p></p>

<p><span class="c">Called right after the annotation on a node has changed. This is called when the annotation is changed, set, or unset.</span></p>

<pre><span class="c">void nodeAnnotationChanged(
  in nsINavHistoryResultNode aNode,
  in AUTF8String aAnnoName
);</span> </pre>

<h6 id="Parameters"><span class="c">Parameters</span></h6>

<dl>
 <dt><code><span class="c">aNode</span></code></dt>
 <dd><span class="c">The node whose title has changed.</span></dd>
 <dt><code><span class="c">aAnnoName</span></code></dt>
 <dd><span class="c">The name of the annotation that hanged.</span></dd>
</dl>

<p><span class="c"></span></p><h3 id="nodeDateAddedChanged()">nodeDateAddedChanged()</h3><p></p>

<p><span class="c">Called right after the date added property of a node has changed.</span></p>

<pre><span class="c">void nodeKeywordChanged(
  in nsINavHistoryResultNode aNode,
  in PRTime aNewValue
);</span> </pre>

<h6 id="Parameters_6"><span class="c">Parameters</span></h6>

<dl>
 <dt><code><span class="c">aNode</span></code></dt>
 <dd><span class="c">The node whose title has changed.</span></dd>
 <dt><code><span class="c">aNewValue</span></code></dt>
 <dd><span class="c">The new value for the node's date added property.</span></dd>
</dl>

<p><span class="c"></span></p><h3 id="nodeLastModifiedChanged()">nodeLastModifiedChanged()</h3><p></p>

<p><span class="c">Called right after the last modified date property of a node has changed.</span></p>

<pre><span class="c">void nodeKeywordChanged(
  in nsINavHistoryResultNode aNode,
  in PRTime aNewValue
);</span> </pre>

<h6 id="Parameters_8"><span class="c">Parameters</span></h6>

<dl>
 <dt><code><span class="c">aNode</span></code></dt>
 <dd><span class="c">The node whose title has changed.</span></dd>
 <dt><code><span class="c">aNewValue</span></code></dt>
 <dd><span class="c">The new value for the node's last modified property.</span></dd>
</dl>

<p><span class="c"></span></p><h3 id="nodeHistoryDetailsChanged()">nodeHistoryDetailsChanged()</h3><p></p>

<p><span class="c">Called right after a node's last access time or access count has changed.</span></p>

<pre><span class="c">void nodeHistoryDetailsChanged(
  in nsINavHistoryResultNode aNode,
  in PRTime aNewVisitDate,
  in unsigned long aNewAccessCount
);</span>
</pre>

<h6 id="Parameters_10"><span class="c">Parameters</span></h6>

<dl>
 <dt><code><span class="c">aNode</span></code></dt>
 <dd><span class="c">The node whose details have changed.</span></dd>
 <dt><code><span class="c">aNewVisitDate</span></code></dt>
 <dd><span class="c">The new value for the last visit date and time for the node.</span></dd>
 <dt><code><span class="c">aNewAccessCount</span></code></dt>
 <dd><span class="c">The new access count value for the node.</span></dd>
</dl>

<p><span class="c"></span></p><h3 id="nodeIconChanged()">nodeIconChanged()</h3><p></p>

<p><span class="c">Called right after the icon of a node has changed.</span></p>

<pre><span class="c">void nodeIconChanged(
  in nsINavHistoryResultNode aNode
);</span>
</pre>

<h6 id="Parameters_12"><span class="c">Parameters</span></h6>

<dl>
 <dt><code><span class="c">aNode</span></code></dt>
 <dd><span class="c">The node whose icon has changed.</span></dd>
</dl>

<p><span class="c"></span></p><h3 id="nodeKeywordChanged()">nodeKeywordChanged()</h3><p></p>

<p><span class="c">Called right after the keyword property of a node has changed.</span></p>

<pre><span class="c">void nodeKeywordChanged(
  in nsINavHistoryResultNode aNode,
  in AUTF8String aNewKeyword
);</span> </pre>

<h6 id="Parameters_13"><span class="c">Parameters</span></h6>

<dl>
 <dt><code><span class="c">aNode</span></code></dt>
 <dd><span class="c">The node whose title has changed.</span></dd>
 <dt><code><span class="c">aNewTitle</span></code></dt>
 <dd><span class="c">The new value for the node's keyword property.</span></dd>
</dl>

<h3 id="itemRemoved.28.29" name="itemRemoved.28.29">nodeMoved()</h3>

<p><span class="c">Called when a node is moved from <code>aOldParent</code> at <code>aOldIndex</code> to</span><span class="c"> <code>aNewParent</code> at <code>aNewIndex</code>. The item may be a container or a leaf.</span></p>

<pre>void itemMoved(
  in nsINavHistoryResultNode aNode,
  in nsINavHistoryContainerResultNode aOldParent,
  in unsigned long aOldIndex,
  in nsINavHistoryContainerResultNode aNewParent,
  in unsigned long aNewIndex
);
</pre>

<h6 id="Parameters_14">Parameters</h6>

<dl>
 <dt><code>aNode</code></dt>
 <dd>The moved item.</dd>
 <dt><code>aOldParent</code></dt>
 <dd>The item's old parent.</dd>
 <dt><code>aOldIndex</code></dt>
 <dd>The item's index in the old parent.</dd>
 <dt><code>aNewParent</code></dt>
 <dd>The item's new parent.</dd>
 <dt><code>aNewIndex</code></dt>
 <dd>The item's index in the new parent.</dd>
</dl>

<h6 id="Remarks_4">Remarks</h6>

<p>A<span class="c">t the moment, this method is called only when an item is moved</span><span class="c"> within the same container. When an item is moved between containers,</span><span class="c"> a new node is created for the item, and the itemRemoved/itemAdded methods</span><span class="c"> are used.</span></p>

<p><span class="c"></span></p><h3 id="nodeTitleChanged()">nodeTitleChanged()</h3><p></p>

<p><span class="c">Called right after the title of a node has changed.</span></p>

<pre><span class="c">void nodeTitleChanged(
  in nsINavHistoryResultNode aNode,
  in AUTF8String aNewTitle
);</span> </pre>

<h6 id="Parameters_15"><span class="c">Parameters</span></h6>

<dl>
 <dt><code><span class="c">aNode</span></code></dt>
 <dd><span class="c">The node whose title has changed.</span></dd>
 <dt><code><span class="c">aNewTitle</span></code></dt>
 <dd><span class="c">The new title of the node.</span></dd>
</dl>

<p><span class="c"></span></p><h3 id="nodeURIChanged()">nodeURIChanged()</h3><p></p>

<p><span class="c">Called right after the URI of a node has changed.</span></p>

<pre><span class="c">void nodeURIChanged(
  in nsINavHistoryResultNode aNode,
  in AUTF8String aNewURI
);</span> </pre>

<h6 id="Parameters_16"><span class="c">Parameters</span></h6>

<dl>
 <dt><code><span class="c">aNode</span></code></dt>
 <dd><span class="c">The node whose title has changed.</span></dd>
 <dt><code><span class="c">aNewURI</span></code></dt>
 <dd><span class="c">The node's new URI.</span></dd>
</dl>

<h3 id="itemRemoved.28.29" name="itemRemoved.28.29">nodeRemoved()</h3>

<p>Called when a node is removed from a container.</p>

<pre class="eval"> void itemRemoved(
   in nsINavHistoryContainerResultNode aParent,
   in nsINavHistoryResultNode aNode,
   in unsigned long aOldIndex
 );
</pre>

<h6 id="Parameters_5" name="Parameters_5">Parameters</h6>

<dl>
 <dt><code>parent</code></dt>
 <dd>The container from which the item was removed.</dd>
 <dt><code>item</code></dt>
 <dd>The item that was removed from the container. It may be either a container or a leaf.</dd>
 <dt><code>oldIndex</code></dt>
 <dd>The index from which the item was removed.</dd>
</dl>

<h6 id="Remarks_2" name="Remarks_2">Remarks</h6>

<p>This method is called after the item has been removed from the parent, but before any other action is taken (including zeroing out the item's parent reference).</p>

<p><span class="c"></span></p><h3 id="nodeTagsChanged()">nodeTagsChanged()</h3><p></p>

<p><span class="c">Called right after a node's tags have changed.</span></p>

<pre><span class="c">void nodeTagsChanged(
  in nsINavHistoryResultNode aNode
);</span>
</pre>

<h6 id="Parameters_17"><span class="c">Parameters</span></h6>

<dl>
 <dt><code><span class="c">aNode</span></code></dt>
 <dd><span class="c">The node whose tags have changed.</span></dd>
</dl>

<h3 id="itemReplaced.28.29" name="itemReplaced.28.29">nodeReplaced()</h3>

<p>Called when a node is being replaced with another node at the same location.</p>

<pre class="eval"> void nodeReplaced(in nsINavHistoryContainerResultNode aParentNode,
   in nsINavHistoryResultNode aOldNode,
   in nsINavHistoryResultNode aNewNode,
   in unsigned long aIndex
 );
</pre>

<h6 id="Parameters_7" name="Parameters_7">Parameters</h6>

<dl>
 <dt><code>aParentNode</code></dt>
 <dd>The container in which the item is being replaced.</dd>
 <dt><code>aOldNode</code></dt>
 <dd>The item being replaced.</dd>
 <dt><code>aNewNode</code></dt>
 <dd>The node replacing the <code>aOldNode</code>.</dd>
 <dt><code>aIndex</code></dt>
 <dd>The index at which the node is located in the container.</dd>
</dl>

<h3 id="itemInserted.28.29" name="itemInserted.28.29">nodeInserted()</h3>

<p>Called when an item is inserted into a container.</p>

<pre class="eval"> void nodeInserted(
   in nsINavHistoryContainerResultNode aParent,
   in nsINavHistoryResultNode aNode,
   in unsigned long aNewIndex
 );
</pre>

<h6 id="Parameters_4" name="Parameters_4">Parameters</h6>

<dl>
 <dt><code>aParent</code></dt>
 <dd>The container into which to insert the item.</dd>
 <dt><code>aNode</code></dt>
 <dd>The node to insert into the container; it may be either a leaf or another container.</dd>
 <dt><code>aNewIndex</code></dt>
 <dd>The index at which to insert the item.</dd>
</dl>

<h6 id="Remarks" name="Remarks">Remarks</h6>

<p>The item previously at the specified index (if any) as well as everything below it, is shifted down by one.</p>

<h3 id="sortingChanged.28.29" name="sortingChanged.28.29">sortingChanged()</h3>

<p>Called when the sorting order is changed to a particular mode. For trees, this would update the column headers to reflect the altered sorting.</p>

<pre class="eval"> void sortingChanged(
   in unsigned short sortingMode
 );
</pre>

<h6 id="Parameters_11" name="Parameters_11">Parameters</h6>

<dl>
 <dt><code>sortingMode</code></dt>
 <dd>One of the <code>nsINavHistoryQueryOptions.SORT_BY_*</code> constants, indicating the softing mode.</dd>
</dl>

<h6 id="Remarks_3" name="Remarks_3">Remarks</h6>

<p>This method is only called to update the sorting user interface. <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavHistoryResultViewer#invalidateAll()">invalidateAll()</a></code> is called as well if the sorting changes, in order to cause the contents to update properly.</p>

<h2 id="See_also" name="See_also">See also</h2>

<p><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavHistoryResult" title="">nsINavHistoryResult</a></code>, <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITreeView" title="">nsITreeView</a></code>, <a class="internal" href="/en/Displaying_Places_information_using_views" title="En/Displaying Places information using views">Displaying Places information using views</a></p>
