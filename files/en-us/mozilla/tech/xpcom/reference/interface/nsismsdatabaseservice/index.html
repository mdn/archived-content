---
title: nsISmsDatabaseService
slug: Mozilla/Tech/XPCOM/Reference/Interface/nsISmsDatabaseService
tags:
  - Interfaces
  - Mobile
  - WebSMS
---
<h1 id="nsISmsDatabaseService">nsISmsDatabaseService</h1>
<p></p><div style="border: solid #ddd 2px; margin-bottom: 12px;">
<div style="background: #eee; padding: 2px;"><code><a href="https://dxr.mozilla.org/mozilla-central/source/dom/sms/interfaces/nsISmsDatabaseService.idl" rel="custom">dom/sms/interfaces/nsISmsDatabaseService.idl</a></code><span style="text-align: right; float: right;"><a href="/en-US/docs/Interfaces/About_Scriptable_Interfaces" style="color: #00cc00; font-weight: 700;">Scriptable</a></span></div>
<span style="padding: 4px 2px;">

Used to store and manage SMS text messages for the WebSMS API
</span>

  <div style="height: 42px; position: relative; padding: 2px; width: auto;">

  <div style="top: 22px; font-size: 11px; position: absolute;">1.0</div>

  <div style="top: 22px; font-size: 11px; position: absolute; left: 0px; text-align: right; float: right; width: 100%;">66</div>

  <div style="height: 8px; top: 16px; background: #dd0000; left: 0px; position: absolute; width: 24.285714285714285%;"></div>

<div style="height: 8px; top: 16px; left: 24.285714285714285%; background: #00dd00; position: absolute; width: 75.71428571428572%;" title="Introduced in Gecko 13.0 (Firefox 13.0 / Thunderbird 13.0 / SeaMonkey 2.10)"></div>

<div style="top: 0px; font-size: 11px; position: absolute; left: 24.285714285714285%;">Introduced</div>
<div style="top: 22px; font-size: 11px; position: absolute; left: 24.285714285714285%;">Gecko 13.0</div>

    <div style="height: 8px; top: 16px; left: 26.642857142857142%; background: #eeee00; position: absolute; width: 1%; border-radius: 4px; -webkit-border-radius: 4px;" title="Last changed in Gecko 15.0 (Firefox 15.0 / Thunderbird 15.0 / SeaMonkey 2.12)"></div>

</div>

<div style="background: #eee; padding: 2px;">
Inherits from: <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title>nsISupports</a></code>
<span style="text-align: right; float: right;">Last changed in Gecko 15.0 (Firefox 15.0 / Thunderbird 15.0 / SeaMonkey 2.12)</span></div>
</div><p></p>
<p>Implemented by: <code>@mozilla.org/sms/smsdatabaseservice;1</code>. To create an instance, use:</p>
<pre class="eval">var smsService = Components.classes[&quot;@mozilla.org/sms/smsdatabaseservice;1&quot;]
                 .createInstance(Components.interfaces.nsISmsDatabaseService);
</pre>
<h2 id="Method_overview" name="Method_overview">Method overview</h2>
<table class="standard-table"> <tbody> <tr> <td><code>long <a href="#saveReceivedMessage()" title="#saveReceivedMessage()">saveReceivedMessage</a>(in DOMString aSender, in DOMString aBody, in unsigned long long aDate);</code></td> </tr> <tr> <td><code>long <a href="#saveSentMessage()" title="#saveSentMessage()">saveSentMessage</a>(in DOMString aReceiver, in DOMString aBody, in unsigned long long aDate);</code></td> </tr> <tr> <td><code>void <a href="#getMessage()" title="#getMessage()">getMessage</a>(in long messageId, in long requestId, [optional] in unsigned long long processId);</code></td> </tr> <tr> <td><code>void <a href="#deleteMessage()" title="#deleteMessage()">deleteMessage</a>(in long messageId, in long requestId, [optional] in unsigned long long processId);</code></td> </tr> <tr> <td><code>void <a href="#createMessageList()" title="#createMessageList()">createMessageList</a>(in nsIDOMMozSmsFilter filter, in boolean reverse, in long requestId, [optional] in unsigned long long processId);</code></td> </tr> <tr> <td><code>void <a href="#getNextMessageInList()" title="#getNextMessageInList()">getNextMessageInList</a>(in long listId, in long requestId, [optional] in unsigned long long processId);</code></td> </tr> <tr> <td><code>void <a href="#clearMessageList()" title="#clearMessageList()">clearMessageList</a>(in long listId);</code></td> </tr> <tr> <td><code>void <a href="#markMessageRead()" title="#markMessageRead()">markMessageRead</a>(in long messageId, in boolean value, in long requestId, [optional] in unsigned long long processId)</code> </td> </tr> </tbody>
</table>
<h2 id="Methods" name="Methods">Methods</h2>
<h3 id="saveReceivedMessage()" name="saveReceivedMessage()">saveReceivedMessage()</h3>
<pre class="eval">void saveReceivedMessage(
  in DOMString aSender,
  in DOMString aBody,
  in unsigned long long aDate
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl> <dt><code>aSender</code></dt> <dd>A <a href="/en-US/docs/Web/API/DOMString" title="DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String."><code>DOMString</code></a> with the sender of the text message.</dd> <dt><code>aBody</code></dt> <dd>A <a href="/en-US/docs/Web/API/DOMString" title="DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String."><code>DOMString</code></a> containing the body text of the message.</dd> <dt><code>aDate</code></dt> <dd>The timestamp of the message.</dd>
</dl>
<h3 id="saveSentMessage()" name="saveSentMessage()">saveSentMessage()</h3>
<pre class="eval">void saveSentMessage(
  in DOMString a Receiver,
  in DOMString aBody,
  in unsigned long long aDate
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl> <dt><code>aReceiver</code></dt> <dd>A <a href="/en-US/docs/Web/API/DOMString" title="DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String."><code>DOMString</code></a> with the receiver of the text message.</dd> <dt><code>aBody</code></dt> <dd>A <a href="/en-US/docs/Web/API/DOMString" title="DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String."><code>DOMString</code></a> containing the body text of the message.</dd> <dt><code>aDate</code></dt> <dd>The timestamp of the message.</dd>
</dl>
<h3 id="getMessage()" name="getMessage()">getMessage()</h3>
<pre class="eval">void getMessage(
  in long messageId,
  in long requestId,
  [optional] in unsigned long long processId
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl> <dt><code>messageId</code></dt> <dd>A number representing the id of the message.</dd> <dt><code>requestId</code></dt> <dd>A number representing the id of the request.</dd> <dt><code>processId</code> <span class="optional optionalInline notecard inline">Optional</span></dt> <dd>A number representing the id of the process.</dd>
</dl>
<h3 id="deleteMessage()" name="deleteMessage()">deleteMessage()</h3>
<pre class="eval">void deleteMessage(
  in long messageId,
  in long requestId,
  [optional] in unsigned long long processId
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl> <dt><code>messageId</code></dt> <dd>A number representing the id of the message.</dd> <dt><code>requestId</code></dt> <dd>A number representing the id of the request.</dd> <dt><code>processId</code> <span class="optional optionalInline notecard inline">Optional</span></dt> <dd>A number representing the id of the process.</dd>
</dl>
<h3 id="createMessageList()" name="createMessageList()">createMessageList()</h3>
<pre class="eval">void createMessageList(
  in nsIDOMMozSmsFilter filter,
  in boolean reverse,
  in long requestId,
  [optional] in unsigned long long processId
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl> <dt><code>filter</code></dt> <dd>A <a href="/en-US/docs/Web/API/SmsFilter" title="The MozSmsFilter interface provides a way to filter out MozSmsMessage or MozMmsMessage objects through the MozMobileMessageManager.getMessages() method."><code>SmsFilter</code></a> to filter out SMS messages from a list.</dd> <dt><code>reverse</code></dt> <dd>A Boolean indicating whether to reverse the ordering.</dd> <dt><code>requestId</code></dt> <dd>A number representing the id of the request.</dd> <dt><code>processId</code> <span class="optional optionalInline notecard inline">Optional</span></dt> <dd>A number representing the id of the process.</dd>
</dl>
<h3 id="getNextMessageInList()" name="getNextMessageInList()">getNextMessageInList()</h3>
<pre class="eval">void getNextMessageInList(
  in long listId,
  in long requestId,
  [optional] in unsigned long long processId
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl> <dt><code>listId</code></dt> <dd>A number representing the id of the message list.</dd> <dt><code>requestId</code></dt> <dd>A number representing the id of the request.</dd> <dt><code>processId</code> <span class="optional optionalInline notecard inline">Optional</span></dt> <dd>A number representing the id of the process.</dd>
</dl>
<h3 id="clearMessageList()" name="clearMessageList()">clearMessageList()</h3>
<pre class="eval">void getNextMessageInList(
  in long listId,
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl> <dt><code>listId</code></dt> <dd>A number representing the id of the message list.</dd>
</dl>
<p></p><div class="headingWithIndicator">
    <h2 id="markMessageRead()">markMessageRead()</h2>
    <span class="minVer geckoMinVerMethod notecard inline">Requires Gecko 15.0(Firefox 15.0 / Thunderbird 15.0 / SeaMonkey 2.12)</span>
</div><p></p>
<pre class="eval">void markMessageRead(
  in long messageId,
  in boolean value,
  in long requestId,
  [optional] in unsigned long long processId
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl> <dt><code>messageId</code></dt> <dd>A number representing the id of the message.</dd> <dt><code>value</code></dt> <dd>A Boolean indicating whether a message is read or unread.</dd> <dt><code>requestId</code></dt> <dd>A number representing the id of the request.</dd> <dt><code>processId</code> <span class="optional optionalInline notecard inline">Optional</span></dt> <dd>A number representing the id of the process.</dd>
</dl>
<h2 id="See_also">See also</h2>
<ul> <li><a href="/en-US/docs/Web/API/SmsManager"><code>SmsManager</code></a></li> <li><a href="/en-US/docs/Web/API/SmsMessage"><code>SmsMessage</code></a></li>
</ul>
