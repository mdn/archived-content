---
title: nsINavBookmarksService
slug: Mozilla/Tech/XPCOM/Reference/Interface/nsINavBookmarksService
tags:
  - Developing Mozilla
  - Interfaces
  - 'Interfaces:Scriptable'
  - Places
  - XPCOM
  - XPCOM API Reference
  - XPCOM Interface Reference
---
<p></p><div style="border: solid #ddd 2px; margin-bottom: 12px;">
<div style="background: #eee; padding: 2px;"><code><a href="https://dxr.mozilla.org/mozilla-central/source/toolkit/components/places/nsINavBookmarksService.idl" rel="custom">toolkit/components/places/nsINavBookmarksService.idl</a></code><span style="text-align: right; float: right;"><a href="/en-US/docs/Interfaces/About_Scriptable_Interfaces" style="color: #00cc00; font-weight: 700;">Scriptable</a></span></div>
<span style="padding: 4px 2px;">

The BookmarksService interface provides methods for managing bookmarked history items. Bookmarks consist of a set of user-customizable folders. A URI in history can be contained in one or more such folders.
</span>

  <div style="height: 42px; position: relative; padding: 2px; width: auto;">

  <div style="top: 22px; font-size: 11px; position: absolute;">1.0</div>

  <div style="top: 22px; font-size: 11px; position: absolute; left: 0px; text-align: right; float: right; width: 100%;">67</div>

  <div style="height: 8px; top: 16px; background: #dd0000; left: 0px; position: absolute; width: 5.633802816901409%;"></div>

<div style="height: 8px; top: 16px; left: 5.633802816901409%; background: #00dd00; position: absolute; width: 94.36619718309859%;" title="Introduced in Gecko 1.8 (Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)"></div>

<div style="top: 0px; font-size: 11px; position: absolute; left: 5.633802816901409%;">Introduced</div>
<div style="top: 22px; font-size: 11px; position: absolute; left: 5.633802816901409%;">Gecko 1.8</div>

    <div style="height: 8px; top: 16px; left: 24.852112676056336%; background: #eeee00; position: absolute; width: 1%; border-radius: 4px; -webkit-border-radius: 4px;" title="Last changed in Gecko 14.0 (Firefox 14.0 / Thunderbird 14.0 / SeaMonkey 2.11)"></div>

</div>

<div style="background: #eee; padding: 2px;">
Inherits from: <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">nsISupports</a></code>
<span style="text-align: right; float: right;">Last changed in Gecko 14.0 (Firefox 14.0 / Thunderbird 14.0 / SeaMonkey 2.11)</span></div>
</div><p></p>

<p>Implemented by: <code>@mozilla.org/browser/nav-bookmarks-service;1</code>. To use this service, use:</p>

<pre class="eval">var navBookmarksService = Components.classes["@mozilla.org/browser/nav-bookmarks-service;1"]
                          .getService(Components.interfaces.nsINavBookmarksService);
</pre>

<h2 id="Method_overview" name="Method_overview">Method overview</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td><code>void <a href="#addObserver()">addObserver</a>(in nsINavBookmarkObserver observer, in boolean ownsWeak);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#beginUpdateBatch()">beginUpdateBatch</a>();</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3)">Obsolete since Gecko 1.9</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#changeBookmarkURI()">changeBookmarkURI</a>(in long long aItemId, in nsIURI aNewURI);</code></td>
  </tr>
  <tr>
   <td><code>long long <a href="#createDynamicContainer()">createDynamicContainer</a>(in long long aParentFolder, in AUTF8String aName, in AString aContractId, in long aIndex);</code> <div class="note"><strong>Note:</strong> Renamed from <code>createContainer</code> in Gecko 1.9</div> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 13.0 / Thunderbird 13.0 / SeaMonkey 2.10)">Obsolete since Gecko 13.0</span></td>
  </tr>
  <tr>
   <td><code>long long <a href="#createFolder()">createFolder</a>(in long long aParentFolder, in AUTF8String name, in long index);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#endUpdateBatch()">endUpdateBatch</a>();</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3)">Obsolete since Gecko 1.9</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#exportBookmarksHTML()">exportBookmarksHTML</a>(in nsIFile file);</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3)">Obsolete since Gecko 1.9</span></td>
  </tr>
  <tr>
   <td><code>nsIURI <a href="#getBookmarkedURIFor()">getBookmarkedURIFor</a>(in nsIURI aURI);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#getBookmarkFoldersTArray()">getBookmarkFoldersTArray</a>(in nsIURI aURI, in PRInt64Array aResult);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3)">Obsolete since Gecko 1.9</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#getBookmarkIdsForURI()">getBookmarkIdsForURI</a>(in nsIURI aURI, [optional] out unsigned long count, [array, retval, size_is(count)] out long long bookmarks);</code> <div class="note"><strong>Note:</strong> Renamed from <code>getBookmarkFolders</code> in Gecko 1.9</div></td>
  </tr>
  <tr>
   <td><code>void <a href="#getBookmarkIdsForURITArray()">getBookmarkIdsForURITArray</a>(in nsIURI aURI, in PRInt64Array aResult);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span>  <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)">Obsolete since Gecko 2.0</span></td>
  </tr>
  <tr>
   <td><code>nsIURI <a href="#getBookmarkURI()">getBookmarkURI</a>(in long long aItemId);</code> </td>
  </tr>
  <tr>
   <td><code>long long <a href="#getChildFolder()">getChildFolder</a>(in long long aFolder, in AString aSubFolder);</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)">Obsolete since Gecko 2.0</span></td>
  </tr>
  <tr>
   <td><code>long long <a href="#getFolderIdForItem()">getFolderIdForItem</a>(in long long aItemId);</code> </td>
  </tr>
  <tr>
   <td><code>boolean <a href="#getFolderReadonly()">getFolderReadonly</a>(in long long aItemId);</code></td>
  </tr>
  <tr>
   <td><code>AString <a href="#getFolderTitle()">getFolderTitle</a>(in PRInt64 folder);</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3)">Obsolete since Gecko 1.9</span></td>
  </tr>
  <tr>
   <td><code>nsIURI <a href="#getFolderURI()">getFolderURI</a>(in PRInt64 folder);</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3)">Obsolete since Gecko 1.9</span></td>
  </tr>
  <tr>
   <td><code>long long <a href="#getIdForItemAt()">getIdForItemAt</a>(in long long aParentId, in long aIndex);</code> </td>
  </tr>
  <tr>
   <td><code>PRTime <a href="#getItemDateAdded()">getItemDateAdded</a>(in long long aItemId);</code> </td>
  </tr>
  <tr>
   <td><code>AString <a href="#getItemGUID()">getItemGUID</a>(in long long aItemId);</code>  <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 14.0 / Thunderbird 14.0 / SeaMonkey 2.11)">Obsolete since Gecko 14.0</span></td>
  </tr>
  <tr>
   <td><code>long long <a href="#getItemIdForGUID()">getItemIdForGUID</a>(in AString aGUID);</code>  <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 14.0 / Thunderbird 14.0 / SeaMonkey 2.11)">Obsolete since Gecko 14.0</span></td>
  </tr>
  <tr>
   <td><code>long <a href="#getItemIndex()">getItemIndex</a>(in long long aItemId);</code> </td>
  </tr>
  <tr>
   <td><code>PRTime <a href="#getItemLastModified()">getItemLastModified</a>(in long long aItemId);</code> </td>
  </tr>
  <tr>
   <td><code>AUTF8String <a href="#getItemTitle()">getItemTitle</a>(in long long aItemId);</code></td>
  </tr>
  <tr>
   <td><code>unsigned short <a href="#getItemType()">getItemType</a>(in long long aItemId);</code> </td>
  </tr>
  <tr>
   <td><code>AString <a href="#getKeywordForBookmark()">getKeywordForBookmark</a>(in long long aItemId);</code>  <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 40.0 / Thunderbird 40.0 / SeaMonkey 2.37)">Obsolete since Gecko 40.0</span></td>
  </tr>
  <tr>
   <td><code>AString <a href="#getKeywordForURI()">getKeywordForURI</a>(in nsIURI aURI);</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 40.0 / Thunderbird 40.0 / SeaMonkey 2.37)">Obsolete since Gecko 40.0</span></td>
  </tr>
  <tr>
   <td><code>nsITransaction <a href="#getRemoveFolderTransaction()">getRemoveFolderTransaction</a>(in long long aItemId);</code></td>
  </tr>
  <tr>
   <td><code>nsIURI <a href="#getURIForKeyword()">getURIForKeyword</a>(in AString keyword);</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 40.0 / Thunderbird 40.0 / SeaMonkey 2.37)">Obsolete since Gecko 40.0</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#importBookmarksHTML()">importBookmarksHTML</a>(in nsIURI url);</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3)">Obsolete since Gecko 1.9</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#importBookmarksHTMLToFolder()">importBookmarksHTMLToFolder</a>(in nsIURI url, in PRInt64 folder);</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3)">Obsolete since Gecko 1.9</span></td>
  </tr>
  <tr>
   <td><code>PRInt32 <a href="#indexOfFolder()">indexOfFolder</a>(in PRInt64 parent, in PRInt64 folder);</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3)">Obsolete since Gecko 1.9</span></td>
  </tr>
  <tr>
   <td><code>PRInt32 <a href="#indexOfItem()">indexOfItem</a>(in PRInt64 folder, in nsIURI uri);</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3)">Obsolete since Gecko 1.9</span></td>
  </tr>
  <tr>
   <td><code>long long <a href="#insertBookmark()">insertBookmark</a>(in long long aParentId, in nsIURI aURI, in long aIndex, in AUTF8String aTitle);</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#insertItem()">insertItem</a>(in PRInt64 folder, in nsIURI item, in PRInt32 index);</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3)">Obsolete since Gecko 1.9</span></td>
  </tr>
  <tr>
   <td><code>long long <a href="#insertSeparator()">insertSeparator</a>(in long long aParentId, in long aIndex);</code></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#isBookmarked()">isBookmarked</a>(in nsIURI aURI);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#moveFolder()">moveFolder</a>(in PRInt64 folder, in PRInt64 newParent, in PRInt32 index);</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3)">Obsolete since Gecko 1.9</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#moveItem()">moveItem</a>(in long long aItemId, in long long aNewParentId, in long aIndex);</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#removeChildAt()">removeChildAt</a>(in long long aFolder, in long aIndex);</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)">Obsolete since Gecko 2.0</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#removeFolder()">removeFolder</a>(in long long aFolder);</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)">Obsolete since Gecko 2.0</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#removeFolderChildren()">removeFolderChildren</a>(in long long aItemId);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#removeItem()">removeItem</a>(in long long aItemId);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#removeObserver()">removeObserver</a>(in nsINavBookmarkObserver observer);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#replaceItem()">replaceItem</a>(in PRInt64 folder, in nsIURI item, in nsIURI newItem);</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3)">Obsolete since Gecko 1.9</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#runInBatchMode()">runInBatchMode</a>(in nsINavHistoryBatchCallback aCallback, in nsISupports aUserData);</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#setFolderReadonly()">setFolderReadonly</a>(in long long aFolder, in boolean aReadOnly);</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#setFolderTitle()">setFolderTitle</a>(in PRInt64 folder, in AString title);</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3)">Obsolete since Gecko 1.9</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#setItemDateAdded()">setItemDateAdded</a>(in long long aItemId, in PRTime aDateAdded);</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#setItemGUID()">setItemGUID</a>(in long long aItemId, in AString aGUID);</code>  <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 14.0 / Thunderbird 14.0 / SeaMonkey 2.11)">Obsolete since Gecko 14.0</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#setItemIndex()">setItemIndex</a>(in long long aItemId, in long aNewIndex);</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#setItemLastModified()">setItemLastModified</a>(in long long aItemId, in PRTime aLastModified);</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#setItemTitle()">setItemTitle</a>(in long long aItemId, in AUTF8String aTitle);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#setKeywordForBookmark()">setKeywordForBookmark</a>(in long long aItemId, in AString aKeyword);</code>  <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 40.0 / Thunderbird 40.0 / SeaMonkey 2.37)">Obsolete since Gecko 40.0</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#setKeywordForURI()">setKeywordForURI</a>(in nsIURI uri, in AString keyword);</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3)">Obsolete since Gecko 1.9</span> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 40.0 / Thunderbird 40.0 / SeaMonkey 2.37)">Obsolete since Gecko 40.0</span></td>
  </tr>
 </tbody>
</table>

<h2 id="Attributes" name="Attributes">Attributes</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Attribute</td>
   <td class="header">Type</td>
   <td class="header">Description</td>
  </tr>
  <tr>
   <td><code>bookmarksMenuFolder</code></td>
   <td><code><a href="/en-US/docs/long_long" title="en/long long">long long</a></code></td>
   <td>The item ID of the Bookmarks Menu folder. <strong>Read only.</strong> <div class="note"><strong>Note:</strong> Renamed from <code>bookmarksRoot</code> in Gecko 1.9</div></td>
  </tr>
  <tr>
   <td><code>placesRoot</code></td>
   <td><code><a href="/en-US/docs/long_long" title="en/long long">long long</a></code></td>
   <td>The item ID of the top-level folder that contains bookmarks, tags and all other Places data. This contains administrative data as well as user data, and is therefore not recommended for use in queries. <strong>Read only.</strong></td>
  </tr>
  <tr>
   <td><code>tagsFolder</code></td>
   <td><code><a href="/en-US/docs/long_long" title="en/long long">long long</a></code></td>
   <td>The item ID of the top-level folder that contains the tag "folders". <strong>Read only.</strong> <div class="note"><strong>Note:</strong> Renamed from <code>tagRoot</code> in Gecko 1.9</div></td>
  </tr>
  <tr>
   <td><code>toolbarFolder</code></td>
   <td><code><a href="/en-US/docs/long_long" title="en/long long">long long</a></code></td>
   <td>The item ID of the personal toolbar folder. <strong>Read only.</strong> <div class="note"><strong>Note:</strong> Renamed from <code>toolbarRoot</code> in Gecko 1.9</div></td>
  </tr>
  <tr>
   <td><code>unfiledBookmarksFolder</code></td>
   <td><code><a href="/en-US/docs/long_long" title="en/long long">long long</a></code></td>
   <td>The item ID of the Unfiled Bookmarks folder. <strong>Read only.</strong> </td>
  </tr>
 </tbody>
</table>

<h2 id="Constants" name="Constants">Constants</h2>

<p></p>

<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Constant</td>
   <td class="header">Value</td>
   <td class="header">Description</td>
  </tr>
  <tr>
   <td><code>DEFAULT_INDEX</code></td>
   <td><code>-1</code></td>
   <td>This is the default index; this value should be used for APIs that allow passing in an index where the index is not known or is not required to be specified, such as when appending an item to a folder.</td>
  </tr>
  <tr>
   <td><code>TYPE_BOOKMARK</code></td>
   <td><code>1</code></td>
   <td>This is an index for type "Bookmark".</td>
  </tr>
  <tr>
   <td><code>TYPE_FOLDER</code></td>
   <td><code>2</code></td>
   <td>This is an index for type "Folder".</td>
  </tr>
  <tr>
   <td><code>TYPE_SEPARATOR</code></td>
   <td><code>3</code></td>
   <td>This is an index for type "Separator".</td>
  </tr>
  <tr>
   <td><code>TYPE_DYNAMIC_CONTAINER</code></td>
   <td><code>4</code></td>
   <td>This is an index for type "Dynamic Container". Dynamic containers were removed in Gecko 11, but the type index remains to prevent reuse.</td>
  </tr>
 </tbody>
</table>

<h2 id="Methods" name="Methods">Methods</h2>

<h3 id="addObserver()" name="addObserver()">addObserver()</h3>

<p>This method adds a bookmark observer. If <code>ownsWeak</code> is <code>false</code>, the bookmark service will keep an owning reference to the observer. If <code>ownsWeak</code> is <code>true</code>, then <code>aObserver</code> must implement <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupportsWeakReference" title="">nsISupportsWeakReference</a></code>, and the bookmark service will keep a weak reference to the observer.</p>

<pre class="eval">void addObserver(
  in nsINavBookmarkObserver observer,
  in boolean ownsWeak
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>observer</code></dt>
 <dd>The bookmark observer to be added.</dd>
 <dt><code>ownsWeak</code></dt>
 <dd>The owning reference state <code>(boolean)</code>.</dd>
</dl>

<p></p><div class="headingWithIndicator">
        <h3 id="beginUpdateBatch()">beginUpdateBatch()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 1.9 (Firefox 3)</span>
        </div><p></p>

<p>Causes observers to be notified of a <code>beginUpdateBatch</code> when a lot of things are about to change. Calls can be nested, observers will only be notified when all batches begin/end.</p>

<p>It is EXTREMELY IMPORTANT that you call <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavBookmarksService#EndUpdateBatch()">EndUpdateBatch()</a></code> for each call to <code>beginUpdateBatch</code>. If you do not do this, certain parts of the UI will not get updated and any changes to bookmarks will not get written to disk. From C++ code inside the places component, use nsBookmarksUpdateBatcher defined in nsNavBookmarks.h to scope batches. For JS or from other components, just please be very careful to close the batch, especially when encountering an error and returning early.</p>

<pre class="eval">void beginUpdateBatch();
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<p>None.</p>

<h3 id="changeBookmarkURI()" name="changeBookmarkURI()">changeBookmarkURI()</h3>

<p>This method changes the bookmarked URI for a bookmark. It changes which "place" the bookmark points at, which means all annotations, and so on are carried along.</p>

<pre class="eval">void changeBookmarkURI(
  in nsIURI oldURI, <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3)">Obsolete since Gecko 1.9</span>
  in long long aItemId,
  in nsIURI aNewURI
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>oldURI</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3)">Obsolete since Gecko 1.9</span></dt>
 <dd>The URI of the item to be changed.</dd>
 <dt><code>aItemId</code> </dt>
 <dd>The item whose bookmark URI needs to be changed.</dd>
 <dt><code>aNewURI</code></dt>
 <dd>The new URI.</dd>
</dl>

<p></p><div class="blockIndicator obsolete obsoleteHeader"><p><strong><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span> Obsolete since Gecko 13.0 (Firefox 13.0 / Thunderbird 13.0 / SeaMonkey 2.10)</strong><br>This feature is obsolete. Although it may still work in some browsers, its use is discouraged since it could be removed at any time. Try to avoid using it.</p></div><p></p>

<p>This method creates a dynamic container under the given parent folder.</p>

<pre class="eval">long long createDynamicContainer(
  in long long aParentFolder,
  in AUTF8String aName,
  in AString aContractId,
  in long aIndex
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aParentFolder</code></dt>
 <dd>The ID of the parent folder.</dd>
 <dt><code>aName</code></dt>
 <dd>The name of the new folder.</dd>
 <dt><code>aContractId</code></dt>
 <dd>The contract ID of the service which is to manipulate this container.</dd>
 <dt><code>aIndex</code></dt>
 <dd>The index to insert at, or <code>DEFAULT_INDEX</code> to append to the end of the list.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>Returns the ID of the newly-inserted folder.</p>

<h3 id="createFolder()" name="createFolder()">createFolder()</h3>

<p>This method creates a new child folder and inserts it under the given parent.</p>

<pre class="eval">long long createFolder(
  in long long aParentFolder,
  in AUTF8String name,
  in long index
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aParentFolder</code></dt>
 <dd>The ID of the parent folder.</dd>
 <dt><code>name</code></dt>
 <dd>The name of the new folder.</dd>
 <dt><code>index</code></dt>
 <dd>The index to insert at, or <code>DEFAULT_INDEX</code> to append to the end of the list.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>Returns the ID of the newly-inserted folder.</p>

<p></p><div class="headingWithIndicator">
        <h3 id="endUpdateBatch()">endUpdateBatch()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 1.9 (Firefox 3)</span>
        </div><p></p>

<p>Causes observers to be notified of an <code>endUpdateBatch</code> when a batch is done changing. Should match <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavBookmarksService#beginUpdateBatch()">beginUpdateBatch()</a></code> or bad things will happen.</p>

<pre class="eval">void endUpdateBatch();
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<p>None.</p>

<p></p><div class="headingWithIndicator">
        <h3 id="exportBookmarksHTML()">exportBookmarksHTML()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 1.9 (Firefox 3)</span>
        </div><p></p>

<p>Saves the current bookmarks hierarchy to a bookmarks.html file.</p>

<pre class="eval">void exportBookmarksHTML(
  in nsIFile file
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>file</code></dt>
 <dd>The <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIFile" title="">nsIFile</a></code> to export the bookmarks to.</dd>
</dl>

<h3 id="getBookmarkedURIFor()" name="getBookmarkedURIFor()">getBookmarkedURIFor()</h3>

<p>This method is used to see if the given URI is bookmarked, or any page that redirected to it is bookmarked. For example, if I bookmark <code>"mozilla.org"</code> by manually typing it in, and follow the bookmark, I will get redirected to <code>"www.mozilla.org"</code>. Logically, this new page is also bookmarked. This function, if given <code>"www.mozilla.org"</code>, will return the URI of the bookmark, in this case <code>"mozilla.org"</code>.</p>

<p></p><div class="blockIndicator note"><strong>Note:</strong> Will only return bookmarks in the first 3 levels of redirection (1 -&gt; 2 -&gt; 3 -&gt; aURI).</div><p></p>

<pre class="eval">nsIURI getBookmarkedURIFor(
  in nsIURI aURI
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aURI</code></dt>
 <dd>The URI that needs to be checked if it is bookmarked or not.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="getBookmarkFoldersTArray">getBookmarkFoldersTArray</h3></div><p></p>

<p></p><div class="blockIndicator obsolete obsoleteHeader"><p><strong><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span> Obsolete since Gecko 1.9 (Firefox 3)</strong><br>This feature is obsolete. Although it may still work in some browsers, its use is discouraged since it could be removed at any time. Try to avoid using it.</p></div><p></p>

<p>TArray version of <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavBookmarksService#getBookmarkFolders()">getBookmarkFolders()</a></code> for ease of use in C++ code. Pass in a reference to a TArray; it will get cleared and filled with the resulting list of folder IDs.</p>

<pre class="eval">void getBookmarkFoldersTArray(
  in nsIURI aURI,
  in PRInt64Array aResult
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aURI</code></dt>
 <dd> </dd>
 <dt><code>aResult</code></dt>
 <dd> </dd>
</dl>

<p>Returns an <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIURI" title="">nsIURI</a></code> representing the URI whose bookmark is to be retrieved. If there is no bookmarked page found, it will return <code>null</code>.</p>

<p>This method retrieves the list of bookmark IDs that contain the given URI.</p>

<pre class="eval">void getBookmarkIdsForURI(
  in nsIURI aURI,
  out unsigned long count, <span class="inlineIndicator optional optionalInline">Optional</span>
  [array, retval, size_is(count)] out long long bookmarks
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aURI</code></dt>
 <dd>The URI whose list of bookmark IDs is to be retrieved.</dd>
 <dt><code>count</code></dt>
 <dd>The count of bookmark IDs.</dd>
 <dt><code>bookmarks</code></dt>
 <dd>The list of bookmark IDs.</dd>
</dl>

<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="getBookmarkIdsForURITArray">getBookmarkIdsForURITArray</h3></div><p></p>

<p></p>

<p></p><div class="blockIndicator obsolete obsoleteHeader"><p><strong><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span> Obsolete since Gecko 2.0 (Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)</strong><br>This feature is obsolete. Although it may still work in some browsers, its use is discouraged since it could be removed at any time. Try to avoid using it.</p></div><p></p>

<p>This method is a TArray version of <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavBookmarksService#getBookmarkIdsForURI()">getBookmarkIdsForURI()</a></code> for ease of use in C++ code. Pass in a reference to a TArray; it will get cleared and filled with the resulting list of folder IDs.</p>

<pre class="eval">void getBookmarkIdsForURITArray(
  in nsIURI aURI,
  in PRInt64Array aResult
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aURI</code></dt>
 <dd>The URI whose list of bookmark IDs is to be retrieved.</dd>
 <dt><code>aResult</code></dt>
 <dd>The list of bookmark IDs.</dd>
</dl>

<p></p><h3 id="getBookmarkURI()">getBookmarkURI()</h3><p></p>

<p>This method retrieves the URI for a bookmark item.</p>

<pre class="eval">nsIURI getBookmarkURI(
  in long long aItemId
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aItemId</code></dt>
 <dd>The ID of the bookmark item whose URI is to be retrieved.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>Returns a <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIURI" title="">nsIURI</a></code> representing the URI of the bookmark.</p>

<p></p><div class="headingWithIndicator">
        <h3 id="getChildFolder()">getChildFolder()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 2.0 (Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)</span>
        </div><p></p>

<p>This method retrieves the ID of a child folder with the given name. This does not recurse, so you have to give it an immediate sibling of the given folder.</p>

<pre class="eval">long long getChildFolder(
  in long long aFolder,
  in AString aSubFolder
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aFolder</code></dt>
 <dd>Parent folder whose children we will search.</dd>
 <dt><code>aSubFolder</code></dt>
 <dd>Name of the folder to search for in folder.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>Returns the ID of a child folder with the given name. If the given subfolder doesn't exist, 0 is returned.</p>

<p></p><h3 id="getFolderIdForItem()">getFolderIdForItem()</h3><p></p>

<p>This method retrieves the parent folder's ID for an item.</p>

<pre class="eval">long long getFolderIdForItem(
  in long long aItemId
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aItemId</code></dt>
 <dd>The item whose parent folder's ID is to retrieved.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>Returns the parent folder's ID for the given item.</p>

<h3 id="getFolderReadonly()" name="getFolderReadonly()">getFolderReadonly()</h3>

<p>This method checks whether a folder is marked as read-only. If this is set to <code>true</code>, UI will not allow the user to add, remove, or reorder children in this folder. The default for all folders is <code>false</code>.</p>

<p></p><div class="blockIndicator note"><strong>Note:</strong> This does not restrict API calls, only UI actions.</div><p></p>

<pre class="eval">boolean getFolderReadonly(
  in long long aItemId
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aItemId</code></dt>
 <dd>The item ID of the folder.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>Returns <code>true</code> if the folder is marked as read-only, otherwise returns <code>false</code>.</p>

<p></p><div class="headingWithIndicator">
        <h3 id="getFolderTitle()">getFolderTitle()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 1.9 (Firefox 3)</span>
        </div><p></p>

<p></p><div class="blockIndicator note"><strong>Note:</strong> <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavBookmarksService#getItemTitle()">getItemTitle()</a></code> provides an alternative for this method.</div><p></p>

<p>Get the title for a bookmark folder.</p>

<pre class="eval">AString getFolderTitle(
  in PRInt64 folder
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>folder</code></dt>
 <dd>The folder whose title should be retrieved.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>The title of the folder.</p>

<h6 id="Exceptions_thrown" name="Exceptions_thrown">Exceptions thrown</h6>

<dl>
 <dt><code>invalid argument exception</code></dt>
 <dd>If it can not find a folder with the given ID.</dd>
</dl>

<p></p><div class="headingWithIndicator">
        <h3 id="getFolderURI()">getFolderURI()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 1.9 (Firefox 3)</span>
        </div><p></p>

<p></p><div class="blockIndicator note"><strong>Note:</strong> <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavBookmarksService#getBookmarkURI()">getBookmarkURI()</a></code> provides an alternative for this method.</div><p></p>

<p>Get the url for a bookmark folder.</p>

<pre class="eval">nsIURI getFolderURI(
  in PRInt64 folder
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>folder</code></dt>
 <dd>The folder whose URI should be retrieved.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>The URI of the folder.</p>

<p></p><h3 id="getIdForItemAt()">getIdForItemAt()</h3><p></p>

<p>Returns the item ID for the item at the specified index within a particular folder.</p>

<pre class="eval">long long getIdForItemAt(
  in long long aParentId,
  in long aIndex
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aParentId</code></dt>
 <dd>The ID of the direct parent folder of the item whose ID is to be obtained.</dd>
 <dt><code>aIndex</code></dt>
 <dd>The index of the item within the folder specified by <code>aParentID</code> for the item whose ID is to be returned. Specify <code>DEFAULT_INDEX</code> to return the last item in the folder.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>The item ID for the specified item or -1 if the item does not exist.</p>

<p></p><h3 id="getItemDateAdded()">getItemDateAdded()</h3><p></p>

<p>This method retrieves the date added time for an item.</p>

<pre class="eval">PRTime getItemDateAdded(
  in long long aItemId
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aItemId</code></dt>
 <dd>The ID of the item whose added date time is to be retrieved.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>Returns the date added time for the given item.</p>

<p></p><h3 id="getItemGUID()">getItemGUID()</h3><p></p>

<p></p><div class="blockIndicator obsolete obsoleteHeader"><p><strong><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span> Obsolete since Gecko 14.0 (Firefox 14.0 / Thunderbird 14.0 / SeaMonkey 2.11)</strong><br>This feature is obsolete. Although it may still work in some browsers, its use is discouraged since it could be removed at any time. Try to avoid using it.</p></div><p></p>

<p>This method retrieves a globally unique identifier for an item, meant to be used in sync scenarios. Even if their contents are exactly the same (including an item in a different profile with the same ItemId), the GUID would be different.</p>

<pre class="eval">AString getItemGUID(
  in long long aItemId
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aItemId</code></dt>
 <dd>The ID of the item to get the GUID for.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>Returns the GUID string.</p>

<p></p><h3 id="getItemIdForGUID()">getItemIdForGUID()</h3><p></p>

<p></p><div class="blockIndicator obsolete obsoleteHeader"><p><strong><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span> Obsolete since Gecko 14.0 (Firefox 14.0 / Thunderbird 14.0 / SeaMonkey 2.11)</strong><br>This feature is obsolete. Although it may still work in some browsers, its use is discouraged since it could be removed at any time. Try to avoid using it.</p></div><p></p>

<p>This method retrieves the ID of the item with the given GUID.</p>

<pre class="eval">long long getItemIdForGUID(
  in AString aGUID
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aGUID</code></dt>
 <dd>The GUID string of the item to search for.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>Returns the item ID, or <code>-1</code> if not found.</p>

<p></p><h3 id="getItemIndex()">getItemIndex()</h3><p></p>

<p>This method retrieves the index for an item.</p>

<pre class="eval">long getItemIndex(
  in long long aItemId
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aItemId</code></dt>
 <dd>The ID of the item whose index is to be retrieved.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>Returns the index of the given item.</p>

<p></p><h3 id="getItemLastModified()">getItemLastModified()</h3><p></p>

<p>This method retrieves the last modified time for an item.</p>

<p></p><div class="blockIndicator note"><strong>Note:</strong> When an item is added lastModified is set to the same value as dateAdded.</div><p></p>

<pre class="eval">PRTime getItemLastModified(
  in long long aItemId
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aItemId</code></dt>
 <dd>The ID of the item whose last modified time is to be retrieved.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>Returns the last modified time for the given item.</p>

<h3 id="getItemTitle()" name="getItemTitle()">getItemTitle()</h3>

<p>This method retrieves the title for an item. If no item title is available it will return a <code>void</code> string (<code>null</code> in JS environment).</p>

<pre class="eval">AUTF8String getItemTitle(
  in nsIURI uri, <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3)">Obsolete since Gecko 1.9</span>
  in long long aItemId
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>uri</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3)">Obsolete since Gecko 1.9</span></dt>
 <dd>The URI of the item whose title should be retrieved.</dd>
 <dt><code>aItemId</code> </dt>
 <dd>The ID of the item whose title should be retrieved.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>Returns the title of the item.</p>

<p></p><h3 id="getItemType()">getItemType()</h3><p></p>

<p>This method retrieves an item's type (bookmark, separator, folder). The type is one of the <code>TYPE_*</code> constants defined above.</p>

<pre class="eval">unsigned short getItemType(
  in long long aItemId
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aItemId</code></dt>
 <dd>The ID of the item whose type is to be retrieved.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>Returns one of the above defined <code>TYPE_*</code> for the given item.</p>

<p></p><h3 id="getKeywordForBookmark()">getKeywordForBookmark()</h3><p></p>

<p></p><div class="blockIndicator obsolete obsoleteHeader"><p><strong><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span> Obsolete since Gecko 40.0 (Firefox 40.0 / Thunderbird 40.0 / SeaMonkey 2.37)</strong><br>This feature is obsolete. Although it may still work in some browsers, its use is discouraged since it could be removed at any time. Try to avoid using it.</p></div><p></p>

<p></p><div class="blockIndicator note"><strong>Note:</strong> See <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1187119">Bug 1187119</a> for alternative.</div><p></p>

<p>This method retrieves the keyword for the given bookmark. Will be <code>void</code> string (<code>null</code> in JS) if no such keyword is found.</p>

<pre class="eval">AString getKeywordForBookmark(
  in long long aItemId
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aItemId</code></dt>
 <dd>The item (bookmark) whose keyword is to be retrieved.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>Returns the keyword for the given bookmark.</p>

<h3 id="getKeywordForURI()" name="getKeywordForURI()">getKeywordForURI()</h3>

<p></p><div class="blockIndicator obsolete obsoleteHeader"><p><strong><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span> Obsolete since Gecko 40.0 (Firefox 40.0 / Thunderbird 40.0 / SeaMonkey 2.37)</strong><br>This feature is obsolete. Although it may still work in some browsers, its use is discouraged since it could be removed at any time. Try to avoid using it.</p></div><p></p>

<p>This method retrieves the keyword for the given URI. Will be <code>void</code> string (<code>null</code> in JS) if no such keyword is found.</p>

<pre class="eval">AString getKeywordForURI(
  in nsIURI aURI
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aURI</code></dt>
 <dd>The URI whose keyword is to be retrieved.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>Returns the keyword for the given URI.</p>

<h3 id="getRemoveFolderTransaction()" name="getRemoveFolderTransaction()">getRemoveFolderTransaction()</h3>

<p>This method retrieves an undo-able transaction for removing a folder from the bookmarks tree. This method exists because complex delete-&gt;undo operations rely on recreated folders to have the same ID they had before they were deleted, so that any other items deleted in different transactions can be re-inserted correctly. This provides a safe encapsulation of this functionality without exposing the ability to recreate folders with specific IDs (potentially dangerous if abused by other code!) in the public API.</p>

<pre class="eval">nsITransaction getRemoveFolderTransaction(
  in long long aItemId
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aItemId</code></dt>
 <dd>The ID of the folder to remove.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>Returns an object implementing <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITransaction" title="">nsITransaction</a></code> that can be used to undo or redo the action.</p>

<h3 id="getURIForKeyword()" name="getURIForKeyword()">getURIForKeyword()</h3>

<p></p><div class="blockIndicator obsolete obsoleteHeader"><p><strong><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span> Obsolete since Gecko 40.0 (Firefox 40.0 / Thunderbird 40.0 / SeaMonkey 2.37)</strong><br>This feature is obsolete. Although it may still work in some browsers, its use is discouraged since it could be removed at any time. Try to avoid using it.</p></div><p></p>

<p>This method retrieves the URI associated with the given keyword.</p>

<pre class="eval">nsIURI getURIForKeyword(
  in AString keyword
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>keyword</code></dt>
 <dd>The keyword whose URI is to be retrieved.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>Returns a <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIURI" title="">nsIURI</a></code> representing the URI associated with the given keyword. Empty if no such keyword is found.</p>

<p></p><div class="headingWithIndicator">
        <h3 id="importBookmarksHTML()">importBookmarksHTML()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 1.9 (Firefox 3)</span>
        </div><p></p>

<p>Loads the given bookmarks.html file and merges it with the current bookmarks hierarchy.</p>

<pre class="eval">void importBookmarksHTML(
  in nsIURI url
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>url</code></dt>
 <dd>The url of the bookmarks.html file to be merged.</dd>
</dl>

<p></p><div class="headingWithIndicator">
        <h3 id="importBookmarksHTMLToFolder()">importBookmarksHTMLToFolder()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 1.9 (Firefox 3)</span>
        </div><p></p>

<p>Loads the given bookmarks.html file and puts it in the given folder.</p>

<pre class="eval">void importBookmarksHTMLToFolder(
  in nsIURI url,
  in PRInt64 folder
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>url</code></dt>
 <dd>The url of the bookmarks.html file to be imported.</dd>
 <dt><code>folder</code></dt>
 <dd>The folder where the bookmarks should be imported.</dd>
</dl>

<p></p><div class="headingWithIndicator">
        <h3 id="indexOfFolder()">indexOfFolder()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 1.9 (Firefox 3)</span>
        </div><p></p>

<p></p><div class="blockIndicator note"><strong>Note:</strong> <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavBookmarksService#getItemIndex()">getItemIndex()</a></code> provides an alternative for this method.</div><p></p>

<p>Returns the index of the given subfolder in its parent.</p>

<pre class="eval">PRInt32 indexOfFolder(
  in PRInt64 parent,
  in PRInt64 folder
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>parent</code></dt>
 <dd>The parent folder containing the folder.</dd>
 <dt><code>folder</code></dt>
 <dd>The ID of the folder.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>The index of the subfolder or -1 if the subfolder is not present in the parent folder.</p>

<p></p><div class="headingWithIndicator">
        <h3 id="indexOfItem()">indexOfItem()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 1.9 (Firefox 3)</span>
        </div><p></p>

<p></p><div class="blockIndicator note"><strong>Note:</strong> <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavBookmarksService#getItemIndex()">getItemIndex()</a></code> provides an alternative for this method.</div><p></p>

<p>Returns the index of the given item in the given folder.</p>

<pre class="eval">PRInt32 indexOfItem(
  in PRInt64 folder,
  in nsIURI uri
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>folder</code></dt>
 <dd>The folder containing the item.</dd>
 <dt><code>uri</code></dt>
 <dd>The uri of the item.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>The index of the item or -1 if the item is not present in the folder.</p>

<p></p><h3 id="insertBookmark()">insertBookmark()</h3><p></p>

<p>This method inserts a child bookmark into the given folder.</p>

<pre class="eval">long long insertBookmark(
  in long long aParentId,
  in nsIURI aURI,
  in long aIndex,
  in AUTF8String aTitle
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aParentId</code></dt>
 <dd>The ID of the parent folder.</dd>
 <dt><code>aURI</code></dt>
 <dd>The URI to insert.</dd>
 <dt><code>aIndex</code></dt>
 <dd>The index to insert at, or <code>DEFAULT_INDEX</code> to append to the end of the list.</dd>
 <dt><code>aTitle</code></dt>
 <dd>The title for the new bookmark.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>Returns the ID of the newly-created bookmark.</p>

<p></p><div class="headingWithIndicator">
        <h3 id="insertItem()">insertItem()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 1.9 (Firefox 3)</span>
        </div><p></p>

<p></p><div class="blockIndicator note"><strong>Note:</strong> <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavBookmarksService#insertBookmark()">insertBookmark()</a></code> provides an alternative for this method.</div><p></p>

<p>Inserts a child item into the given folder. If this item already exists in the given folder, it will be moved to the new position.</p>

<pre class="eval">void insertItem(
  in PRInt64 folder,
  in nsIURI item,
  in PRInt32 index
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>folder</code></dt>
 <dd>The id of the parent folder.</dd>
 <dt><code>item</code></dt>
 <dd>The URI to insert.</dd>
 <dt><code>index</code></dt>
 <dd>The index to insert at, or -1 to append.</dd>
</dl>

<h3 id="insertSeparator()" name="insertSeparator()">insertSeparator()</h3>

<p>This method inserts a bookmark separator into the given folder at the given index. The separator can be removed using <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavBookmarksService#getIdForItemAt()">getIdForItemAt()</a></code> and <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavBookmarksService#removeItem()">removeItem()</a></code>.</p>

<pre class="eval">long long insertSeparator(
  in long long aParentId,
  in long aIndex
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aParentId</code></dt>
 <dd>The ID of the parent folder in which to insert the separator.</dd>
 <dt><code>aIndex</code></dt>
 <dd>The separator's index under the folder, or <code>DEFAULT_INDEX</code> to append to the end of the list.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>The ID of the new separator.</p>

<h3 id="isBookmarked()" name="isBookmarked()">isBookmarked()</h3>

<p>This method checks whether or not the given URI is in any bookmark folder. If you want the results to be redirect-aware, use <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavBookmarksService#getBookmarkedURIFor()">getBookmarkedURIFor()</a></code></p>

<pre class="eval">boolean isBookmarked(
  in nsIURI aURI
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aURI</code></dt>
 <dd>The URI whose existence in any bookmark folder is needed to be checked.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>Returns <code>true</code> if the given URI is in any bookmark folder, otherwise returns <code>false</code>.</p>

<p></p><div class="headingWithIndicator">
        <h3 id="moveFolder()">moveFolder()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 1.9 (Firefox 3)</span>
        </div><p></p>

<p></p><div class="blockIndicator note"><strong>Note:</strong> <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavBookmarksService#moveItem()">moveItem()</a></code> provides an alternative for this method.</div><p></p>

<p>Moves a folder to a different container, preserving its contents.</p>

<pre class="eval">void moveFolder(
  in PRInt64 folder,
  in PRInt64 newParent,
  in PRInt32 index
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>folder</code></dt>
 <dd>The folder to move.</dd>
 <dt><code>newParent</code></dt>
 <dd>The id of the folder's new parent.</dd>
 <dt><code>index</code></dt>
 <dd>The folder's index under newParent, or -1 to append.</dd>
</dl>

<p></p><h3 id="moveItem()">moveItem()</h3><p></p>

<p>This method moves an item to a different container, preserving its contents.</p>

<p></p><div class="blockIndicator note"><strong>Note:</strong> When moving down in the same container we take into account the removal of the original item. If you want to move from index X to index Y &gt; X you must use moveItem(id, folder, Y + 1)</div><p></p>

<pre class="eval">void moveItem(
  in long long aItemId,
  in long long aNewParentId,
  in long aIndex
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aItemId</code></dt>
 <dd>The ID of the item to move.</dd>
 <dt><code>aNewParentId</code></dt>
 <dd>The ID of the new parent.</dd>
 <dt><code>aIndex</code></dt>
 <dd>The index under <code>aNewParentId</code> to insert at, or <code>DEFAULT_INDEX</code> to append to the end of the list.</dd>
</dl>

<p></p><div class="headingWithIndicator">
        <h3 id="removeChildAt()">removeChildAt()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 2.0 (Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)</span>
        </div><p></p>

<p>Use <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavBookmarksService#removeItem()">removeItem()</a></code> instead.</p>

<p>This method removes any type of child (item, folder, or separator) at the given index.</p>

<pre class="eval">void removeChildAt(
  in long long aFolder,
  in long aIndex
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aFolder</code></dt>
 <dd>The folder to remove a child from.</dd>
 <dt><code>aIndex</code></dt>
 <dd>The index of the child to remove.</dd>
</dl>

<p></p><div class="headingWithIndicator">
        <h3 id="removeFolder()">removeFolder()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 2.0 (Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)</span>
        </div><p></p>

<p>Use <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavBookmarksService#removeItem()">removeItem()</a></code> instead.</p>

<p>This method removes a folder from the bookmarks tree.</p>

<pre class="eval">void removeFolder(
  in long long aFolder
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aFolder</code></dt>
 <dd>The ID of the folder to remove.</dd>
</dl>

<h3 id="removeFolderChildren()" name="removeFolderChildren()">removeFolderChildren()</h3>

<p>This method removes all children of the given folder. Its a Convenience function for container services.</p>

<pre class="eval">void removeFolderChildren(
  in long long aItemId
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aItemId</code></dt>
 <dd>The ID of the folder to remove children from.</dd>
</dl>

<h3 id="removeItem()" name="removeItem()">removeItem()</h3>

<p>This method removes a child item. It is used to delete a bookmark or a separator.</p>

<pre class="eval">void removeItem(
  in PRInt64 folder, <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3)">Obsolete since Gecko 1.9</span>
  in nsIURI child, <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3)">Obsolete since Gecko 1.9</span>
  in long long aItemId
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>folder</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3)">Obsolete since Gecko 1.9</span></dt>
 <dd>The ID of the items parent folder.</dd>
 <dt><code>folder</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3)">Obsolete since Gecko 1.9</span></dt>
 <dd>The URI of the item to remove.</dd>
 <dt><code>aItemId</code> </dt>
 <dd>The child item to remove.</dd>
</dl>

<h3 id="removeObserver()" name="removeObserver()">removeObserver()</h3>

<p>This method removes a bookmark observer.</p>

<pre class="eval">void removeObserver(
  in nsINavBookmarkObserver observer
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>observer</code></dt>
 <dd>The bookmark observer to be removed.</dd>
</dl>

<p></p><div class="headingWithIndicator">
        <h3 id="replaceItem()">replaceItem()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 1.9 (Firefox 3)</span>
        </div><p></p>

<p>Replace an item with a different item.</p>

<pre class="eval">void replaceItem(
  in PRInt64 folder,
  in nsIURI item,
  in nsIURI newItem
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>folder</code></dt>
 <dd>The folder which contains the item to replace.</dd>
 <dt><code>item</code></dt>
 <dd>The item which should be replaced.</dd>
 <dt><code>newItem</code></dt>
 <dd>The new item.</dd>
</dl>

<p></p><h3 id="runInBatchMode()">runInBatchMode()</h3><p></p>

<p>This method runs the passed callback in batch mode (Inside a database transaction). Use this when a lot of things are about to change, for example adding or deleting a large number of bookmark items. Calls can be nested. Observers are notified when batches begin and end, via <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsINavBookmarkObserver#onBeginUpdateBatch()">nsINavBookmarkObserver.onBeginUpdateBatch()</a></code> and <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsINavBookmarkObserver#onEndUpdateBatch()">nsINavBookmarkObserver.onEndUpdateBatch()</a></code>.</p>

<pre class="eval">void runInBatchMode(
  in nsINavHistoryBatchCallback aCallback,
  in nsISupports aUserData
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aCallback</code></dt>
 <dd><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavHistoryBatchCallback" title="">nsINavHistoryBatchCallback</a></code> interface to call.</dd>
 <dt><code>aUserData</code></dt>
 <dd>Opaque parameter passed to <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavBookmarksBatchCallback" title="">nsINavBookmarksBatchCallback</a></code>.</dd>
</dl>

<p></p><h3 id="setFolderReadonly()">setFolderReadonly()</h3><p></p>

<p>This method sets or unsets the readonly flag from a folder. If this is set to <code>true</code>, UI will not allow the user to add, remove, or reorder children in this folder. The default for all folders is <code>false</code>.</p>

<p></p><div class="blockIndicator note"><strong>Note:</strong> This does not restrict API calls, only UI actions.</div><p></p>

<pre class="eval">void setFolderReadonly(
  in long long aFolder,
  in boolean aReadOnly
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aFolder</code></dt>
 <dd>The item-id of the folder.</dd>
 <dt><code>aReadOnly</code></dt>
 <dd>The read-only state.</dd>
</dl>

<p></p><div class="headingWithIndicator">
        <h3 id="setFolderTitle()">setFolderTitle()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 1.9 (Firefox 3)</span>
        </div><p></p>

<p></p><div class="blockIndicator note"><strong>Note:</strong> <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavBookmarksService#setItemTitle()">setItemTitle()</a></code> provides an alternative for this method.</div><p></p>

<p>Set the title for a bookmark folder.</p>

<pre class="eval">void setFolderTitle(
  in PRInt64 folder,
  in AString title
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>folder</code></dt>
 <dd>The folder whose title should be set.</dd>
 <dt><code>title</code></dt>
 <dd>The new title for the folder.</dd>
</dl>

<p></p><h3 id="setItemDateAdded()">setItemDateAdded()</h3><p></p>

<p>This method sets the date added time for an item.</p>

<pre class="eval">void setItemDateAdded(
  in long long aItemId,
  in PRTime aDateAdded
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aItemId</code></dt>
 <dd>The ID of the item whose added date time is to be set.</dd>
 <dt><code>aDateAdded</code></dt>
 <dd>The added date of the item.</dd>
</dl>

<p></p><h3 id="setItemGUID()">setItemGUID()</h3><p></p>

<p></p><div class="blockIndicator obsolete obsoleteHeader"><p><strong><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span> Obsolete since Gecko 14.0 (Firefox 14.0 / Thunderbird 14.0 / SeaMonkey 2.11)</strong><br>This feature is obsolete. Although it may still work in some browsers, its use is discouraged since it could be removed at any time. Try to avoid using it.</p></div><p></p>

<p>This method sets a globally unique identifier. This can be useful when a sync algorithm deems two independently created items (on different profiles) to be the same item.</p>

<pre class="eval">void setItemGUID(
  in long long aItemId,
  in AString aGUID
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aItemId</code></dt>
 <dd>The ID of the item to set the GUID of.</dd>
 <dt><code>aGUID</code></dt>
 <dd>The GUID string.</dd>
</dl>

<p></p><h3 id="setItemIndex()">setItemIndex()</h3><p></p>

<p>This method changes the index for a item. This method does not change the indices of any other items in the same folder, so ensure that the new index does not already exist, or change the index of other items accordingly, otherwise the indices will become corrupted.</p>

<p></p><div class="blockIndicator warning">
    <p><strong>Warning:</strong> This is API is intended for scenarios such as folder sorting, where the caller manages the indices of <strong>all</strong> items in the folder. You must always ensure each index is unique after a reordering.</p>
</div><p></p>

<pre class="eval">void setItemIndex(
  in long long aItemId,
  in long aNewIndex
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aItemId</code></dt>
 <dd>The ID of the item to modify.</dd>
 <dt><code>aNewIndex</code></dt>
 <dd>The new index.</dd>
</dl>

<h6 id="Exceptions_thrown" name="Exceptions_thrown">Exceptions thrown</h6>

<dl>
 <dt> </dt>
 <dd>If aNewIndex is out of bounds.</dd>
</dl>

<p></p><h3 id="setItemLastModified()">setItemLastModified()</h3><p></p>

<p>This method sets the last modified time for an item.</p>

<p></p><div class="blockIndicator note"><strong>Note:</strong> This is the only method that will send an itemChanged notification for the property. lastModified will still be updated in any other method that changes an item property, but we will send the corresponding itemChanged notification instead.</div><p></p>

<pre class="eval">void setItemLastModified(
  in long long aItemId,
  in PRTime aLastModified
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aItemId</code></dt>
 <dd>The ID of the item whose last modified time is to be set.</dd>
 <dt><code>aLastModified</code></dt>
 <dd>The last modified time of the item.</dd>
</dl>

<h3 id="setItemTitle()" name="setItemTitle()">setItemTitle()</h3>

<p>This method sets the title for an item.</p>

<pre class="eval">void setItemTitle(
  in nsIURI uri, <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3)">Obsolete since Gecko 1.9</span>
  in long long aItemId,
  in AUTF8String aTitle
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>uri</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3)">Obsolete since Gecko 1.9</span></dt>
 <dd>The URI of the item whose title should be updated. </dd>
 <dt><code>aItemId</code></dt>
 <dd>The ID of the item whose title should be updated.</dd>
 <dt><code>aTitle</code></dt>
 <dd>The new title for the bookmark. Will be truncated to TITLE_LENGTH_MAX.</dd>
</dl>

<p></p><h3 id="setKeywordForBookmark()">setKeywordForBookmark()</h3><p></p>

<p><span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 40.0 / Thunderbird 40.0 / SeaMonkey 2.37)">Obsolete since Gecko 40.0</span></p>

<p></p><div class="blockIndicator note"><strong>Note:</strong> <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1187119">Bug 1187119</a> provides an alternative for this method.</div><p></p>

<p>This method associates the given keyword with the given bookmark.</p>

<p>Use an empty keyword to clear the keyword associated with the URI. In both of these cases, succeeds but does nothing if the URL/keyword is not found.</p>

<pre class="eval">void setKeywordForBookmark(
  in long long aItemId,
  in AString aKeyword
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aItemId</code></dt>
 <dd>The item (bookmark) that needs to be associated with the keyword.</dd>
 <dt><code>aKeyword</code></dt>
 <dd>The keyword that needs to be associated with the item (bookmark).</dd>
</dl>

<p></p><div class="headingWithIndicator">
        <h3 id="setKeywordForURI()">setKeywordForURI()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 1.9 (Firefox 3)</span>
        </div><p></p>

<p></p><div class="blockIndicator note"><strong>Note:</strong> <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1187119">Bug 1187119</a> provides an alternative for this method.</div><p></p>

<p>Associates the given keyword with the given URI.</p>

<p>Use an empty keyword to clear the keyword associated with the URI. Use an empty URI to clear the URI associated with that keyword. In both of these cases, succeeds but does nothing if the URL/keyword is not found.</p>

<p>When setting a keyword (both URI and keyword are specified), the URI must be bookmarked for the keyword to be persistent.</p>

<pre class="eval">void setKeywordForURI(
  in nsIURI uri,
  in AString keyword
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>uri</code></dt>
 <dd>The URI of the bookmark.</dd>
 <dt><code>keyword</code></dt>
 <dd>The keyword that needs to be associated with the URI.</dd>
</dl>

<h2 id="See_also" name="See_also">See also</h2>

<ul>
 <li><a href="/en-US/docs/Places" title="en/Places">Places</a></li>
 <li><a href="/en-US/docs/Manipulating_bookmarks_using_Places" title="en/Manipulating_bookmarks_using_Places">Manipulating bookmarks using Places</a></li>
 <li><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITransaction" title="">nsITransaction</a></code></li>
 <li><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavBookmarkObserver" title="">nsINavBookmarkObserver</a></code></li>
 <li><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavHistoryBatchCallback" title="">nsINavHistoryBatchCallback</a></code></li>
</ul>
