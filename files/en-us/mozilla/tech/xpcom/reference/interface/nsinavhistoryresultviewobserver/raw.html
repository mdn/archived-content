<p></p>
<p></p><div style="border: solid #ddd 2px; margin-bottom: 12px;">
<div style="background: #eee; padding: 2px;"><code><a href="https://dxr.mozilla.org/mozilla-central/source/toolkit/components/places/public/nsINavHistoryService.idl" rel="custom">toolkit/components/places/public/nsINavHistoryService.idl</a></code><span style="text-align: right; float: right;"><a href="/en-US/docs/Interfaces/About_Scriptable_Interfaces" style="color: #00cc00; font-weight: 700;">Scriptable</a></span></div>
<span style="padding: 4px 2px;">

This interface is used by clients of the history results to define domain-specific handling of specific <code><a href="/en/XPCOM_Interface_Reference/nsITreeView" title="en/XPCOM_Interface_Reference/nsITreeView">nsITreeView</a></code> methods that the history result doesn't implement.
</span>

<div style="background: #eee; padding: 2px;">
Inherits from: <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">nsISupports</a></code>
<span style="text-align: right; float: right;">Last changed in Gecko 1.9.0 </span></div>
</div><p></p>
<h2 id="Method_overview" name="Method_overview">Method overview</h2>
<table class="standard-table">
 <tbody>
  <tr>
   <td><code>boolean <a href="#canDrop.28.29">canDrop</a>(in long index, in long orientation);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#onDrop.28.29">onDrop</a>(in long row, in long orientation);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#onToggleOpenState.28.29">onToggleOpenState</a>(in long index);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#onCycleHeader.28.29">onCycleHeader</a>(in nsITreeColumn column);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#onCycleCell.28.29">onCycleCell</a>(in long row, in nsITreeColumn column);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#onSelectionChanged.28.29">onSelectionChanged</a>();</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#onPerformAction.28.29">onPerformAction</a>(in wstring action);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#onPerformActionOnRow.28.29">onPerformActionOnRow</a>(in wstring action, in long row);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#onPerformActionOnCell.28.29">onPerformActionOnCell</a>(in wstring action, in long row, in nsITreeColumn column);</code></td>
  </tr>
 </tbody>
</table>
<h2 id="Constants" name="Constants">Constants</h2>
<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Constant</td>
   <td class="header">Value</td>
   <td class="header">Description</td>
  </tr>
  <tr>
   <td><code>DROP_BEFORE</code></td>
   <td>-1</td>
   <td>The drag operation wishes to insert the dragged item before the indicated row.</td>
  </tr>
  <tr>
   <td><code>DROP_ON</code></td>
   <td>0</td>
   <td>The drag operation wishes to drop the dragged item onto the indicated row.</td>
  </tr>
  <tr>
   <td><code>DROP_AFTER</code></td>
   <td>1</td>
   <td>The drag operation wishes to insert the dragged item after the indicated row.</td>
  </tr>
 </tbody>
</table>
<h2 id="Methods" name="Methods">Methods</h2>
<h3 id="canDrop.28.29" name="canDrop.28.29">canDrop()</h3>
<p>Implement this method to report whether or not a drop is permitted onto the specified location.</p>
<p>To provide behavior similar to the folder pane in Thunderbird, where drops are only permitted on items themselves instead of on the pane as a whole, always return false when the orientation isn't <code>DROP_ON</code>.</p>
<div class="warning">
 <strong>Warning:</strong> Do not change the content of the observer list.</div>
<pre class="eval"> boolean canDrop(
   in long index,
   in long orientation
 );
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>index</code></dt>
 <dd>
  The item over which the drag is currently located.</dd>
 <dt>
  <code>orientation</code></dt>
 <dd>
  Whether the drag target is before, after, or on the indicated row.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>Return <code>true</code> if the drop is permitted or <code>false</code> if it isn't.</p>
<h3 id="onDrop.28.29" name="onDrop.28.29">onDrop()</h3>
<p>Called when the user drops something onto the view being observed.</p>
<pre class="eval"> void onDrop(
   in long row,
   in long orientation
 );
</pre>
<h6 id="Parameters_2" name="Parameters_2">Parameters</h6>
<dl>
 <dt>
  <code>row</code></dt>
 <dd>
  The row at which the drop occurred.</dd>
 <dt>
  <code>orientation</code></dt>
 <dd>
  <code>DROP_BEFORE</code>, <code>DROP_ON</code>, or <code>DROP_AFTER</code>, indicating whether the drop destination is before, on, or after the target row.</dd>
</dl>
<h3 id="onToggleOpenState.28.29" name="onToggleOpenState.28.29">onToggleOpenState()</h3>
<p>Called when an item is opened or closed.</p>
<pre class="eval"> void onToggleOpenState(
   in long index
 );
</pre>
<h6 id="Parameters_3" name="Parameters_3">Parameters</h6>
<dl>
 <dt>
  <code>index</code></dt>
 <dd>
  The item being toggled.</dd>
</dl>
<h3 id="onCycleHeader.28.29" name="onCycleHeader.28.29">onCycleHeader()</h3>
<p>Called when a header is clicked.</p>
<pre class="eval"> void onCycleHeader(
   in nsITreeColumn column
 );
</pre>
<h6 id="Parameters_4" name="Parameters_4">Parameters</h6>
<dl>
 <dt>
  <code>column</code></dt>
 <dd>
  The column whose header was clicked.</dd>
</dl>
<h3 id="onCycleCell.28.29" name="onCycleCell.28.29">onCycleCell()</h3>
<p>Called when a cell in a non-selectable cycling column (such as unread or flagged in Thunderbird) is clicked.</p>
<pre class="eval"> void onCycleCell(
   in long row,
   in nsITreeColumn column
 );
</pre>
<h6 id="Parameters_5" name="Parameters_5">Parameters</h6>
<dl>
 <dt>
  <code>row</code></dt>
 <dd>
  The row on which the clicked cell is located.</dd>
 <dt>
  <code>column</code></dt>
 <dd>
  The column in which the clicked cell is located.</dd>
</dl>
<h3 id="onSelectionChanged.28.29" name="onSelectionChanged.28.29">onSelectionChanged()</h3>
<p>Called when the selection in the tree changes.</p>
<pre class="eval"> void onSelectionChanged();
</pre>
<h6 id="Parameters_6" name="Parameters_6">Parameters</h6>
<p>None.</p>
<h3 id="onPerformAction.28.29" name="onPerformAction.28.29">onPerformAction()</h3>
<p>This method provides a command API that can be used to invoke commands on the selection. The tree automatically invokes this method when certain keys are pressed. For example, when the delete key is pressed, this method is called with the string "delete".</p>
<pre class="eval"> void onPerformAction(
   in wstring action
 );
</pre>
<h6 id="Parameters_7" name="Parameters_7">Parameters</h6>
<dl>
 <dt>
  <code>action</code></dt>
 <dd>
  A string identifying the action to be performed.</dd>
</dl>
<h3 id="onPerformActionOnRow.28.29" name="onPerformActionOnRow.28.29">onPerformActionOnRow()</h3>
<p>This method provides a command API that can be used to invoke commands on the specified row. The tree automatically invokes this method when certain keys are pressed. For example, when the delete key is pressed, this method is called with the string "delete".</p>
<pre class="eval"> void onPerformActionOnRow(
   in wstring action,
   in long row
 );
</pre>
<h6 id="Parameters_8" name="Parameters_8">Parameters</h6>
<dl>
 <dt>
  <code>action</code></dt>
 <dd>
  A string identifying the action to be performed.</dd>
 <dt>
  <code>row</code></dt>
 <dd>
  The row on which to perform the action.</dd>
</dl>
<h3 id="onPerformActionOnCell.28.29" name="onPerformActionOnCell.28.29">onPerformActionOnCell()</h3>
<p>This method provides a command API that can be used to invoke commands on a specified cell. The tree automatically invokes this method when certain keys are pressed. For example, when the delete key is pressed, this method is called with the string "delete".</p>
<pre class="eval"> void onPerformActionOnCell(
   in wstring action,
   in long row,
   in nsITreeColumn column
 );
</pre>
<h6 id="Parameters_9" name="Parameters_9">Parameters</h6>
<dl>
 <dt>
  <code>action</code></dt>
 <dd>
  A string identifying the action to be performed.</dd>
 <dt>
  <code>row</code></dt>
 <dd>
  The row in which the cell to perform the action upon is located.</dd>
 <dt>
  <code>column</code></dt>
 <dd>
  The column in which the cell is located.</dd>
</dl>
<h2 id="See_also" name="See_also">See also</h2>
<p><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavServiceHistory" title="">nsINavServiceHistory</a></code>, <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITreeView" title="">nsITreeView</a></code></p>