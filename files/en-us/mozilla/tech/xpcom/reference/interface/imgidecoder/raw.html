<p></p><div style="border: solid #ddd 2px; margin-bottom: 12px;">
<div style="background: #eee; padding: 2px;"><code><a href="https://dxr.mozilla.org/mozilla-central/source/modules/libpr0n/public/imgIDecoder.idl" rel="custom">modules/libpr0n/public/imgIDecoder.idl</a></code><span style="text-align: right; float: right;"><a href="/en-US/docs/Interfaces/About_Scriptable_Interfaces" style="color: #00cc00; font-weight: 700;">Scriptable</a></span></div>
<span style="padding: 4px 2px;">

Base class for a decoder that reads an image from an input stream and sends it to an <a href="/en-US/docs/XPCOM_Interface_Reference/imgILoader">imgILoader</a> object.
</span>

<div style="background: #eee; padding: 2px;">
Inherits from: <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">nsISupports</a></code>
<span style="text-align: right; float: right;">Last changed in Gecko 1.7 </span></div>
</div><p></p>
<p>This interface is the base class for decoders for specific image formats.</p>
<h2 id="Method_overview" name="Method_overview">Method overview</h2>
<table class="standard-table">
 <tbody>
  <tr>
   <td><code>void <a href="#close()">close</a>();</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#flush()">flush</a>();</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#init()">init</a>(in imgILoad aLoad);</code></td>
  </tr>
  <tr>
   <td><code>unsigned long <a href="#writeFrom()">writeFrom</a>(in nsIInputStream inStr, in unsigned long count);</code></td>
  </tr>
 </tbody>
</table>
<h2 id="Methods" name="Methods">Methods</h2>
<h3 id="close()" name="close()">close()</h3>
<p>Closes the stream.</p>
<pre class="eval">void close();
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<p>None.</p>
<h3 id="flush()" name="flush()">flush()</h3>
<p>Flushes the stream.</p>
<pre class="eval">void flush();
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<p>None.</p>
<h3 id="init()" name="init()">init()</h3>
<p>Initializes an image decoder.</p>
<pre class="eval">void init(
  in imgILoad aLoad
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aLoad</code></dt>
 <dd>
  An <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/imgILoad" title="">imgILoad</a></code> object to receive the decoded image data. This object also implements the <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/imgIDecoderObserver" title="">imgIDecoderObserver</a></code> interface; you should <code>QueryInterface()</code> it to that interface and call its notification methods while handling the decode operation. You should always pass null as the first two parameters of the notification APIs.</dd>
</dl>
<h3 id="writeFrom()" name="writeFrom()">writeFrom()</h3>
<p>Writes data into the stream from an input stream.</p>
<div class="note">
 <strong>Implementer's note:</strong> This method is defined by this interface in order to let the output stream efficiently copy the data from the input stream into its internal buffer (if any). If this method was provided as an external facility, a separate <code>char *</code> buffer would need to be used in order to call the output stream's other <code>write()</code> method.</div>
<pre class="eval">unsigned long writeFrom(
  in nsIInputStream inStr,
  in unsigned long count
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>inStr</code></dt>
 <dd>
  The stream from which to read the encoded image data.</dd>
 <dt>
  <code>count</code></dt>
 <dd>
  The maximum number of bytes to write to the image.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>The number of bytes actually written to the image, or <a href="/en/JavaScript/Reference/Global_Objects/undefined" title="undefined"><code>undefined</code></a> if an error occurred.</p>
<h2 id="See_also" name="See_also">See also</h2>
<ul>
 <li><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/imgIDecoderObserver" title="">imgIDecoderObserver</a></code></li>
 <li><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/imgILoad" title="">imgILoad</a></code></li>
</ul>