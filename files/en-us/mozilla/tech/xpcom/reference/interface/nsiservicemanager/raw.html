<p></p><div style="border: solid #ddd 2px; margin-bottom: 12px;">
<div style="background: #eee; padding: 2px;"><code><a href="https://dxr.mozilla.org/mozilla-central/source/xpcom/components/nsIServiceManager.idl" rel="custom">xpcom/components/nsIServiceManager.idl</a></code><span style="text-align: right; float: right;"><a href="/en-US/docs/Interfaces/About_Scriptable_Interfaces" style="color: #00cc00; font-weight: 700;">Scriptable</a></span></div>
<span style="padding: 4px 2px;">

This interface provides a means to obtain global services in an application. The service manager depends on the repository to find and instantiate factories to obtain services.
</span>

<div style="background: #eee; padding: 2px;">
Inherits from: <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">nsISupports</a></code>
<span style="text-align: right; float: right;">Last changed in Gecko 1.0 </span></div>
</div><p></p>

<h2 id="Method_overview" name="Method_overview">Method overview</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td><code>void <a href="#getService()">getService</a>(in nsCIDRef aClass, in nsIIDRef aIID, [iid_is(aIID),retval] out nsQIResult result);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#getServiceByContractID()">getServiceByContractID</a>(in string aContractID, in nsIIDRef aIID, [iid_is(aIID),retval] out nsQIResult result);</code></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#isServiceInstantiated()">isServiceInstantiated</a>(in nsCIDRef aClass, in nsIIDRef aIID);</code></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#isServiceInstantiatedByContractID()">isServiceInstantiatedByContractID</a>(in string aContractID, in nsIIDRef aIID);</code></td>
  </tr>
 </tbody>
</table>

<h2 id="Methods" name="Methods">Methods</h2>

<h3 id="getService()" name="getService()">getService()</h3>

<p>This method returns a reference to a particular XPCOM service given the ClassID of the service. Unlike <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIComponentManager#createInstance()">createInstance</a>, this will always return the same object each time it is called with the same arguments.</p>

<pre class="eval">void getService(
  in nsCIDRef aClass,
  in nsIIDRef aIID,
  [iid_is(aIID),retval] out nsQIResult result
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aClass</code></dt>
 <dd>The ClassID of the service that is being requested.</dd>
 <dt><code>aIID</code></dt>
 <dd>The interface type to be returned.</dd>
 <dt><code>result</code></dt>
 <dd>The resulting interface pointer.</dd>
</dl>

<h6 id="Exceptions_thrown" name="Exceptions_thrown">Exceptions thrown</h6>

<dl>
 <dt><code>NS_ERROR_FACTORY_NOT_REGISTERED</code></dt>
 <dd>Indicates that the specified class is not registered.</dd>
</dl>

<h3 id="getServiceByContractID()" name="getServiceByContractID()">getServiceByContractID()</h3>

<p>This method returns a reference to a particular XPCOM service given the ContractID of the service.</p>

<pre class="eval">void getServiceByContractID(
  in string aContractID,
  in nsIIDRef aIID,
  [iid_is(aIID),retval] out nsQIResult result
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aContractID</code></dt>
 <dd>The ContractID of the service that is being requested.</dd>
 <dt><code>aIID</code></dt>
 <dd>The interface type to be returned.</dd>
 <dt><code>result</code></dt>
 <dd>The resulting interface pointer.</dd>
</dl>

<h6 id="Exceptions_thrown" name="Exceptions_thrown">Exceptions thrown</h6>

<dl>
 <dt><code>NS_ERROR_FACTORY_NOT_REGISTERED</code></dt>
 <dd>Indicates that the specified class is not registered.</dd>
</dl>

<h3 id="isServiceInstantiated()" name="isServiceInstantiated()">isServiceInstantiated()</h3>

<p>This method tests whether or not a XPCOM service, identified by ClassID, has been instantiated.</p>

<pre class="eval">boolean isServiceInstantiated(
  in nsCIDRef aClass,
  in nsIIDRef aIID
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aClass</code></dt>
 <dd>The ClassID of the service that is being tested.</dd>
 <dt><code>aIID</code></dt>
 <dd>The interface type to be tested.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p><code>true</code> if the service has already been created.</p>

<h6 id="Exceptions_thrown" name="Exceptions_thrown">Exceptions thrown</h6>

<dl>
 <dt><code>NS_ERROR_SERVICE_NOT_AVAILABLE</code></dt>
 <dd>Indicates that the service hasn't been instantiated.</dd>
 <dt><code>NS_NOINTERFACE</code></dt>
 <dd>Indicates that the IID given isn't supported.</dd>
</dl>

<h3 id="isServiceInstantiatedByContractID()" name="isServiceInstantiatedByContractID()">isServiceInstantiatedByContractID()</h3>

<p>This method tests whether or not a XPCOM service, identified by ContractID, has been instantiated.</p>

<pre class="eval">boolean isServiceInstantiatedByContractID(
  in string aContractID,
  in nsIIDRef aIID
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aContractID</code></dt>
 <dd>The ContractID of the service that is being tested.</dd>
 <dt><code>aIID</code></dt>
 <dd>The interface type to be tested.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p><code>true</code> if the service has already been created.</p>

<h6 id="Exceptions_thrown" name="Exceptions_thrown">Exceptions thrown</h6>

<dl>
 <dt><code>NS_ERROR_SERVICE_NOT_AVAILABLE</code></dt>
 <dd>Indicates that the service hasn't been instantiated.</dd>
 <dt><code>NS_NOINTERFACE</code></dt>
 <dd>Indicates that the IID given isn't supported.</dd>
</dl>

<h2 id="Remarks" name="Remarks">Remarks</h2>

<p>The service manager depends on the repository to find and instantiate factories to obtain services.</p>

<p>Because services are instantiated lazily, methods are provided to test whether or not a service has already been instantiated.</p>

<p>Users of the service manager must first obtain a pointer to the global service manager by calling <code><a href="/en/NS_GetServiceManager" title="en/NS_GetServiceManager">NS_GetServiceManager</a></code>. After that, they can request specific services by calling <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIServiceManager#getService()">getService()</a></code>. When they are finished they should call <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsISupports#release()">nsISupports.release()</a></code> on the service as they would with any interface pointer. In some language bindings, such as JavaScript, this step is unnecessary. And, moreover such languages typically offer more convenient mechanisms to acquire references to XPCOM services and components.</p>

<p>A user of a service may keep references to services until application shutdown.</p>

<p>This interface was frozen for <span title="">Gecko 1.0</span>. See <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=99147" title="FIXED: nsIServiceManager needs to be frozen">bug 99147</a> for details. From <span title="(Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)">Gecko 2.0</span> interfaces are no longer frozen.</p>

<h2 id="See_also" name="See_also">See also</h2>

<ul>
 <li><a href="/en/NS_GetServiceManager" title="en/NS_GetServiceManager">NS_GetServiceManager</a></li>
 <li><a href="/en/Do_GetService" title="en/Do_GetService">do_GetService</a></li>
 <li><a class="internal" href="/en/XPCOM/mozilla::services_namespace" title="mozilla::services C++ namespace">mozilla::services C++ namespace</a></li>
 <li><a class="internal" href="/en/JavaScript_code_modules/Services.jsm" title="Services.jsm">Services.jsm</a></li>
 <li><code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsISupports#release()">nsISupports.release()</a></code></li>
</ul>