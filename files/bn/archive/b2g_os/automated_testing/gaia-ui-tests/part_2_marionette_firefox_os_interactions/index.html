---
title: দ্বিতীয় অংশঃ Marionette ব্যবহার করে ফায়ারফক্স OS এর মৌলিক ব্যবহার
slug: >-
  Archive/B2G_OS/Automated_testing/gaia-ui-tests/Part_2_Marionette_Firefox_OS_interactions
tags:
  - needs review
  - >-
    tests     Automation     gaia-ui-tests     marionette     Firefox OS    
    B2G     Gaia     Python
translation_of: >-
  Archive/B2G_OS/Automated_testing/gaia-ui-tests/Part_2_Marionette_Firefox_OS_interactions
---
<p></p><div style="text-align: right;" class="prevnext">
    <p><a style="float: left;" href="/bn-BD/docs/Mozilla/Firefox_OS/Platform/Automated_testing/gaia-ui-tests/Part_1_Marionette_Firefox_OS_start" class="button">« Previous</a><a href="/bn-BD/docs/Mozilla/Firefox_OS/Platform/Automated_testing/gaia-ui-tests/Part_3_Reusable_tests" class="button">Next  »</a></p>
</div><p></p>
<div class="summary">
 <p><span class="seoSummary">আমাদের টিউটোরিয়ালের দ্বিতীয় অংশে আমরা কিছু সাধারণ ম্যারিওনেট কমান্ড দিয়ে শুরু করব যা দিয়ে রিমোটলি ফায়ারফক্স OS নিয়ন্ত্রণ করা যায়। এটি কোন টেস্টের সম্পূর্ণ লেখা ধারণ করে না তবে এটি আপনাকে বেসিক কোড ফিচার শেখায় যা টেস্ট লেখার সময় আপনার কাজে লাগবে। তৃতীয় অংশে, আমরা একটি প্রকৃত টেস্টের মাধ্যমে কোডটিকে আরো মার্জিত করার জন্য অগ্রসর হব।  </span></p>
</div>
<h2 id="ফায়ারফক্স_OS_স্টার্ট_আপ">ফায়ারফক্স OS স্টার্ট আপ</h2>
<p>এই টেস্টগুলো লেখার সময় আমাদের আগে থেকেই ফায়ারফক্স OS রান করিয়ে নির্দেশ গ্রহণের জন্য প্রস্তুত রাখা লাগবেঃ</p>
<ol>
 <li>B2G ডেক্সটপ স্টার্ট আপ করুন।</li>
 <li>লক স্ক্রিন নিষ্ক্রয় করুনঃ <em>সেটিং অ্যাপ &gt; স্ক্রিন লক &gt; আনচেক লক স্ক্রিন।</em></li>
 <li> স্ক্রিন টাইম আউট/ স্লিপ মোড নিষ্ক্রিয় করুন এভাবেঃ <em>সেটিং অ্যাপ &gt; ডিসপ্লে &gt; স্ক্রিন টাইমআউট </em>সেটিং <em>নেভার</em> এ দিয়ে।</li>
 <li>উইন্ডোটি পাশে সরিয়ে রেখে আমাদের টেস্ট কমান্ডের জন্য অপেক্ষা করুন।</li>
</ol>
<h2 id="ম্যারিওনেট_ফায়ার_আপ_করা">ম্যারিওনেট ফায়ার আপ করা</h2>
<p>এখন আমরা শুরু করব পাথন কনসোলঃ খুবই সাধারণভাবে একটি টার্মিনাল উইন্ডো ওপেন করে <code>python</code> কমান্ড ইস্যু করুন।</p>
<p>এখান থেকে আমরা ফায়ারফক্স OS এর ভিতরে ম্যারিওনেট সার্ভারে কমান্ড দেওয়া শুরু করতে পারি। নিচের বেশ কিছু কমান্ড ইস্যু করার পর আপনার ফায়ারফক্স OS এর প্রতিক্রিয়া দেখতে পাওয়ার কথা। আমাদের প্রয়োজনীয় কোড সংবলিত লাইব্রেরী ইমপোর্ট করতে ম্যারিওনেটে পাইথন কনসোলে নিচের কমান্ডটি প্রবেশ করানঃ</p>
<pre class="brush: bash">from marionette import Marionette</pre>
<p>এখন নিচের লাইন দুইটি রান করান, যা  ক্লাইন্ট থেকে কমান্ড গ্রহণের জন্য ম্যারিওনেট সেশনকে ইনিশিয়েট করেঃউপরে যেরকম বলা হয়েছে আপনি যদি সেভাবে লক স্ক্রিন নিষ্ক্রিয় না করে থাকেন তবে আপনি প্রোগ্রামের মাধ্যমে তা করতে পারেন এই কমান্ডটি ব্যবহার করেঃ</p>
<pre class="brush: bash">marionette = Marionette()
marionette.start_session()</pre>
<pre class="brush: bash">marionette.execute_script(&apos;window.wrappedJSObject.lockScreen.unlock();&apos;)</pre>
<h2 id="ফায়ারফক্স_OS_এর_মধ্যে_বিভিন্ন_ফ্রেম_প্রবেশ_করানো">ফায়ারফক্স OS এর মধ্যে বিভিন্ন ফ্রেম প্রবেশ করানো<br>
  </h2>
<p>ফায়ারফক্স এ ওয়েব অ্যাপ বিভিন্ন ইনফ্রেমে কাজ করে। ভিন্ন ভিন্ন ইনফ্রেমে (কোন উইন্ডোর মত) ওয়েব অ্যাপ রান করলে তাদের পূর্ণ নিরাপত্তা নিশ্চিত হয় এবং একই সাথে যথাযথ ব্যবস্থাপনাও। অ্যাপ যেখানে রান করে সেটিকে আপনি একটি স্যান্ডবক্সের মত ভাবতে পারেন। শুধুমাত্র ম্যারিওনেটই কোন নির্দিষ্ট সময়ে একটি ফ্রেমে কাজ করতে পারে। আমরা যে ফ্র্রেম নিয়ে কাজ করতে যাচ্ছি তাতে সুইচ হওয়ার জন্য ম্যারিওনেট দরকারঃ</p>
<p>টপ ফ্রেমটিও হল সিস্টেম অ্যাপ। প্রত্যেকটি অ্যাপ এবং তাদের ফ্রেম হল সিস্টেম অ্যাপের আওতাভুক্ত। আমাদের নতুন ম্যারিওনেট সেশন সিস্টেম ফ্রেম স্টার্ট করতে সক্ষম কিন্তু টেস্ট স্টার্ট করার জন্য আমাদের তা খুঁজে হোমস্ক্রিনে সুইচ করার দরকার হবে।</p>
<p>ইনফ্রেম খোঁজার জন্য, আমাদের কোনভাবে এটি নির্দিষ্ট করা লাগবে। যেহেতু ম্যারিওনেট ওয়েব ড্রাইভার API ভিত্তিক, তাই এলিমেন্ট লোকেট করার জন্য এটি একই তথ্য ব্যবহার করে। তাই আমরা ওয়েব ড্রাইভারে ওয়েব এলিমেন্ট নির্দিষ্ট করার জন্য যে কোন তথ্য ব্যবহার করতে পারি। আরো তথ্য জানুন<a href="http://www.w3.org/TR/webdriver/#element-location-strategies"> এলিমেন্ট লোকেশন স্ট্র্যাটিজিজ</a> এ।</p>
<p>এ ক্ষেত্রে আমরা হোমস্ক্রিন ইনফ্রেম সিলেক্ট করার জন্য  CSS সিলেক্টর <code>div.homescreen iframe</code> ব্যবহার করব;<code> find_element()</code> ফাংশনটি এটিকে দ্বিতীয় আর্গুমেন্ট হিসাবে নেয়, প্রথম আর্গুমেন্টটি হল খোঁজ করার জন্য কোন সিলেকশন ম্যাকানিজম ব্যবহৃত হচ্ছে তা নির্ধারণ করা। তারপর আমরা এই ফলাফল কোন একটি ভ্যারিয়েবলে স্টোর করে রাখব এবং আর্গুমেন্ট হিসাবে তা দিয়ে <code>switch_to_frame()ফাংশনটি রান করাব</code>। নিচের দুইটি নির্দেশ এখন অনুসরণ করুনঃ</p>
<pre class="brush: bash"># Switch context to the homescreen iframe and tap on the Contacts app icon
home_frame = marionette.find_element(&apos;css selector&apos;, &apos;div.homescreen iframe&apos;)
marionette.switch_to_frame(home_frame)</pre>
<div class="note notecard">
 <p><strong>নো</strong><strong>টঃ</strong>আরো পড়ার জন্য এবং সুইচিং ফ্রেম  সম্পর্কিত ডায়াগ্রাম জানার জন্য অনুগ্রহ করে পড়ুন<a href="https://blog.mozilla.org/webqa/2013/02/13/part-2-ui-testing-on-firefox-os-working-with-iframes/"> iFrames দিয়ে কাজ করা</a>।</p>
</div>
<h2 id="অ্যাপ্লিকেশন_ওপেন_করা">অ্যাপ্লিকেশন ওপেন করা</h2>
<p>ঠিক আছে। এখন আমরা হোমস্ক্রিন অ্যাপ এ আছি। <code>tap()</code> function এর সাথে আমরা <code>find_element()ব্যবহার করে </code>আইকন এবং ট্যাপকে নির্দিষ্ট করতে পারি।</p>
<pre class="brush: bash">contacts_icon = marionette.find_element(&apos;css selector&apos;, &quot;#footer li[aria-label=&apos;Contacts&apos;]&quot;)
contacts_icon.tap()</pre>
<p>এই কাজগুলো সব ঠিক মত হয়ে থাকলে আপনার এখন কনটেন্টস অ্যাপ ওপেন দেখতে পাওয়ার কথা, কিন্তু কনটেন্ট অ্যাপ ফ্রেম নিয়ে কাজ করার জন্য আমাদের কনটেন্ট অ্যাপ ফ্রেম সুইচ করতে হবে, যেমনটি আমরা আগে হোমস্ক্রিনে করেছিলাম আগেঃ</p>
<pre class="brush: bash"># First, we need to switch context back to the System frame
marionette.switch_to_frame()

# Now, switch context to the contacts app frame
contacts_frame = marionette.find_element(&apos;css selector&apos;, &quot;iframe[data-url*=&apos;contacts&apos;]&quot;)
marionette.switch_to_frame(contacts_frame)</pre>
<p>ফ্রেমে সুইচ করলে তা রিটার্ন করবে <code>True</code>. যদি তা হয়, তাহলে তো খুবই ভাল। এর মানে হল আমরা কন্টেন্টস্ অ্যাপ এর ভেতরে আছি এবং এটি ব্যবহারের জন্য প্রস্তুত।</p>
<h2 id="অ্যাপ_ম্যানিপুলেট_করা">অ্যাপ ম্যানিপুলেট করা</h2>
<p>পরবর্তী ধাপে আমরা একটি টিপিক্যাল টেস্ট টাস্ক পারফর্ম করব — নতুন অ্যাকাউন্ট তৈরি করা, তাতে নাম দেওয়া এবং সেভ করা। প্রথমে, আমরা অ্যাড কনটেন্ট বাটনটি ট্যাপ করবঃ</p>
<pre class="brush: bash"># Tap [+] to add a new Contact
marionette.find_element(&apos;id&apos;, &apos;add-contact-button&apos;).taঞ্জঃএখনNow let’s add the contact&apos;s name using the next two commands (<code>send_keys()</code> is used to insert a value into an element):
</pre>
<pre class="brush: bash">marionette.find_element(&apos;id&apos;, &apos;givenName&apos;).send_keys(&apos;Foo&apos;)
# Add the contact&apos;s surname
marionette.find_element(&apos;id&apos;, &apos;familyName&apos;).send_keys(&apos;Bar&apos;)</pre>
<p>এখন <em>ডান</em> বাটনটি ট্যাপ করুন কনটেন্ট সেভ করার জন্যঃ</p>
<pre class="brush: bash"><code class="language-html">marionette.find_element(&apos;id&apos;, &apos;save-button&apos;).tap()</code></pre>
<p>এবার আপনার কনটেন্টস্ অ্যাপ এর মধ্যে একটি নতুন কনটেন্ট দেখতে পাওয়ার কথা। যদি তাই হয়, দারুণ!</p>
<div class="note notecard">
 <p><strong>নোটঃ</strong> যদি আপনি না দেখেন, কনটেন্ট অ্যাপ পুনস্থাপন করুন অথবা কিল করুন এবং ফায়ারফক্স OS নেভিগেট করে হোমস্ক্রিনে ফিরে যান এবং পুনরায় টাস্কটি রান করার চেষ্টা করুন।</p>
</div>
<h2 id="আপনার_ম্যারিওনেট_সেশন_বন্ধ_করা">আপনার ম্যারিওনেট সেশন বন্ধ করা</h2>
<p>শেষ পর্যন্ত, আপনার নিচের নির্দেশ ইস্যু করার মাধ্যমে ম্যারিওনেট সেশন শেষ করার কথাঃ</p>
<pre class="brush: bash">marionette.delete_session()</pre>
<p>বেশ ভালো কাজ হয়েছে, কিন্তু যখন আপনি টেস্ট রান করানোর সময় আপনি পাইথন কনসোলে টাইপ করতে পারবেন না। তৃতীয় অংশে, আমরা স্ক্রিপ্টটি পাইথন ফাইলে কম্পাইল করব যা আমরা প্রতিবার ব্যবহার করতে করতে পারব যখনই আমরা টেস্ট রান করাব। আমরা একটি অ্যাসারশনও যুক্ত করব যাতে আমরা বুঝতে পারি টেস্ট সফল নাকি বিফল হয়েছ।</p>
<div class="note notecard">
 <p><strong>নোটঃ</strong> ম্যারিওনেট লেখার সময়, আপনি নিশ্চয় খেয়াল করে থাকবেন আপনার সমাধান খুঁজে বের করার জন্য কোন অ্যাপের HTMLস্ট্রাকচার এর আওতায় প্রবেশ করা জরুরি। <a href="https://developer.mozilla.org/en-US/Firefox_OS/Platform/Automated_testing/gaia-ui-tests/Part_7_Writing_your_own_tests#Resources">সপ্তম অংশঃ আপনার নিজের টেস্ট লেখা</a> আপনার সাহায্যার্থে কিছু প্রয়োজনীয় রিসোর্স দেয়।</p>
</div>
<p> </p>
